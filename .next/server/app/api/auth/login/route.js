"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/login/route";
exports.ids = ["app/api/auth/login/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.ts&appDir=C%3A%5CUsers%5Cadhit%5CDesktop%5Clms-platform%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cadhit%5CDesktop%5Clms-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.ts&appDir=C%3A%5CUsers%5Cadhit%5CDesktop%5Clms-platform%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cadhit%5CDesktop%5Clms-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var C_Users_adhit_Desktop_lms_platform_src_app_api_auth_login_route_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/app/api/auth/login/route.ts */ \"(rsc)/./src/app/api/auth/login/route.ts\");\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/login/route\",\n        pathname: \"/api/auth/login\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/login/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\adhit\\\\Desktop\\\\lms-platform\\\\src\\\\app\\\\api\\\\auth\\\\login\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_adhit_Desktop_lms_platform_src_app_api_auth_login_route_ts__WEBPACK_IMPORTED_MODULE_2__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/auth/login/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGbG9naW4lMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkZsb2dpbiUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkZsb2dpbiUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNhZGhpdCU1Q0Rlc2t0b3AlNUNsbXMtcGxhdGZvcm0lNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q2FkaGl0JTVDRGVza3RvcCU1Q2xtcy1wbGF0Zm9ybSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDMkM7QUFDMUc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDaUo7O0FBRWpKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbG1zLXBsYXRmb3JtLz9kOGQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXGFkaGl0XFxcXERlc2t0b3BcXFxcbG1zLXBsYXRmb3JtXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGF1dGhcXFxcbG9naW5cXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2F1dGgvbG9naW4vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRoL2xvZ2luXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hdXRoL2xvZ2luL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcYWRoaXRcXFxcRGVza3RvcFxcXFxsbXMtcGxhdGZvcm1cXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcYXV0aFxcXFxsb2dpblxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9hdXRoL2xvZ2luL3JvdXRlXCI7XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.ts&appDir=C%3A%5CUsers%5Cadhit%5CDesktop%5Clms-platform%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cadhit%5CDesktop%5Clms-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/auth/login/route.ts":
/*!*****************************************!*\
  !*** ./src/app/api/auth/login/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./src/lib/auth.ts\");\n/* harmony import */ var _lib_security__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/security */ \"(rsc)/./src/lib/security.ts\");\n/* harmony import */ var _lib_brute_force_protection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/brute-force-protection */ \"(rsc)/./src/lib/brute-force-protection.ts\");\n/* harmony import */ var _lib_threat_detection__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/threat-detection */ \"(rsc)/./src/lib/threat-detection.ts\");\n/* harmony import */ var _lib_edge_logger__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/edge-logger */ \"(rsc)/./src/lib/edge-logger.ts\");\n\n\n\n\n\n\nasync function POST(request) {\n    try {\n        // Rate limiting - stricter for login\n        const clientIP = (0,_lib_security__WEBPACK_IMPORTED_MODULE_2__.getClientIP)(request);\n        // Check brute force protection\n        if ((0,_lib_brute_force_protection__WEBPACK_IMPORTED_MODULE_3__.isIPBlocked)(clientIP)) {\n            _lib_edge_logger__WEBPACK_IMPORTED_MODULE_5__.securityLogger.logSecurityEvent(\"Blocked IP attempted login\", {\n                ip: clientIP\n            });\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Too many failed login attempts. Please try again later.\"\n            }, {\n                status: 429\n            });\n        }\n        const rateLimitResult = (0,_lib_security__WEBPACK_IMPORTED_MODULE_2__.rateLimit)(`login:${clientIP}`, 5, 15 * 60 * 1000); // 5 attempts per 15 minutes\n        if (!rateLimitResult.allowed) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Too many login attempts. Please try again later.\"\n            }, {\n                status: 429,\n                headers: {\n                    \"Retry-After\": Math.ceil((rateLimitResult.resetTime - Date.now()) / 1000).toString()\n                }\n            });\n        }\n        // Validate request body size\n        const body = await request.text();\n        if (!(0,_lib_security__WEBPACK_IMPORTED_MODULE_2__.validateBodySize)(body, 512)) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Request body too large\"\n            }, {\n                status: 413\n            });\n        }\n        let data;\n        try {\n            data = JSON.parse(body);\n        } catch (e) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Invalid JSON in request body\"\n            }, {\n                status: 400\n            });\n        }\n        let { email, password, role } = data;\n        if (!email || !password) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Email and password are required\"\n            }, {\n                status: 400\n            });\n        }\n        // Sanitize and validate email\n        email = (0,_lib_security__WEBPACK_IMPORTED_MODULE_2__.sanitizeString)(email.toLowerCase(), 255);\n        if (!(0,_lib_security__WEBPACK_IMPORTED_MODULE_2__.validateEmail)(email)) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Invalid email format\"\n            }, {\n                status: 400\n            });\n        }\n        // Validate password length\n        if (typeof password !== \"string\" || password.length < 1 || password.length > 128) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Invalid password\"\n            }, {\n                status: 400\n            });\n        }\n        console.log(\"Attempting to authenticate student:\", email);\n        // Force student role for student portal\n        const requiredRole = role || \"student\";\n        const user = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.authenticateUser)(email, password, requiredRole);\n        if (!user) {\n            console.log(\"Authentication failed: Invalid email or password\");\n            // Record failed attempt\n            const attemptResult = (0,_lib_brute_force_protection__WEBPACK_IMPORTED_MODULE_3__.recordFailedAttempt)(clientIP, email);\n            _lib_edge_logger__WEBPACK_IMPORTED_MODULE_5__.securityLogger.logFailedAuth(clientIP, email, \"Invalid credentials\");\n            (0,_lib_threat_detection__WEBPACK_IMPORTED_MODULE_4__.reportSecurityIncident)(clientIP, \"Failed login attempt\", {\n                email\n            }, \"low\");\n            // Add delay for failed attempt (progressive delay)\n            if (attemptResult.delayMs > 0) {\n                await new Promise((resolve)=>setTimeout(resolve, attemptResult.delayMs));\n            }\n            const response = next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Invalid email or password\",\n                remainingAttempts: attemptResult.remainingAttempts,\n                ...attemptResult.blocked && {\n                    blocked: true,\n                    blockDuration: Math.ceil((attemptResult.blockDuration || 0) / 1000 / 60)\n                }\n            }, {\n                status: 401\n            });\n            return response;\n        }\n        console.log(\"User authenticated:\", {\n            id: user.id,\n            email: user.email,\n            role: user.role\n        });\n        // Only allow student role for student portal\n        if (user.role !== requiredRole) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: `This account does not have the required '${requiredRole}' role.`\n            }, {\n                status: 403\n            });\n        }\n        if (!user.isActive) {\n            console.log(\"Account is deactivated:\", user.email);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Account is deactivated. Please contact administrator.\"\n            }, {\n                status: 403\n            });\n        }\n        // Record successful login (clear failed attempts)\n        (0,_lib_brute_force_protection__WEBPACK_IMPORTED_MODULE_3__.recordSuccessfulLogin)(clientIP, email);\n        _lib_edge_logger__WEBPACK_IMPORTED_MODULE_5__.securityLogger.logSuccessfulAuth(clientIP, email);\n        // Create session with user data\n        console.log(\"Creating session for user:\", user.id);\n        const sessionToken = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.createSession)(user.id, undefined, user);\n        console.log(\"Session created, token length:\", sessionToken.length);\n        // Redirect based on role\n        const redirectUrl = user.role === \"admin\" ? \"/dashboard\" : \"/student\";\n        console.log(\"=== LOGIN API SUCCESS - Redirecting to:\", redirectUrl);\n        const jsonResponse = next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            message: \"Login successful\",\n            user: {\n                id: user.id,\n                name: user.name,\n                email: user.email,\n                phone: user.phone || null,\n                bio: user.bio || null,\n                role: user.role,\n                isActive: user.isActive,\n                faceIdEnrolled: user.faceIdEnrolled || false,\n                fingerprintEnrolled: user.fingerprintEnrolled || false,\n                twoFactorEnabled: user.twoFactorEnabled || false,\n                joinedDate: user.joinedDate ? new Date(user.joinedDate).toISOString() : null\n            },\n            redirectUrl: redirectUrl\n        });\n        // Set cookie in JSON response\n        const cookieName = user.role === \"admin\" ? \"adminToken\" : \"token\";\n        jsonResponse.cookies.set(cookieName, sessionToken, {\n            httpOnly: true,\n            sameSite: \"lax\",\n            secure: false,\n            path: \"/\",\n            maxAge: 7 * 24 * 60 * 60,\n            domain: undefined\n        });\n        console.log(\"✓ Cookie set in JSON response for user:\", user.email);\n        console.log(\"✓ Redirect URL in response:\", redirectUrl);\n        return jsonResponse;\n    } catch (error) {\n        console.error(\"Login error:\", error);\n        console.error(\"Error details:\", {\n            message: error?.message,\n            code: error?.code,\n            detail: error?.detail\n        });\n        // Handle database connection errors\n        if (error?.message?.includes(\"DATABASE_URL\") || error?.message?.includes(\"connection\") || error?.code === \"ECONNREFUSED\") {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Database connection error. Please check your DATABASE_URL in .env.local\",\n                error:  true ? error.message : 0\n            }, {\n                status: 500\n            });\n        }\n        // Handle table not found errors (migrations not run)\n        if (error?.message?.includes(\"does not exist\") || error?.code === \"42P01\") {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Database tables not found. Please run migrations: npx drizzle-kit migrate\",\n                error:  true ? error.message : 0\n            }, {\n                status: 500\n            });\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            message: \"Internal server error\",\n            error:  true ? error.message : 0\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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L2F1dGgvbG9naW4vcm91dGUudHM/ZDMxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgYXV0aGVudGljYXRlVXNlciwgY3JlYXRlU2Vzc2lvbiB9IGZyb20gJ0AvbGliL2F1dGgnO1xuaW1wb3J0IHsgc2FuaXRpemVTdHJpbmcsIHZhbGlkYXRlRW1haWwsIGdldENsaWVudElQLCByYXRlTGltaXQsIHZhbGlkYXRlQm9keVNpemUgfSBmcm9tICdAL2xpYi9zZWN1cml0eSc7XG5pbXBvcnQgeyBcbiAgaXNJUEJsb2NrZWQsIFxuICBpc1VzZXJuYW1lQmxvY2tlZCwgXG4gIHJlY29yZEZhaWxlZEF0dGVtcHQsIFxuICByZWNvcmRTdWNjZXNzZnVsTG9naW4gXG59IGZyb20gJ0AvbGliL2JydXRlLWZvcmNlLXByb3RlY3Rpb24nO1xuaW1wb3J0IHsgcmVwb3J0U2VjdXJpdHlJbmNpZGVudCB9IGZyb20gJ0AvbGliL3RocmVhdC1kZXRlY3Rpb24nO1xuaW1wb3J0IHsgc2VjdXJpdHlMb2dnZXIgfSBmcm9tICdAL2xpYi9lZGdlLWxvZ2dlcic7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgLy8gUmF0ZSBsaW1pdGluZyAtIHN0cmljdGVyIGZvciBsb2dpblxuICAgIGNvbnN0IGNsaWVudElQID0gZ2V0Q2xpZW50SVAocmVxdWVzdCk7XG4gICAgXG4gICAgLy8gQ2hlY2sgYnJ1dGUgZm9yY2UgcHJvdGVjdGlvblxuICAgIGlmIChpc0lQQmxvY2tlZChjbGllbnRJUCkpIHtcbiAgICAgIHNlY3VyaXR5TG9nZ2VyLmxvZ1NlY3VyaXR5RXZlbnQoJ0Jsb2NrZWQgSVAgYXR0ZW1wdGVkIGxvZ2luJywgeyBpcDogY2xpZW50SVAgfSk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgbWVzc2FnZTogJ1RvbyBtYW55IGZhaWxlZCBsb2dpbiBhdHRlbXB0cy4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MjkgfVxuICAgICAgKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcmF0ZUxpbWl0UmVzdWx0ID0gcmF0ZUxpbWl0KGBsb2dpbjoke2NsaWVudElQfWAsIDUsIDE1ICogNjAgKiAxMDAwKTsgLy8gNSBhdHRlbXB0cyBwZXIgMTUgbWludXRlc1xuICAgIGlmICghcmF0ZUxpbWl0UmVzdWx0LmFsbG93ZWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBtZXNzYWdlOiAnVG9vIG1hbnkgbG9naW4gYXR0ZW1wdHMuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyB9LFxuICAgICAgICB7IFxuICAgICAgICAgIHN0YXR1czogNDI5LFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdSZXRyeS1BZnRlcic6IE1hdGguY2VpbCgocmF0ZUxpbWl0UmVzdWx0LnJlc2V0VGltZSAtIERhdGUubm93KCkpIC8gMTAwMCkudG9TdHJpbmcoKSxcbiAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHJlcXVlc3QgYm9keSBzaXplXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QudGV4dCgpO1xuICAgIGlmICghdmFsaWRhdGVCb2R5U2l6ZShib2R5LCA1MTIpKSB7IC8vIDUxMiBieXRlcyBtYXhcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBtZXNzYWdlOiAnUmVxdWVzdCBib2R5IHRvbyBsYXJnZScgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQxMyB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGxldCBkYXRhO1xuICAgIHRyeSB7XG4gICAgICBkYXRhID0gSlNPTi5wYXJzZShib2R5KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgbWVzc2FnZTogJ0ludmFsaWQgSlNPTiBpbiByZXF1ZXN0IGJvZHknIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG4gICAgbGV0IHsgZW1haWwsIHBhc3N3b3JkLCByb2xlIH0gPSBkYXRhO1xuXG4gICAgaWYgKCFlbWFpbCB8fCAhcGFzc3dvcmQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBtZXNzYWdlOiAnRW1haWwgYW5kIHBhc3N3b3JkIGFyZSByZXF1aXJlZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFNhbml0aXplIGFuZCB2YWxpZGF0ZSBlbWFpbFxuICAgIGVtYWlsID0gc2FuaXRpemVTdHJpbmcoZW1haWwudG9Mb3dlckNhc2UoKSwgMjU1KTtcbiAgICBpZiAoIXZhbGlkYXRlRW1haWwoZW1haWwpKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgbWVzc2FnZTogJ0ludmFsaWQgZW1haWwgZm9ybWF0JyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgcGFzc3dvcmQgbGVuZ3RoXG4gICAgaWYgKHR5cGVvZiBwYXNzd29yZCAhPT0gJ3N0cmluZycgfHwgcGFzc3dvcmQubGVuZ3RoIDwgMSB8fCBwYXNzd29yZC5sZW5ndGggPiAxMjgpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBtZXNzYWdlOiAnSW52YWxpZCBwYXNzd29yZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdBdHRlbXB0aW5nIHRvIGF1dGhlbnRpY2F0ZSBzdHVkZW50OicsIGVtYWlsKTtcbiAgICBcbiAgICAvLyBGb3JjZSBzdHVkZW50IHJvbGUgZm9yIHN0dWRlbnQgcG9ydGFsXG4gICAgY29uc3QgcmVxdWlyZWRSb2xlID0gcm9sZSB8fCAnc3R1ZGVudCc7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IGF1dGhlbnRpY2F0ZVVzZXIoZW1haWwsIHBhc3N3b3JkLCByZXF1aXJlZFJvbGUpO1xuXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICBjb25zb2xlLmxvZygnQXV0aGVudGljYXRpb24gZmFpbGVkOiBJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkJyk7XG4gICAgICBcbiAgICAgIC8vIFJlY29yZCBmYWlsZWQgYXR0ZW1wdFxuICAgICAgY29uc3QgYXR0ZW1wdFJlc3VsdCA9IHJlY29yZEZhaWxlZEF0dGVtcHQoY2xpZW50SVAsIGVtYWlsKTtcbiAgICAgIHNlY3VyaXR5TG9nZ2VyLmxvZ0ZhaWxlZEF1dGgoY2xpZW50SVAsIGVtYWlsLCAnSW52YWxpZCBjcmVkZW50aWFscycpO1xuICAgICAgcmVwb3J0U2VjdXJpdHlJbmNpZGVudChjbGllbnRJUCwgJ0ZhaWxlZCBsb2dpbiBhdHRlbXB0JywgeyBlbWFpbCB9LCAnbG93Jyk7XG4gICAgICBcbiAgICAgIC8vIEFkZCBkZWxheSBmb3IgZmFpbGVkIGF0dGVtcHQgKHByb2dyZXNzaXZlIGRlbGF5KVxuICAgICAgaWYgKGF0dGVtcHRSZXN1bHQuZGVsYXlNcyA+IDApIHtcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGF0dGVtcHRSZXN1bHQuZGVsYXlNcykpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IFxuICAgICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkJyxcbiAgICAgICAgICByZW1haW5pbmdBdHRlbXB0czogYXR0ZW1wdFJlc3VsdC5yZW1haW5pbmdBdHRlbXB0cyxcbiAgICAgICAgICAuLi4oYXR0ZW1wdFJlc3VsdC5ibG9ja2VkICYmIHtcbiAgICAgICAgICAgIGJsb2NrZWQ6IHRydWUsXG4gICAgICAgICAgICBibG9ja0R1cmF0aW9uOiBNYXRoLmNlaWwoKGF0dGVtcHRSZXN1bHQuYmxvY2tEdXJhdGlvbiB8fCAwKSAvIDEwMDAgLyA2MCksIC8vIG1pbnV0ZXNcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgICApO1xuICAgICAgXG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ1VzZXIgYXV0aGVudGljYXRlZDonLCB7IGlkOiB1c2VyLmlkLCBlbWFpbDogdXNlci5lbWFpbCwgcm9sZTogdXNlci5yb2xlIH0pO1xuXG4gICAgLy8gT25seSBhbGxvdyBzdHVkZW50IHJvbGUgZm9yIHN0dWRlbnQgcG9ydGFsXG4gICAgaWYgKHVzZXIucm9sZSAhPT0gcmVxdWlyZWRSb2xlKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgbWVzc2FnZTogYFRoaXMgYWNjb3VudCBkb2VzIG5vdCBoYXZlIHRoZSByZXF1aXJlZCAnJHtyZXF1aXJlZFJvbGV9JyByb2xlLmAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMyB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghdXNlci5pc0FjdGl2ZSkge1xuICAgICAgY29uc29sZS5sb2coJ0FjY291bnQgaXMgZGVhY3RpdmF0ZWQ6JywgdXNlci5lbWFpbCk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgbWVzc2FnZTogJ0FjY291bnQgaXMgZGVhY3RpdmF0ZWQuIFBsZWFzZSBjb250YWN0IGFkbWluaXN0cmF0b3IuJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAzIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gUmVjb3JkIHN1Y2Nlc3NmdWwgbG9naW4gKGNsZWFyIGZhaWxlZCBhdHRlbXB0cylcbiAgICByZWNvcmRTdWNjZXNzZnVsTG9naW4oY2xpZW50SVAsIGVtYWlsKTtcbiAgICBzZWN1cml0eUxvZ2dlci5sb2dTdWNjZXNzZnVsQXV0aChjbGllbnRJUCwgZW1haWwpO1xuXG4gICAgLy8gQ3JlYXRlIHNlc3Npb24gd2l0aCB1c2VyIGRhdGFcbiAgICBjb25zb2xlLmxvZygnQ3JlYXRpbmcgc2Vzc2lvbiBmb3IgdXNlcjonLCB1c2VyLmlkKTtcbiAgICBjb25zdCBzZXNzaW9uVG9rZW4gPSBhd2FpdCBjcmVhdGVTZXNzaW9uKHVzZXIuaWQsIHVuZGVmaW5lZCwgdXNlcik7XG4gICAgY29uc29sZS5sb2coJ1Nlc3Npb24gY3JlYXRlZCwgdG9rZW4gbGVuZ3RoOicsIHNlc3Npb25Ub2tlbi5sZW5ndGgpO1xuXG4gICAgLy8gUmVkaXJlY3QgYmFzZWQgb24gcm9sZVxuICAgIGNvbnN0IHJlZGlyZWN0VXJsID0gdXNlci5yb2xlID09PSAnYWRtaW4nID8gJy9kYXNoYm9hcmQnIDogJy9zdHVkZW50JztcbiAgICBjb25zb2xlLmxvZygnPT09IExPR0lOIEFQSSBTVUNDRVNTIC0gUmVkaXJlY3RpbmcgdG86JywgcmVkaXJlY3RVcmwpO1xuXG4gICAgY29uc3QganNvblJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgbWVzc2FnZTogJ0xvZ2luIHN1Y2Nlc3NmdWwnLFxuICAgICAgdXNlcjoge1xuICAgICAgICBpZDogdXNlci5pZCxcbiAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgcGhvbmU6IHVzZXIucGhvbmUgfHwgbnVsbCxcbiAgICAgICAgYmlvOiB1c2VyLmJpbyB8fCBudWxsLFxuICAgICAgICByb2xlOiB1c2VyLnJvbGUsXG4gICAgICAgIGlzQWN0aXZlOiB1c2VyLmlzQWN0aXZlLFxuICAgICAgICBmYWNlSWRFbnJvbGxlZDogdXNlci5mYWNlSWRFbnJvbGxlZCB8fCBmYWxzZSxcbiAgICAgICAgZmluZ2VycHJpbnRFbnJvbGxlZDogdXNlci5maW5nZXJwcmludEVucm9sbGVkIHx8IGZhbHNlLFxuICAgICAgICB0d29GYWN0b3JFbmFibGVkOiB1c2VyLnR3b0ZhY3RvckVuYWJsZWQgfHwgZmFsc2UsXG4gICAgICAgIGpvaW5lZERhdGU6IHVzZXIuam9pbmVkRGF0ZSA/IG5ldyBEYXRlKHVzZXIuam9pbmVkRGF0ZSkudG9JU09TdHJpbmcoKSA6IG51bGwsXG4gICAgICB9LFxuICAgICAgcmVkaXJlY3RVcmw6IHJlZGlyZWN0VXJsLFxuICAgIH0pO1xuICAgIFxuICAgIC8vIFNldCBjb29raWUgaW4gSlNPTiByZXNwb25zZVxuICAgIGNvbnN0IGNvb2tpZU5hbWUgPSB1c2VyLnJvbGUgPT09ICdhZG1pbicgPyAnYWRtaW5Ub2tlbicgOiAndG9rZW4nO1xuICAgIGpzb25SZXNwb25zZS5jb29raWVzLnNldChjb29raWVOYW1lLCBzZXNzaW9uVG9rZW4sIHtcbiAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgc2FtZVNpdGU6ICdsYXgnLFxuICAgICAgc2VjdXJlOiBmYWxzZSwgLy8gU2V0IHRvIGZhbHNlIGZvciBsb2NhbGhvc3QgZGV2ZWxvcG1lbnQgKGh0dHA6Ly8pXG4gICAgICBwYXRoOiAnLycsXG4gICAgICBtYXhBZ2U6IDcgKiAyNCAqIDYwICogNjAsIC8vIDcgZGF5c1xuICAgICAgZG9tYWluOiB1bmRlZmluZWQsIC8vIERvbid0IHNldCBkb21haW4gZm9yIGxvY2FsaG9zdFxuICAgIH0pO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCfinJMgQ29va2llIHNldCBpbiBKU09OIHJlc3BvbnNlIGZvciB1c2VyOicsIHVzZXIuZW1haWwpO1xuICAgIGNvbnNvbGUubG9nKCfinJMgUmVkaXJlY3QgVVJMIGluIHJlc3BvbnNlOicsIHJlZGlyZWN0VXJsKTtcblxuICAgIHJldHVybiBqc29uUmVzcG9uc2U7XG5cbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0xvZ2luIGVycm9yOicsIGVycm9yKTtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZXRhaWxzOicsIHtcbiAgICAgIG1lc3NhZ2U6IGVycm9yPy5tZXNzYWdlLFxuICAgICAgY29kZTogZXJyb3I/LmNvZGUsXG4gICAgICBkZXRhaWw6IGVycm9yPy5kZXRhaWwsXG4gICAgfSk7XG5cbiAgICAvLyBIYW5kbGUgZGF0YWJhc2UgY29ubmVjdGlvbiBlcnJvcnNcbiAgICBpZiAoZXJyb3I/Lm1lc3NhZ2U/LmluY2x1ZGVzKCdEQVRBQkFTRV9VUkwnKSB8fCBcbiAgICAgICAgZXJyb3I/Lm1lc3NhZ2U/LmluY2x1ZGVzKCdjb25uZWN0aW9uJykgfHxcbiAgICAgICAgZXJyb3I/LmNvZGUgPT09ICdFQ09OTlJFRlVTRUQnKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgXG4gICAgICAgICAgbWVzc2FnZTogJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZXJyb3IuIFBsZWFzZSBjaGVjayB5b3VyIERBVEFCQVNFX1VSTCBpbiAuZW52LmxvY2FsJyxcbiAgICAgICAgICBlcnJvcjogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyBlcnJvci5tZXNzYWdlIDogdW5kZWZpbmVkXG4gICAgICAgIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgdGFibGUgbm90IGZvdW5kIGVycm9ycyAobWlncmF0aW9ucyBub3QgcnVuKVxuICAgIGlmIChlcnJvcj8ubWVzc2FnZT8uaW5jbHVkZXMoJ2RvZXMgbm90IGV4aXN0JykgfHwgXG4gICAgICAgIGVycm9yPy5jb2RlID09PSAnNDJQMDEnKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgXG4gICAgICAgICAgbWVzc2FnZTogJ0RhdGFiYXNlIHRhYmxlcyBub3QgZm91bmQuIFBsZWFzZSBydW4gbWlncmF0aW9uczogbnB4IGRyaXp6bGUta2l0IG1pZ3JhdGUnLFxuICAgICAgICAgIGVycm9yOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IGVycm9yLm1lc3NhZ2UgOiB1bmRlZmluZWRcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgXG4gICAgICAgIG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InLFxuICAgICAgICBlcnJvcjogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyBlcnJvci5tZXNzYWdlIDogdW5kZWZpbmVkXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImF1dGhlbnRpY2F0ZVVzZXIiLCJjcmVhdGVTZXNzaW9uIiwic2FuaXRpemVTdHJpbmciLCJ2YWxpZGF0ZUVtYWlsIiwiZ2V0Q2xpZW50SVAiLCJyYXRlTGltaXQiLCJ2YWxpZGF0ZUJvZHlTaXplIiwiaXNJUEJsb2NrZWQiLCJyZWNvcmRGYWlsZWRBdHRlbXB0IiwicmVjb3JkU3VjY2Vzc2Z1bExvZ2luIiwicmVwb3J0U2VjdXJpdHlJbmNpZGVudCIsInNlY3VyaXR5TG9nZ2VyIiwiUE9TVCIsInJlcXVlc3QiLCJjbGllbnRJUCIsImxvZ1NlY3VyaXR5RXZlbnQiLCJpcCIsImpzb24iLCJtZXNzYWdlIiwic3RhdHVzIiwicmF0ZUxpbWl0UmVzdWx0IiwiYWxsb3dlZCIsImhlYWRlcnMiLCJNYXRoIiwiY2VpbCIsInJlc2V0VGltZSIsIkRhdGUiLCJub3ciLCJ0b1N0cmluZyIsImJvZHkiLCJ0ZXh0IiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsImUiLCJlbWFpbCIsInBhc3N3b3JkIiwicm9sZSIsInRvTG93ZXJDYXNlIiwibGVuZ3RoIiwiY29uc29sZSIsImxvZyIsInJlcXVpcmVkUm9sZSIsInVzZXIiLCJhdHRlbXB0UmVzdWx0IiwibG9nRmFpbGVkQXV0aCIsImRlbGF5TXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJyZXNwb25zZSIsInJlbWFpbmluZ0F0dGVtcHRzIiwiYmxvY2tlZCIsImJsb2NrRHVyYXRpb24iLCJpZCIsImlzQWN0aXZlIiwibG9nU3VjY2Vzc2Z1bEF1dGgiLCJzZXNzaW9uVG9rZW4iLCJ1bmRlZmluZWQiLCJyZWRpcmVjdFVybCIsImpzb25SZXNwb25zZSIsIm5hbWUiLCJwaG9uZSIsImJpbyIsImZhY2VJZEVucm9sbGVkIiwiZmluZ2VycHJpbnRFbnJvbGxlZCIsInR3b0ZhY3RvckVuYWJsZWQiLCJqb2luZWREYXRlIiwidG9JU09TdHJpbmciLCJjb29raWVOYW1lIiwiY29va2llcyIsInNldCIsImh0dHBPbmx5Iiwic2FtZVNpdGUiLCJzZWN1cmUiLCJwYXRoIiwibWF4QWdlIiwiZG9tYWluIiwiZXJyb3IiLCJjb2RlIiwiZGV0YWlsIiwiaW5jbHVkZXMiLCJwcm9jZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/auth/login/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authenticateUser: () => (/* binding */ authenticateUser),\n/* harmony export */   createSession: () => (/* binding */ createSession),\n/* harmony export */   createUser: () => (/* binding */ createUser),\n/* harmony export */   destroyAllUserSessions: () => (/* binding */ destroyAllUserSessions),\n/* harmony export */   destroySession: () => (/* binding */ destroySession),\n/* harmony export */   generateResetToken: () => (/* binding */ generateResetToken),\n/* harmony export */   generateToken: () => (/* binding */ generateToken),\n/* harmony export */   getUserAccounts: () => (/* binding */ getUserAccounts),\n/* harmony export */   hashPassword: () => (/* binding */ hashPassword),\n/* harmony export */   resetPassword: () => (/* binding */ resetPassword),\n/* harmony export */   validateSession: () => (/* binding */ validateSession),\n/* harmony export */   verifyPassword: () => (/* binding */ verifyPassword),\n/* harmony export */   verifyResetToken: () => (/* binding */ verifyResetToken),\n/* harmony export */   verifyToken: () => (/* binding */ verifyToken)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./db */ \"(rsc)/./src/lib/db/index.ts\");\n/* harmony import */ var _db_schema__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./db/schema */ \"(rsc)/./src/lib/db/schema.ts\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/sql/expressions/conditions.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/sql/sql.js\");\n/* harmony import */ var _security__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./security */ \"(rsc)/./src/lib/security.ts\");\n\n\n\n\n\n\n// JWT_SECRET must be set - no fallback for security\nfunction getJWTSecret() {\n    if (!process.env.JWT_SECRET || process.env.JWT_SECRET === \"your-secret-key\") {\n        if (false) {}\n        // Use a default secret in development only (for hot reload)\n        console.warn(\"⚠️ Using default JWT_SECRET in development. Set JWT_SECRET in .env.local for production.\");\n        return \"dev-secret-key-change-this-in-production-at-least-32-chars-long\";\n    }\n    if (process.env.JWT_SECRET.length < 32) {\n        throw new Error(\"JWT_SECRET must be at least 32 characters long\");\n    }\n    return process.env.JWT_SECRET;\n}\nconst JWT_SECRET = getJWTSecret();\nconst JWT_EXPIRES_IN = \"7d\";\nasync function hashPassword(password) {\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].hash(password, 12);\n}\nasync function verifyPassword(password, hashedPassword) {\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].compare(password, hashedPassword);\n}\nfunction generateToken(user) {\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().sign({\n        id: user.id,\n        name: user.name,\n        email: user.email,\n        role: user.role,\n        isActive: user.isActive\n    }, JWT_SECRET, {\n        expiresIn: JWT_EXPIRES_IN\n    });\n}\nfunction verifyToken(token) {\n    try {\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(token, JWT_SECRET);\n        return {\n            id: decoded.id,\n            name: decoded.name,\n            email: decoded.email,\n            phone: decoded.phone || null,\n            bio: decoded.bio || null,\n            role: decoded.role,\n            isActive: decoded.isActive,\n            faceIdEnrolled: decoded.faceIdEnrolled || false,\n            fingerprintEnrolled: decoded.fingerprintEnrolled || false,\n            twoFactorEnabled: decoded.twoFactorEnabled || false,\n            joinedDate: decoded.joinedDate || null\n        };\n    } catch (error) {\n        return null;\n    }\n}\nasync function createSession(userId, deviceInfo, userData) {\n    // Get database instance\n    const db = (0,_db__WEBPACK_IMPORTED_MODULE_2__.getDatabase)();\n    // Get user data if not provided\n    let user;\n    if (userData) {\n        user = userData;\n    } else {\n        const userResult = await db.select().from(_db_schema__WEBPACK_IMPORTED_MODULE_3__.users).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_3__.users.id, userId)).limit(1);\n        if (!userResult.length) {\n            throw new Error(\"User not found\");\n        }\n        user = {\n            id: userResult[0].id,\n            name: userResult[0].name,\n            email: userResult[0].email,\n            phone: userResult[0].phone || null,\n            bio: userResult[0].bio || null,\n            role: userResult[0].role,\n            isActive: userResult[0].isActive,\n            faceIdEnrolled: userResult[0].faceIdEnrolled || false,\n            fingerprintEnrolled: userResult[0].fingerprintEnrolled || false,\n            twoFactorEnabled: userResult[0].twoFactorEnabled || false,\n            joinedDate: userResult[0].joinedDate || null\n        };\n    }\n    const sessionToken = generateToken(user);\n    const expiresAt = new Date(Date.now() + 7 * 24 * 60 * 60 * 1000); // 7 days\n    await db.insert(_db_schema__WEBPACK_IMPORTED_MODULE_3__.sessions).values({\n        userId,\n        sessionToken,\n        deviceInfo: deviceInfo ? JSON.stringify(deviceInfo) : null,\n        expiresAt\n    });\n    return sessionToken;\n}\nasync function validateSession(sessionToken) {\n    const user = verifyToken(sessionToken);\n    if (!user) return null;\n    // Get database instance\n    const db = (0,_db__WEBPACK_IMPORTED_MODULE_2__.getDatabase)();\n    // Check if session exists in database\n    const session = await db.select().from(_db_schema__WEBPACK_IMPORTED_MODULE_3__.sessions).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_3__.sessions.sessionToken, sessionToken), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_3__.sessions.userId, user.id))).limit(1);\n    if (!session.length || session[0].expiresAt < new Date()) {\n        return null;\n    }\n    return user;\n}\nasync function destroySession(sessionToken) {\n    const db = (0,_db__WEBPACK_IMPORTED_MODULE_2__.getDatabase)();\n    await db.delete(_db_schema__WEBPACK_IMPORTED_MODULE_3__.sessions).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_3__.sessions.sessionToken, sessionToken));\n}\nasync function destroyAllUserSessions(userId) {\n    const db = (0,_db__WEBPACK_IMPORTED_MODULE_2__.getDatabase)();\n    await db.delete(_db_schema__WEBPACK_IMPORTED_MODULE_3__.sessions).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_3__.sessions.userId, userId));\n}\nasync function authenticateUser(email, password, role) {\n    // Get database instance\n    const db = (0,_db__WEBPACK_IMPORTED_MODULE_2__.getDatabase)();\n    // If role is specified, authenticate that specific role\n    // Otherwise, get the first matching account (for backward compatibility)\n    const whereConditions = role ? (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_3__.users.email, email), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_3__.users.role, role), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_3__.users.isActive, true)) : (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_3__.users.email, email), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_3__.users.isActive, true));\n    const user = await db.select().from(_db_schema__WEBPACK_IMPORTED_MODULE_3__.users).where(whereConditions).limit(1);\n    if (!user.length) return null;\n    const isValidPassword = await verifyPassword(password, user[0].password);\n    if (!isValidPassword) return null;\n    // Update last login\n    await db.update(_db_schema__WEBPACK_IMPORTED_MODULE_3__.users).set({\n        lastLogin: new Date()\n    }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_3__.users.id, user[0].id));\n    return {\n        id: user[0].id,\n        name: user[0].name,\n        email: user[0].email,\n        phone: user[0].phone || null,\n        bio: user[0].bio || null,\n        role: user[0].role,\n        isActive: user[0].isActive,\n        faceIdEnrolled: user[0].faceIdEnrolled || false,\n        fingerprintEnrolled: user[0].fingerprintEnrolled || false,\n        twoFactorEnabled: user[0].twoFactorEnabled || false,\n        joinedDate: user[0].joinedDate || null\n    };\n}\n// Get all accounts (roles) for an email\nasync function getUserAccounts(email) {\n    const db = (0,_db__WEBPACK_IMPORTED_MODULE_2__.getDatabase)();\n    // Use case-insensitive email comparison\n    const normalizedEmail = email.toLowerCase().trim();\n    const accounts = await db.select().from(_db_schema__WEBPACK_IMPORTED_MODULE_3__.users).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.and)(drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.sql`LOWER(${_db_schema__WEBPACK_IMPORTED_MODULE_3__.users.email}) = LOWER(${normalizedEmail})`, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_3__.users.isActive, true)));\n    console.log(\"getUserAccounts - Email searched:\", normalizedEmail);\n    console.log(\"getUserAccounts - Accounts found:\", accounts.length);\n    console.log(\"getUserAccounts - Accounts:\", accounts.map((a)=>({\n            id: a.id,\n            email: a.email,\n            role: a.role,\n            name: a.name,\n            isActive: a.isActive\n        })));\n    return accounts.map((user)=>({\n            id: user.id,\n            name: user.name,\n            email: user.email,\n            phone: user.phone || null,\n            bio: user.bio || null,\n            role: user.role,\n            isActive: user.isActive,\n            faceIdEnrolled: user.faceIdEnrolled || false,\n            fingerprintEnrolled: user.fingerprintEnrolled || false,\n            twoFactorEnabled: user.twoFactorEnabled || false,\n            joinedDate: user.joinedDate || null\n        }));\n}\nasync function createUser(userData) {\n    try {\n        console.log(\"createUser called with:\", {\n            email: userData.email,\n            role: userData.role\n        });\n        // Get database instance\n        const db = (0,_db__WEBPACK_IMPORTED_MODULE_2__.getDatabase)();\n        const hashedPassword = await hashPassword(userData.password);\n        console.log(\"Password hashed successfully\");\n        const newUser = await db.insert(_db_schema__WEBPACK_IMPORTED_MODULE_3__.users).values({\n            name: userData.name,\n            email: userData.email,\n            password: hashedPassword,\n            phone: userData.phone,\n            role: userData.role || \"student\"\n        }).returning();\n        if (!newUser || newUser.length === 0) {\n            throw new Error(\"Failed to create user - no data returned from database\");\n        }\n        console.log(\"User inserted successfully:\", {\n            id: newUser[0].id,\n            email: newUser[0].email,\n            phone: newUser[0].phone\n        });\n        return {\n            id: newUser[0].id,\n            name: newUser[0].name,\n            email: newUser[0].email,\n            phone: newUser[0].phone || null,\n            bio: newUser[0].bio || null,\n            role: newUser[0].role,\n            isActive: newUser[0].isActive,\n            faceIdEnrolled: newUser[0].faceIdEnrolled || false,\n            fingerprintEnrolled: newUser[0].fingerprintEnrolled || false,\n            twoFactorEnabled: newUser[0].twoFactorEnabled || false,\n            joinedDate: newUser[0].joinedDate || null\n        };\n    } catch (error) {\n        console.error(\"createUser function error:\", error);\n        console.error(\"Error details:\", {\n            message: error?.message,\n            code: error?.code,\n            detail: error?.detail,\n            constraint: error?.constraint\n        });\n        throw error; // Re-throw to let the caller handle it\n    }\n}\nasync function generateResetToken(email) {\n    const db = (0,_db__WEBPACK_IMPORTED_MODULE_2__.getDatabase)();\n    const user = await db.select().from(_db_schema__WEBPACK_IMPORTED_MODULE_3__.users).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_3__.users.email, email)).limit(1);\n    if (!user.length) return null;\n    // Use cryptographically secure random token\n    const resetToken = (0,_security__WEBPACK_IMPORTED_MODULE_4__.generateSecureToken)(32);\n    const resetTokenExpiry = new Date(Date.now() + 60 * 60 * 1000); // 1 hour\n    await db.update(_db_schema__WEBPACK_IMPORTED_MODULE_3__.users).set({\n        resetToken,\n        resetTokenExpiry\n    }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_3__.users.id, user[0].id));\n    return resetToken;\n}\nasync function verifyResetToken(email, token) {\n    const db = (0,_db__WEBPACK_IMPORTED_MODULE_2__.getDatabase)();\n    const user = await db.select().from(_db_schema__WEBPACK_IMPORTED_MODULE_3__.users).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_3__.users.email, email), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_3__.users.resetToken, token))).limit(1);\n    if (!user.length || !user[0].resetTokenExpiry) return false;\n    return user[0].resetTokenExpiry > new Date();\n}\nasync function resetPassword(email, token, newPassword) {\n    const isValid = await verifyResetToken(email, token);\n    if (!isValid) return false;\n    const db = (0,_db__WEBPACK_IMPORTED_MODULE_2__.getDatabase)();\n    const hashedPassword = await hashPassword(newPassword);\n    await db.update(_db_schema__WEBPACK_IMPORTED_MODULE_3__.users).set({\n        password: hashedPassword,\n        resetToken: null,\n        resetTokenExpiry: null\n    }).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_5__.eq)(_db_schema__WEBPACK_IMPORTED_MODULE_3__.users.email, email));\n    return true;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDVDtBQUVPLGVBQWVFLGlCQUFpQjlELEtBQWEsRUFBRUssS0FBYTtJQUNqRSxNQUFNYyxLQUFLOUMsZ0RBQVdBO0lBQ3RCLE1BQU11QixPQUFPLE1BQU11QixHQUNoQkUsTUFBTSxHQUNOQyxJQUFJLENBQUNoRCw2Q0FBS0EsRUFDVmlELEtBQUssQ0FBQzlDLGdEQUFHQSxDQUNSRCwrQ0FBRUEsQ0FBQ0YsNkNBQUtBLENBQUMwQixLQUFLLEVBQUVBLFFBQ2hCeEIsK0NBQUVBLENBQUNGLDZDQUFLQSxDQUFDc0YsVUFBVSxFQUFFdkQsU0FFdEJtQixLQUFLLENBQUM7SUFFVCxJQUFJLENBQUM1QixLQUFLVCxNQUFNLElBQUksQ0FBQ1MsSUFBSSxDQUFDLEVBQUUsQ0FBQ2lFLGdCQUFnQixFQUFFLE9BQU87SUFFdEQsT0FBT2pFLElBQUksQ0FBQyxFQUFFLENBQUNpRSxnQkFBZ0IsR0FBRyxJQUFJbEM7QUFDeEM7QUFFTyxlQUFlb0MsY0FBYy9ELEtBQWEsRUFBRUssS0FBYSxFQUFFMkQsV0FBbUI7SUFDbkYsTUFBTUMsVUFBVSxNQUFNSCxpQkFBaUI5RCxPQUFPSztJQUM5QyxJQUFJLENBQUM0RCxTQUFTLE9BQU87SUFFckIsTUFBTTlDLEtBQUs5QyxnREFBV0E7SUFDdEIsTUFBTW9CLGlCQUFpQixNQUFNSixhQUFhMkU7SUFFMUMsTUFBTTdDLEdBQ0hzQixNQUFNLENBQUNuRSw2Q0FBS0EsRUFDWm9FLEdBQUcsQ0FBQztRQUNIcEQsVUFBVUc7UUFDVm1FLFlBQVk7UUFDWkMsa0JBQWtCO0lBQ3BCLEdBQ0N0QyxLQUFLLENBQUMvQywrQ0FBRUEsQ0FBQ0YsNkNBQUtBLENBQUMwQixLQUFLLEVBQUVBO0lBRXpCLE9BQU87QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL2xtcy1wbGF0Zm9ybS8uL3NyYy9saWIvYXV0aC50cz82NjkyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xyXG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcbmltcG9ydCB7IGdldERhdGFiYXNlIH0gZnJvbSAnLi9kYic7XHJcbmltcG9ydCB7IHVzZXJzLCBzZXNzaW9ucyB9IGZyb20gJy4vZGIvc2NoZW1hJztcclxuaW1wb3J0IHsgZXEsIGFuZCwgc3FsIH0gZnJvbSAnZHJpenpsZS1vcm0nO1xyXG5pbXBvcnQgeyBnZW5lcmF0ZVNlY3VyZVRva2VuIH0gZnJvbSAnLi9zZWN1cml0eSc7XHJcblxyXG4vLyBKV1RfU0VDUkVUIG11c3QgYmUgc2V0IC0gbm8gZmFsbGJhY2sgZm9yIHNlY3VyaXR5XHJcbmZ1bmN0aW9uIGdldEpXVFNlY3JldCgpOiBzdHJpbmcge1xyXG4gIGlmICghcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCB8fCBwcm9jZXNzLmVudi5KV1RfU0VDUkVUID09PSAneW91ci1zZWNyZXQta2V5Jykge1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICdKV1RfU0VDUkVUIG11c3QgYmUgc2V0IGluIGVudmlyb25tZW50IHZhcmlhYmxlcyBhbmQgbXVzdCBiZSBhdCBsZWFzdCAzMiBjaGFyYWN0ZXJzIGxvbmcuICcgK1xyXG4gICAgICAgICdQbGVhc2Ugc2V0IGEgc3Ryb25nIHJhbmRvbSBzZWNyZXQgaW4gLmVudi5sb2NhbCdcclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIC8vIFVzZSBhIGRlZmF1bHQgc2VjcmV0IGluIGRldmVsb3BtZW50IG9ubHkgKGZvciBob3QgcmVsb2FkKVxyXG4gICAgY29uc29sZS53YXJuKCfimqDvuI8gVXNpbmcgZGVmYXVsdCBKV1RfU0VDUkVUIGluIGRldmVsb3BtZW50LiBTZXQgSldUX1NFQ1JFVCBpbiAuZW52LmxvY2FsIGZvciBwcm9kdWN0aW9uLicpO1xyXG4gICAgcmV0dXJuICdkZXYtc2VjcmV0LWtleS1jaGFuZ2UtdGhpcy1pbi1wcm9kdWN0aW9uLWF0LWxlYXN0LTMyLWNoYXJzLWxvbmcnO1xyXG4gIH1cclxuICBpZiAocHJvY2Vzcy5lbnYuSldUX1NFQ1JFVC5sZW5ndGggPCAzMikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdKV1RfU0VDUkVUIG11c3QgYmUgYXQgbGVhc3QgMzIgY2hhcmFjdGVycyBsb25nJyk7XHJcbiAgfVxyXG4gIHJldHVybiBwcm9jZXNzLmVudi5KV1RfU0VDUkVUO1xyXG59XHJcblxyXG5jb25zdCBKV1RfU0VDUkVUID0gZ2V0SldUU2VjcmV0KCk7XHJcbmNvbnN0IEpXVF9FWFBJUkVTX0lOID0gJzdkJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQXV0aFVzZXIge1xyXG4gIGlkOiBudW1iZXI7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIGVtYWlsOiBzdHJpbmc7XHJcbiAgcGhvbmU6IHN0cmluZyB8IG51bGw7XHJcbiAgYmlvOiBzdHJpbmcgfCBudWxsO1xyXG4gIHJvbGU6IHN0cmluZztcclxuICBpc0FjdGl2ZTogYm9vbGVhbjtcclxuICBmYWNlSWRFbnJvbGxlZDogYm9vbGVhbjtcclxuICBmaW5nZXJwcmludEVucm9sbGVkOiBib29sZWFuO1xyXG4gIHR3b0ZhY3RvckVuYWJsZWQ6IGJvb2xlYW47XHJcbiAgam9pbmVkRGF0ZTogRGF0ZSB8IG51bGw7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYXNoUGFzc3dvcmQocGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgcmV0dXJuIGJjcnlwdC5oYXNoKHBhc3N3b3JkLCAxMik7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlQYXNzd29yZChwYXNzd29yZDogc3RyaW5nLCBoYXNoZWRQYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgcmV0dXJuIGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBoYXNoZWRQYXNzd29yZCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVRva2VuKHVzZXI6IEF1dGhVc2VyKTogc3RyaW5nIHtcclxuICByZXR1cm4gand0LnNpZ24oXHJcbiAgICB7XHJcbiAgICAgIGlkOiB1c2VyLmlkLFxyXG4gICAgICBuYW1lOiB1c2VyLm5hbWUsXHJcbiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICByb2xlOiB1c2VyLnJvbGUsXHJcbiAgICAgIGlzQWN0aXZlOiB1c2VyLmlzQWN0aXZlLFxyXG4gICAgfSxcclxuICAgIEpXVF9TRUNSRVQsXHJcbiAgICB7IGV4cGlyZXNJbjogSldUX0VYUElSRVNfSU4gfVxyXG4gICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB2ZXJpZnlUb2tlbih0b2tlbjogc3RyaW5nKTogQXV0aFVzZXIgfCBudWxsIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIEpXVF9TRUNSRVQpIGFzIGFueTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlkOiBkZWNvZGVkLmlkLFxyXG4gICAgICBuYW1lOiBkZWNvZGVkLm5hbWUsXHJcbiAgICAgIGVtYWlsOiBkZWNvZGVkLmVtYWlsLFxyXG4gICAgICBwaG9uZTogZGVjb2RlZC5waG9uZSB8fCBudWxsLFxyXG4gICAgICBiaW86IGRlY29kZWQuYmlvIHx8IG51bGwsXHJcbiAgICAgIHJvbGU6IGRlY29kZWQucm9sZSxcclxuICAgICAgaXNBY3RpdmU6IGRlY29kZWQuaXNBY3RpdmUsXHJcbiAgICAgIGZhY2VJZEVucm9sbGVkOiBkZWNvZGVkLmZhY2VJZEVucm9sbGVkIHx8IGZhbHNlLFxyXG4gICAgICBmaW5nZXJwcmludEVucm9sbGVkOiBkZWNvZGVkLmZpbmdlcnByaW50RW5yb2xsZWQgfHwgZmFsc2UsXHJcbiAgICAgIHR3b0ZhY3RvckVuYWJsZWQ6IGRlY29kZWQudHdvRmFjdG9yRW5hYmxlZCB8fCBmYWxzZSxcclxuICAgICAgam9pbmVkRGF0ZTogZGVjb2RlZC5qb2luZWREYXRlIHx8IG51bGwsXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVTZXNzaW9uKHVzZXJJZDogbnVtYmVyLCBkZXZpY2VJbmZvPzogYW55LCB1c2VyRGF0YT86IEF1dGhVc2VyKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAvLyBHZXQgZGF0YWJhc2UgaW5zdGFuY2VcclxuICBjb25zdCBkYiA9IGdldERhdGFiYXNlKCk7XHJcblxyXG4gIC8vIEdldCB1c2VyIGRhdGEgaWYgbm90IHByb3ZpZGVkXHJcbiAgbGV0IHVzZXI6IEF1dGhVc2VyO1xyXG4gIGlmICh1c2VyRGF0YSkge1xyXG4gICAgdXNlciA9IHVzZXJEYXRhO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zdCB1c2VyUmVzdWx0ID0gYXdhaXQgZGJcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5mcm9tKHVzZXJzKVxyXG4gICAgICAud2hlcmUoZXEodXNlcnMuaWQsIHVzZXJJZCkpXHJcbiAgICAgIC5saW1pdCgxKTtcclxuICAgIFxyXG4gICAgaWYgKCF1c2VyUmVzdWx0Lmxlbmd0aCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgbm90IGZvdW5kJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHVzZXIgPSB7XHJcbiAgICAgIGlkOiB1c2VyUmVzdWx0WzBdLmlkLFxyXG4gICAgICBuYW1lOiB1c2VyUmVzdWx0WzBdLm5hbWUsXHJcbiAgICAgIGVtYWlsOiB1c2VyUmVzdWx0WzBdLmVtYWlsLFxyXG4gICAgICBwaG9uZTogdXNlclJlc3VsdFswXS5waG9uZSB8fCBudWxsLFxyXG4gICAgICBiaW86IHVzZXJSZXN1bHRbMF0uYmlvIHx8IG51bGwsXHJcbiAgICAgIHJvbGU6IHVzZXJSZXN1bHRbMF0ucm9sZSxcclxuICAgICAgaXNBY3RpdmU6IHVzZXJSZXN1bHRbMF0uaXNBY3RpdmUsXHJcbiAgICAgIGZhY2VJZEVucm9sbGVkOiB1c2VyUmVzdWx0WzBdLmZhY2VJZEVucm9sbGVkIHx8IGZhbHNlLFxyXG4gICAgICBmaW5nZXJwcmludEVucm9sbGVkOiB1c2VyUmVzdWx0WzBdLmZpbmdlcnByaW50RW5yb2xsZWQgfHwgZmFsc2UsXHJcbiAgICAgIHR3b0ZhY3RvckVuYWJsZWQ6IHVzZXJSZXN1bHRbMF0udHdvRmFjdG9yRW5hYmxlZCB8fCBmYWxzZSxcclxuICAgICAgam9pbmVkRGF0ZTogdXNlclJlc3VsdFswXS5qb2luZWREYXRlIHx8IG51bGwsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgc2Vzc2lvblRva2VuID0gZ2VuZXJhdGVUb2tlbih1c2VyKTtcclxuICBjb25zdCBleHBpcmVzQXQgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApOyAvLyA3IGRheXNcclxuXHJcbiAgYXdhaXQgZGIuaW5zZXJ0KHNlc3Npb25zKS52YWx1ZXMoe1xyXG4gICAgdXNlcklkLFxyXG4gICAgc2Vzc2lvblRva2VuLFxyXG4gICAgZGV2aWNlSW5mbzogZGV2aWNlSW5mbyA/IEpTT04uc3RyaW5naWZ5KGRldmljZUluZm8pIDogbnVsbCxcclxuICAgIGV4cGlyZXNBdCxcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIHNlc3Npb25Ub2tlbjtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlU2Vzc2lvbihzZXNzaW9uVG9rZW46IHN0cmluZyk6IFByb21pc2U8QXV0aFVzZXIgfCBudWxsPiB7XHJcbiAgY29uc3QgdXNlciA9IHZlcmlmeVRva2VuKHNlc3Npb25Ub2tlbik7XHJcbiAgaWYgKCF1c2VyKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgLy8gR2V0IGRhdGFiYXNlIGluc3RhbmNlXHJcbiAgY29uc3QgZGIgPSBnZXREYXRhYmFzZSgpO1xyXG5cclxuICAvLyBDaGVjayBpZiBzZXNzaW9uIGV4aXN0cyBpbiBkYXRhYmFzZVxyXG4gIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBkYlxyXG4gICAgLnNlbGVjdCgpXHJcbiAgICAuZnJvbShzZXNzaW9ucylcclxuICAgIC53aGVyZShcclxuICAgICAgYW5kKFxyXG4gICAgICAgIGVxKHNlc3Npb25zLnNlc3Npb25Ub2tlbiwgc2Vzc2lvblRva2VuKSxcclxuICAgICAgICBlcShzZXNzaW9ucy51c2VySWQsIHVzZXIuaWQpXHJcbiAgICAgIClcclxuICAgIClcclxuICAgIC5saW1pdCgxKTtcclxuXHJcbiAgaWYgKCFzZXNzaW9uLmxlbmd0aCB8fCBzZXNzaW9uWzBdLmV4cGlyZXNBdCA8IG5ldyBEYXRlKCkpIHtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHVzZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZXN0cm95U2Vzc2lvbihzZXNzaW9uVG9rZW46IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGNvbnN0IGRiID0gZ2V0RGF0YWJhc2UoKTtcclxuICBhd2FpdCBkYi5kZWxldGUoc2Vzc2lvbnMpLndoZXJlKGVxKHNlc3Npb25zLnNlc3Npb25Ub2tlbiwgc2Vzc2lvblRva2VuKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZXN0cm95QWxsVXNlclNlc3Npb25zKHVzZXJJZDogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgY29uc3QgZGIgPSBnZXREYXRhYmFzZSgpO1xyXG4gIGF3YWl0IGRiLmRlbGV0ZShzZXNzaW9ucykud2hlcmUoZXEoc2Vzc2lvbnMudXNlcklkLCB1c2VySWQpKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZVVzZXIoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZywgcm9sZT86IHN0cmluZyk6IFByb21pc2U8QXV0aFVzZXIgfCBudWxsPiB7XHJcbiAgLy8gR2V0IGRhdGFiYXNlIGluc3RhbmNlXHJcbiAgY29uc3QgZGIgPSBnZXREYXRhYmFzZSgpO1xyXG5cclxuICAvLyBJZiByb2xlIGlzIHNwZWNpZmllZCwgYXV0aGVudGljYXRlIHRoYXQgc3BlY2lmaWMgcm9sZVxyXG4gIC8vIE90aGVyd2lzZSwgZ2V0IHRoZSBmaXJzdCBtYXRjaGluZyBhY2NvdW50IChmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSlcclxuICBjb25zdCB3aGVyZUNvbmRpdGlvbnMgPSByb2xlIFxyXG4gICAgPyBhbmQoZXEodXNlcnMuZW1haWwsIGVtYWlsKSwgZXEodXNlcnMucm9sZSwgcm9sZSksIGVxKHVzZXJzLmlzQWN0aXZlLCB0cnVlKSlcclxuICAgIDogYW5kKGVxKHVzZXJzLmVtYWlsLCBlbWFpbCksIGVxKHVzZXJzLmlzQWN0aXZlLCB0cnVlKSk7XHJcbiAgXHJcbiAgY29uc3QgdXNlciA9IGF3YWl0IGRiXHJcbiAgICAuc2VsZWN0KClcclxuICAgIC5mcm9tKHVzZXJzKVxyXG4gICAgLndoZXJlKHdoZXJlQ29uZGl0aW9ucylcclxuICAgIC5saW1pdCgxKTtcclxuXHJcbiAgaWYgKCF1c2VyLmxlbmd0aCkgcmV0dXJuIG51bGw7XHJcblxyXG4gIGNvbnN0IGlzVmFsaWRQYXNzd29yZCA9IGF3YWl0IHZlcmlmeVBhc3N3b3JkKHBhc3N3b3JkLCB1c2VyWzBdLnBhc3N3b3JkKTtcclxuICBpZiAoIWlzVmFsaWRQYXNzd29yZCkgcmV0dXJuIG51bGw7XHJcblxyXG4gIC8vIFVwZGF0ZSBsYXN0IGxvZ2luXHJcbiAgYXdhaXQgZGJcclxuICAgIC51cGRhdGUodXNlcnMpXHJcbiAgICAuc2V0KHsgbGFzdExvZ2luOiBuZXcgRGF0ZSgpIH0pXHJcbiAgICAud2hlcmUoZXEodXNlcnMuaWQsIHVzZXJbMF0uaWQpKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGlkOiB1c2VyWzBdLmlkLFxyXG4gICAgbmFtZTogdXNlclswXS5uYW1lLFxyXG4gICAgZW1haWw6IHVzZXJbMF0uZW1haWwsXHJcbiAgICBwaG9uZTogdXNlclswXS5waG9uZSB8fCBudWxsLFxyXG4gICAgYmlvOiB1c2VyWzBdLmJpbyB8fCBudWxsLFxyXG4gICAgcm9sZTogdXNlclswXS5yb2xlLFxyXG4gICAgaXNBY3RpdmU6IHVzZXJbMF0uaXNBY3RpdmUsXHJcbiAgICBmYWNlSWRFbnJvbGxlZDogdXNlclswXS5mYWNlSWRFbnJvbGxlZCB8fCBmYWxzZSxcclxuICAgIGZpbmdlcnByaW50RW5yb2xsZWQ6IHVzZXJbMF0uZmluZ2VycHJpbnRFbnJvbGxlZCB8fCBmYWxzZSxcclxuICAgIHR3b0ZhY3RvckVuYWJsZWQ6IHVzZXJbMF0udHdvRmFjdG9yRW5hYmxlZCB8fCBmYWxzZSxcclxuICAgIGpvaW5lZERhdGU6IHVzZXJbMF0uam9pbmVkRGF0ZSB8fCBudWxsLFxyXG4gIH07XHJcbn1cclxuXHJcbi8vIEdldCBhbGwgYWNjb3VudHMgKHJvbGVzKSBmb3IgYW4gZW1haWxcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJBY2NvdW50cyhlbWFpbDogc3RyaW5nKTogUHJvbWlzZTxBdXRoVXNlcltdPiB7XHJcbiAgY29uc3QgZGIgPSBnZXREYXRhYmFzZSgpO1xyXG4gIC8vIFVzZSBjYXNlLWluc2Vuc2l0aXZlIGVtYWlsIGNvbXBhcmlzb25cclxuICBjb25zdCBub3JtYWxpemVkRW1haWwgPSBlbWFpbC50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcclxuICBjb25zdCBhY2NvdW50cyA9IGF3YWl0IGRiXHJcbiAgICAuc2VsZWN0KClcclxuICAgIC5mcm9tKHVzZXJzKVxyXG4gICAgLndoZXJlKGFuZChcclxuICAgICAgc3FsYExPV0VSKCR7dXNlcnMuZW1haWx9KSA9IExPV0VSKCR7bm9ybWFsaXplZEVtYWlsfSlgLFxyXG4gICAgICBlcSh1c2Vycy5pc0FjdGl2ZSwgdHJ1ZSlcclxuICAgICkpO1xyXG5cclxuICBjb25zb2xlLmxvZygnZ2V0VXNlckFjY291bnRzIC0gRW1haWwgc2VhcmNoZWQ6Jywgbm9ybWFsaXplZEVtYWlsKTtcclxuICBjb25zb2xlLmxvZygnZ2V0VXNlckFjY291bnRzIC0gQWNjb3VudHMgZm91bmQ6JywgYWNjb3VudHMubGVuZ3RoKTtcclxuICBjb25zb2xlLmxvZygnZ2V0VXNlckFjY291bnRzIC0gQWNjb3VudHM6JywgYWNjb3VudHMubWFwKChhOiBhbnkpID0+ICh7IGlkOiBhLmlkLCBlbWFpbDogYS5lbWFpbCwgcm9sZTogYS5yb2xlLCBuYW1lOiBhLm5hbWUsIGlzQWN0aXZlOiBhLmlzQWN0aXZlIH0pKSk7XHJcblxyXG4gIHJldHVybiBhY2NvdW50cy5tYXAoKHVzZXI6IGFueSkgPT4gKHtcclxuICAgIGlkOiB1c2VyLmlkLFxyXG4gICAgbmFtZTogdXNlci5uYW1lLFxyXG4gICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICBwaG9uZTogdXNlci5waG9uZSB8fCBudWxsLFxyXG4gICAgYmlvOiB1c2VyLmJpbyB8fCBudWxsLFxyXG4gICAgcm9sZTogdXNlci5yb2xlLFxyXG4gICAgaXNBY3RpdmU6IHVzZXIuaXNBY3RpdmUsXHJcbiAgICBmYWNlSWRFbnJvbGxlZDogdXNlci5mYWNlSWRFbnJvbGxlZCB8fCBmYWxzZSxcclxuICAgIGZpbmdlcnByaW50RW5yb2xsZWQ6IHVzZXIuZmluZ2VycHJpbnRFbnJvbGxlZCB8fCBmYWxzZSxcclxuICAgIHR3b0ZhY3RvckVuYWJsZWQ6IHVzZXIudHdvRmFjdG9yRW5hYmxlZCB8fCBmYWxzZSxcclxuICAgIGpvaW5lZERhdGU6IHVzZXIuam9pbmVkRGF0ZSB8fCBudWxsLFxyXG4gIH0pKTtcclxufVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVXNlcih1c2VyRGF0YToge1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBlbWFpbDogc3RyaW5nO1xyXG4gIHBhc3N3b3JkOiBzdHJpbmc7XHJcbiAgcGhvbmU/OiBzdHJpbmc7XHJcbiAgcm9sZT86IHN0cmluZztcclxufSk6IFByb21pc2U8QXV0aFVzZXI+IHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coJ2NyZWF0ZVVzZXIgY2FsbGVkIHdpdGg6JywgeyBlbWFpbDogdXNlckRhdGEuZW1haWwsIHJvbGU6IHVzZXJEYXRhLnJvbGUgfSk7XHJcbiAgICBcclxuICAgIC8vIEdldCBkYXRhYmFzZSBpbnN0YW5jZVxyXG4gICAgY29uc3QgZGIgPSBnZXREYXRhYmFzZSgpO1xyXG5cclxuICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgaGFzaFBhc3N3b3JkKHVzZXJEYXRhLnBhc3N3b3JkKTtcclxuICAgIGNvbnNvbGUubG9nKCdQYXNzd29yZCBoYXNoZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcblxyXG4gICAgY29uc3QgbmV3VXNlciA9IGF3YWl0IGRiXHJcbiAgICAgIC5pbnNlcnQodXNlcnMpXHJcbiAgICAgIC52YWx1ZXMoe1xyXG4gICAgICAgIG5hbWU6IHVzZXJEYXRhLm5hbWUsXHJcbiAgICAgICAgZW1haWw6IHVzZXJEYXRhLmVtYWlsLFxyXG4gICAgICAgIHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCxcclxuICAgICAgICBwaG9uZTogdXNlckRhdGEucGhvbmUsXHJcbiAgICAgICAgcm9sZTogdXNlckRhdGEucm9sZSB8fCAnc3R1ZGVudCcsXHJcbiAgICAgIH0pXHJcbiAgICAgIC5yZXR1cm5pbmcoKTtcclxuXHJcbiAgICBpZiAoIW5ld1VzZXIgfHwgbmV3VXNlci5sZW5ndGggPT09IDApIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIHVzZXIgLSBubyBkYXRhIHJldHVybmVkIGZyb20gZGF0YWJhc2UnKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZygnVXNlciBpbnNlcnRlZCBzdWNjZXNzZnVsbHk6JywgeyBpZDogbmV3VXNlclswXS5pZCwgZW1haWw6IG5ld1VzZXJbMF0uZW1haWwsIHBob25lOiBuZXdVc2VyWzBdLnBob25lIH0pO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlkOiBuZXdVc2VyWzBdLmlkLFxyXG4gICAgICBuYW1lOiBuZXdVc2VyWzBdLm5hbWUsXHJcbiAgICAgIGVtYWlsOiBuZXdVc2VyWzBdLmVtYWlsLFxyXG4gICAgICBwaG9uZTogbmV3VXNlclswXS5waG9uZSB8fCBudWxsLFxyXG4gICAgICBiaW86IG5ld1VzZXJbMF0uYmlvIHx8IG51bGwsXHJcbiAgICAgIHJvbGU6IG5ld1VzZXJbMF0ucm9sZSxcclxuICAgICAgaXNBY3RpdmU6IG5ld1VzZXJbMF0uaXNBY3RpdmUsXHJcbiAgICAgIGZhY2VJZEVucm9sbGVkOiBuZXdVc2VyWzBdLmZhY2VJZEVucm9sbGVkIHx8IGZhbHNlLFxyXG4gICAgICBmaW5nZXJwcmludEVucm9sbGVkOiBuZXdVc2VyWzBdLmZpbmdlcnByaW50RW5yb2xsZWQgfHwgZmFsc2UsXHJcbiAgICAgIHR3b0ZhY3RvckVuYWJsZWQ6IG5ld1VzZXJbMF0udHdvRmFjdG9yRW5hYmxlZCB8fCBmYWxzZSxcclxuICAgICAgam9pbmVkRGF0ZTogbmV3VXNlclswXS5qb2luZWREYXRlIHx8IG51bGwsXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ2NyZWF0ZVVzZXIgZnVuY3Rpb24gZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZGV0YWlsczonLCB7XHJcbiAgICAgIG1lc3NhZ2U6IGVycm9yPy5tZXNzYWdlLFxyXG4gICAgICBjb2RlOiBlcnJvcj8uY29kZSxcclxuICAgICAgZGV0YWlsOiBlcnJvcj8uZGV0YWlsLFxyXG4gICAgICBjb25zdHJhaW50OiBlcnJvcj8uY29uc3RyYWludCxcclxuICAgIH0pO1xyXG4gICAgdGhyb3cgZXJyb3I7IC8vIFJlLXRocm93IHRvIGxldCB0aGUgY2FsbGVyIGhhbmRsZSBpdFxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlUmVzZXRUb2tlbihlbWFpbDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XHJcbiAgY29uc3QgZGIgPSBnZXREYXRhYmFzZSgpO1xyXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBkYlxyXG4gICAgLnNlbGVjdCgpXHJcbiAgICAuZnJvbSh1c2VycylcclxuICAgIC53aGVyZShlcSh1c2Vycy5lbWFpbCwgZW1haWwpKVxyXG4gICAgLmxpbWl0KDEpO1xyXG5cclxuICBpZiAoIXVzZXIubGVuZ3RoKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgLy8gVXNlIGNyeXB0b2dyYXBoaWNhbGx5IHNlY3VyZSByYW5kb20gdG9rZW5cclxuICBjb25zdCByZXNldFRva2VuID0gZ2VuZXJhdGVTZWN1cmVUb2tlbigzMik7XHJcbiAgY29uc3QgcmVzZXRUb2tlbkV4cGlyeSA9IG5ldyBEYXRlKERhdGUubm93KCkgKyA2MCAqIDYwICogMTAwMCk7IC8vIDEgaG91clxyXG5cclxuICBhd2FpdCBkYlxyXG4gICAgLnVwZGF0ZSh1c2VycylcclxuICAgIC5zZXQoe1xyXG4gICAgICByZXNldFRva2VuLFxyXG4gICAgICByZXNldFRva2VuRXhwaXJ5LFxyXG4gICAgfSlcclxuICAgIC53aGVyZShlcSh1c2Vycy5pZCwgdXNlclswXS5pZCkpO1xyXG5cclxuICByZXR1cm4gcmVzZXRUb2tlbjtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZlcmlmeVJlc2V0VG9rZW4oZW1haWw6IHN0cmluZywgdG9rZW46IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIGNvbnN0IGRiID0gZ2V0RGF0YWJhc2UoKTtcclxuICBjb25zdCB1c2VyID0gYXdhaXQgZGJcclxuICAgIC5zZWxlY3QoKVxyXG4gICAgLmZyb20odXNlcnMpXHJcbiAgICAud2hlcmUoYW5kKFxyXG4gICAgICBlcSh1c2Vycy5lbWFpbCwgZW1haWwpLFxyXG4gICAgICBlcSh1c2Vycy5yZXNldFRva2VuLCB0b2tlbilcclxuICAgICkpXHJcbiAgICAubGltaXQoMSk7XHJcblxyXG4gIGlmICghdXNlci5sZW5ndGggfHwgIXVzZXJbMF0ucmVzZXRUb2tlbkV4cGlyeSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICByZXR1cm4gdXNlclswXS5yZXNldFRva2VuRXhwaXJ5ID4gbmV3IERhdGUoKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlc2V0UGFzc3dvcmQoZW1haWw6IHN0cmluZywgdG9rZW46IHN0cmluZywgbmV3UGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gIGNvbnN0IGlzVmFsaWQgPSBhd2FpdCB2ZXJpZnlSZXNldFRva2VuKGVtYWlsLCB0b2tlbik7XHJcbiAgaWYgKCFpc1ZhbGlkKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gIGNvbnN0IGRiID0gZ2V0RGF0YWJhc2UoKTtcclxuICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGhhc2hQYXNzd29yZChuZXdQYXNzd29yZCk7XHJcblxyXG4gIGF3YWl0IGRiXHJcbiAgICAudXBkYXRlKHVzZXJzKVxyXG4gICAgLnNldCh7XHJcbiAgICAgIHBhc3N3b3JkOiBoYXNoZWRQYXNzd29yZCxcclxuICAgICAgcmVzZXRUb2tlbjogbnVsbCxcclxuICAgICAgcmVzZXRUb2tlbkV4cGlyeTogbnVsbCxcclxuICAgIH0pXHJcbiAgICAud2hlcmUoZXEodXNlcnMuZW1haWwsIGVtYWlsKSk7XHJcblxyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4iXSwibmFtZXMiOlsiYmNyeXB0Iiwiand0IiwiZ2V0RGF0YWJhc2UiLCJ1c2VycyIsInNlc3Npb25zIiwiZXEiLCJhbmQiLCJzcWwiLCJnZW5lcmF0ZVNlY3VyZVRva2VuIiwiZ2V0SldUU2VjcmV0IiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJFcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwibGVuZ3RoIiwiSldUX0VYUElSRVNfSU4iLCJoYXNoUGFzc3dvcmQiLCJwYXNzd29yZCIsImhhc2giLCJ2ZXJpZnlQYXNzd29yZCIsImhhc2hlZFBhc3N3b3JkIiwiY29tcGFyZSIsImdlbmVyYXRlVG9rZW4iLCJ1c2VyIiwic2lnbiIsImlkIiwibmFtZSIsImVtYWlsIiwicm9sZSIsImlzQWN0aXZlIiwiZXhwaXJlc0luIiwidmVyaWZ5VG9rZW4iLCJ0b2tlbiIsImRlY29kZWQiLCJ2ZXJpZnkiLCJwaG9uZSIsImJpbyIsImZhY2VJZEVucm9sbGVkIiwiZmluZ2VycHJpbnRFbnJvbGxlZCIsInR3b0ZhY3RvckVuYWJsZWQiLCJqb2luZWREYXRlIiwiZXJyb3IiLCJjcmVhdGVTZXNzaW9uIiwidXNlcklkIiwiZGV2aWNlSW5mbyIsInVzZXJEYXRhIiwiZGIiLCJ1c2VyUmVzdWx0Iiwic2VsZWN0IiwiZnJvbSIsIndoZXJlIiwibGltaXQiLCJzZXNzaW9uVG9rZW4iLCJleHBpcmVzQXQiLCJEYXRlIiwibm93IiwiaW5zZXJ0IiwidmFsdWVzIiwiSlNPTiIsInN0cmluZ2lmeSIsInZhbGlkYXRlU2Vzc2lvbiIsInNlc3Npb24iLCJkZXN0cm95U2Vzc2lvbiIsImRlbGV0ZSIsImRlc3Ryb3lBbGxVc2VyU2Vzc2lvbnMiLCJhdXRoZW50aWNhdGVVc2VyIiwid2hlcmVDb25kaXRpb25zIiwiaXNWYWxpZFBhc3N3b3JkIiwidXBkYXRlIiwic2V0IiwibGFzdExvZ2luIiwiZ2V0VXNlckFjY291bnRzIiwibm9ybWFsaXplZEVtYWlsIiwidG9Mb3dlckNhc2UiLCJ0cmltIiwiYWNjb3VudHMiLCJsb2ciLCJtYXAiLCJhIiwiY3JlYXRlVXNlciIsIm5ld1VzZXIiLCJyZXR1cm5pbmciLCJtZXNzYWdlIiwiY29kZSIsImRldGFpbCIsImNvbnN0cmFpbnQiLCJnZW5lcmF0ZVJlc2V0VG9rZW4iLCJyZXNldFRva2VuIiwicmVzZXRUb2tlbkV4cGlyeSIsInZlcmlmeVJlc2V0VG9rZW4iLCJyZXNldFBhc3N3b3JkIiwibmV3UGFzc3dvcmQiLCJpc1ZhbGlkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/brute-force-protection.ts":
/*!*******************************************!*\
  !*** ./src/lib/brute-force-protection.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   blockIP: () => (/* binding */ blockIP),\n/* harmony export */   detectCredentialStuffing: () => (/* binding */ detectCredentialStuffing),\n/* harmony export */   getBlockedIPs: () => (/* binding */ getBlockedIPs),\n/* harmony export */   getRemainingAttempts: () => (/* binding */ getRemainingAttempts),\n/* harmony export */   isIPBlocked: () => (/* binding */ isIPBlocked),\n/* harmony export */   isUsernameBlocked: () => (/* binding */ isUsernameBlocked),\n/* harmony export */   recordFailedAttempt: () => (/* binding */ recordFailedAttempt),\n/* harmony export */   recordSuccessfulLogin: () => (/* binding */ recordSuccessfulLogin),\n/* harmony export */   unblockIP: () => (/* binding */ unblockIP)\n/* harmony export */ });\n/**\r\n * Brute Force Attack Protection\r\n * Prevents repeated failed login attempts and credential stuffing\r\n */ // Track failed login attempts by IP and username\nconst ipAttempts = new Map();\nconst usernameAttempts = new Map();\nconst blockedIPs = new Set();\n// Configuration\nconst MAX_ATTEMPTS = 5; // Maximum failed attempts\nconst ATTEMPT_WINDOW = 15 * 60 * 1000; // 15 minutes\nconst BLOCK_DURATION = 60 * 60 * 1000; // 1 hour block\nconst PROGRESSIVE_DELAY = [\n    0,\n    1000,\n    2000,\n    5000,\n    10000\n]; // Progressive delays in ms\n// Clean up old attempts every 10 minutes\nsetInterval(()=>{\n    const now = Date.now();\n    // Clean IP attempts\n    for (const [ip, attempt] of ipAttempts.entries()){\n        if (now - attempt.lastAttempt > ATTEMPT_WINDOW && (!attempt.blockedUntil || now > attempt.blockedUntil)) {\n            ipAttempts.delete(ip);\n            blockedIPs.delete(ip);\n        }\n    }\n    // Clean username attempts\n    for (const [username, attempt] of usernameAttempts.entries()){\n        if (now - attempt.lastAttempt > ATTEMPT_WINDOW && (!attempt.blockedUntil || now > attempt.blockedUntil)) {\n            usernameAttempts.delete(username);\n        }\n    }\n}, 10 * 60 * 1000);\n/**\r\n * Check if an IP is blocked\r\n */ function isIPBlocked(ip) {\n    const attempt = ipAttempts.get(ip);\n    if (!attempt || !attempt.blockedUntil) {\n        return false;\n    }\n    const now = Date.now();\n    if (now > attempt.blockedUntil) {\n        // Unblock\n        attempt.blockedUntil = undefined;\n        attempt.attempts = 0;\n        blockedIPs.delete(ip);\n        return false;\n    }\n    return true;\n}\n/**\r\n * Check if a username is blocked\r\n */ function isUsernameBlocked(username) {\n    const attempt = usernameAttempts.get(username);\n    if (!attempt || !attempt.blockedUntil) {\n        return false;\n    }\n    const now = Date.now();\n    if (now > attempt.blockedUntil) {\n        // Unblock\n        attempt.blockedUntil = undefined;\n        attempt.attempts = 0;\n        return false;\n    }\n    return true;\n}\n/**\r\n * Record a failed login attempt\r\n */ function recordFailedAttempt(ip, username) {\n    const now = Date.now();\n    // Record IP attempt\n    let ipAttempt = ipAttempts.get(ip);\n    if (!ipAttempt || now - ipAttempt.lastAttempt > ATTEMPT_WINDOW) {\n        ipAttempt = {\n            attempts: 1,\n            firstAttempt: now,\n            lastAttempt: now\n        };\n    } else {\n        ipAttempt.attempts++;\n        ipAttempt.lastAttempt = now;\n    }\n    ipAttempts.set(ip, ipAttempt);\n    // Record username attempt\n    let userAttempt = usernameAttempts.get(username);\n    if (!userAttempt || now - userAttempt.lastAttempt > ATTEMPT_WINDOW) {\n        userAttempt = {\n            attempts: 1,\n            firstAttempt: now,\n            lastAttempt: now\n        };\n    } else {\n        userAttempt.attempts++;\n        userAttempt.lastAttempt = now;\n    }\n    usernameAttempts.set(username, userAttempt);\n    // Get progressive delay\n    const delayIndex = Math.min(ipAttempt.attempts - 1, PROGRESSIVE_DELAY.length - 1);\n    const delayMs = PROGRESSIVE_DELAY[delayIndex];\n    // Check if should block\n    if (ipAttempt.attempts >= MAX_ATTEMPTS || userAttempt.attempts >= MAX_ATTEMPTS) {\n        ipAttempt.blockedUntil = now + BLOCK_DURATION;\n        userAttempt.blockedUntil = now + BLOCK_DURATION;\n        blockedIPs.add(ip);\n        return {\n            blocked: true,\n            remainingAttempts: 0,\n            blockDuration: BLOCK_DURATION,\n            delayMs\n        };\n    }\n    return {\n        blocked: false,\n        remainingAttempts: MAX_ATTEMPTS - ipAttempt.attempts,\n        delayMs\n    };\n}\n/**\r\n * Record a successful login (clear attempts)\r\n */ function recordSuccessfulLogin(ip, username) {\n    ipAttempts.delete(ip);\n    usernameAttempts.delete(username);\n    blockedIPs.delete(ip);\n}\n/**\r\n * Get remaining attempts for an IP\r\n */ function getRemainingAttempts(ip) {\n    const attempt = ipAttempts.get(ip);\n    if (!attempt) {\n        return MAX_ATTEMPTS;\n    }\n    const now = Date.now();\n    if (now - attempt.lastAttempt > ATTEMPT_WINDOW) {\n        return MAX_ATTEMPTS;\n    }\n    return Math.max(0, MAX_ATTEMPTS - attempt.attempts);\n}\n/**\r\n * Manually block an IP (for suspicious activity)\r\n */ function blockIP(ip, duration = BLOCK_DURATION) {\n    const now = Date.now();\n    ipAttempts.set(ip, {\n        attempts: MAX_ATTEMPTS,\n        firstAttempt: now,\n        lastAttempt: now,\n        blockedUntil: now + duration\n    });\n    blockedIPs.add(ip);\n}\n/**\r\n * Manually unblock an IP\r\n */ function unblockIP(ip) {\n    ipAttempts.delete(ip);\n    blockedIPs.delete(ip);\n}\n/**\r\n * Get list of blocked IPs\r\n */ function getBlockedIPs() {\n    return Array.from(blockedIPs);\n}\n/**\r\n * Check if pattern indicates credential stuffing attack\r\n */ function detectCredentialStuffing(ip) {\n    const attempt = ipAttempts.get(ip);\n    if (!attempt) {\n        return false;\n    }\n    // If many attempts in short time, likely credential stuffing\n    const attemptRate = attempt.attempts / ((Date.now() - attempt.firstAttempt) / 1000);\n    return attemptRate > 0.5; // More than 0.5 attempts per second\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2JydXRlLWZvcmNlLXByb3RlY3Rpb24udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7OztDQUdDLEdBU0QsaURBQWlEO0FBQ2pELE1BQU1BLGFBQWEsSUFBSUM7QUFDdkIsTUFBTUMsbUJBQW1CLElBQUlEO0FBQzdCLE1BQU1FLGFBQWEsSUFBSUM7QUFFdkIsZ0JBQWdCO0FBQ2hCLE1BQU1DLGVBQWUsR0FBRywwQkFBMEI7QUFDbEQsTUFBTUMsaUJBQWlCLEtBQUssS0FBSyxNQUFNLGFBQWE7QUFDcEQsTUFBTUMsaUJBQWlCLEtBQUssS0FBSyxNQUFNLGVBQWU7QUFDdEQsTUFBTUMsb0JBQW9CO0lBQUM7SUFBRztJQUFNO0lBQU07SUFBTTtDQUFNLEVBQUUsMkJBQTJCO0FBRW5GLHlDQUF5QztBQUN6Q0MsWUFBWTtJQUNWLE1BQU1DLE1BQU1DLEtBQUtELEdBQUc7SUFFcEIsb0JBQW9CO0lBQ3BCLEtBQUssTUFBTSxDQUFDRSxJQUFJQyxRQUFRLElBQUliLFdBQVdjLE9BQU8sR0FBSTtRQUNoRCxJQUFJSixNQUFNRyxRQUFRRSxXQUFXLEdBQUdULGtCQUFtQixFQUFDTyxRQUFRRyxZQUFZLElBQUlOLE1BQU1HLFFBQVFHLFlBQVksR0FBRztZQUN2R2hCLFdBQVdpQixNQUFNLENBQUNMO1lBQ2xCVCxXQUFXYyxNQUFNLENBQUNMO1FBQ3BCO0lBQ0Y7SUFFQSwwQkFBMEI7SUFDMUIsS0FBSyxNQUFNLENBQUNNLFVBQVVMLFFBQVEsSUFBSVgsaUJBQWlCWSxPQUFPLEdBQUk7UUFDNUQsSUFBSUosTUFBTUcsUUFBUUUsV0FBVyxHQUFHVCxrQkFBbUIsRUFBQ08sUUFBUUcsWUFBWSxJQUFJTixNQUFNRyxRQUFRRyxZQUFZLEdBQUc7WUFDdkdkLGlCQUFpQmUsTUFBTSxDQUFDQztRQUMxQjtJQUNGO0FBQ0YsR0FBRyxLQUFLLEtBQUs7QUFFYjs7Q0FFQyxHQUNNLFNBQVNDLFlBQVlQLEVBQVU7SUFDcEMsTUFBTUMsVUFBVWIsV0FB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O0lBQ3BCLElBQUlBLE1BQU1HLFFBQVFFLFdBQVcsR0FBR1QsZ0JBQWdCO1FBQzlDLE9BQU9EO0lBQ1Q7SUFFQSxPQUFPeUIsS0FBS1UsR0FBRyxDQUFDLEdBQUduQyxlQUFlUSxRQUFRUyxRQUFRO0FBQ3BEO0FBRUE7O0NBRUMsR0FDTSxTQUFTbUIsUUFBUTdCLEVBQVUsRUFBRThCLFdBQW1CbkMsY0FBYztJQUNuRSxNQUFNRyxNQUFNQyxLQUFLRCxHQUFHO0lBQ3BCVixXQUFXMkIsR0FBRyxDQUFDZixJQUFJO1FBQ2pCVSxVQUFVakI7UUFDVnFCLGNBQWNoQjtRQUNkSyxhQUFhTDtRQUNiTSxjQUFjTixNQUFNZ0M7SUFDdEI7SUFDQXZDLFdBQVcrQixHQUFHLENBQUN0QjtBQUNqQjtBQUVBOztDQUVDLEdBQ00sU0FBUytCLFVBQVUvQixFQUFVO0lBQ2xDWixXQUFXaUIsTUFBTSxDQUFDTDtJQUNsQlQsV0FBV2MsTUFBTSxDQUFDTDtBQUNwQjtBQUVBOztDQUVDLEdBQ00sU0FBU2dDO0lBQ2QsT0FBT0MsTUFBTUMsSUFBSSxDQUFDM0M7QUFDcEI7QUFFQTs7Q0FFQyxHQUNNLFNBQVM0Qyx5QkFBeUJuQyxFQUFVO0lBQ2pELE1BQU1DLFVBQVViLFdBQVdvQixHQUFHLENBQUNSO0lBQy9CLElBQUksQ0FBQ0MsU0FBUztRQUNaLE9BQU87SUFDVDtJQUVBLDZEQUE2RDtJQUM3RCxNQUFNbUMsY0FBY25DLFFBQVFTLFFBQVEsR0FBSSxFQUFDWCxLQUFLRCxHQUFHLEtBQUtHLFFBQVFhLFlBQVksSUFBSSxJQUFHO0lBQ2pGLE9BQU9zQixjQUFjLEtBQUssb0NBQW9DO0FBQ2hFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbG1zLXBsYXRmb3JtLy4vc3JjL2xpYi9icnV0ZS1mb3JjZS1wcm90ZWN0aW9uLnRzPzJmNmIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEJydXRlIEZvcmNlIEF0dGFjayBQcm90ZWN0aW9uXHJcbiAqIFByZXZlbnRzIHJlcGVhdGVkIGZhaWxlZCBsb2dpbiBhdHRlbXB0cyBhbmQgY3JlZGVudGlhbCBzdHVmZmluZ1xyXG4gKi9cclxuXHJcbmludGVyZmFjZSBMb2dpbkF0dGVtcHQge1xyXG4gIGF0dGVtcHRzOiBudW1iZXI7XHJcbiAgZmlyc3RBdHRlbXB0OiBudW1iZXI7XHJcbiAgbGFzdEF0dGVtcHQ6IG51bWJlcjtcclxuICBibG9ja2VkVW50aWw/OiBudW1iZXI7XHJcbn1cclxuXHJcbi8vIFRyYWNrIGZhaWxlZCBsb2dpbiBhdHRlbXB0cyBieSBJUCBhbmQgdXNlcm5hbWVcclxuY29uc3QgaXBBdHRlbXB0cyA9IG5ldyBNYXA8c3RyaW5nLCBMb2dpbkF0dGVtcHQ+KCk7XHJcbmNvbnN0IHVzZXJuYW1lQXR0ZW1wdHMgPSBuZXcgTWFwPHN0cmluZywgTG9naW5BdHRlbXB0PigpO1xyXG5jb25zdCBibG9ja2VkSVBzID0gbmV3IFNldDxzdHJpbmc+KCk7XHJcblxyXG4vLyBDb25maWd1cmF0aW9uXHJcbmNvbnN0IE1BWF9BVFRFTVBUUyA9IDU7IC8vIE1heGltdW0gZmFpbGVkIGF0dGVtcHRzXHJcbmNvbnN0IEFUVEVNUFRfV0lORE9XID0gMTUgKiA2MCAqIDEwMDA7IC8vIDE1IG1pbnV0ZXNcclxuY29uc3QgQkxPQ0tfRFVSQVRJT04gPSA2MCAqIDYwICogMTAwMDsgLy8gMSBob3VyIGJsb2NrXHJcbmNvbnN0IFBST0dSRVNTSVZFX0RFTEFZID0gWzAsIDEwMDAsIDIwMDAsIDUwMDAsIDEwMDAwXTsgLy8gUHJvZ3Jlc3NpdmUgZGVsYXlzIGluIG1zXHJcblxyXG4vLyBDbGVhbiB1cCBvbGQgYXR0ZW1wdHMgZXZlcnkgMTAgbWludXRlc1xyXG5zZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICBcclxuICAvLyBDbGVhbiBJUCBhdHRlbXB0c1xyXG4gIGZvciAoY29uc3QgW2lwLCBhdHRlbXB0XSBvZiBpcEF0dGVtcHRzLmVudHJpZXMoKSkge1xyXG4gICAgaWYgKG5vdyAtIGF0dGVtcHQubGFzdEF0dGVtcHQgPiBBVFRFTVBUX1dJTkRPVyAmJiAoIWF0dGVtcHQuYmxvY2tlZFVudGlsIHx8IG5vdyA+IGF0dGVtcHQuYmxvY2tlZFVudGlsKSkge1xyXG4gICAgICBpcEF0dGVtcHRzLmRlbGV0ZShpcCk7XHJcbiAgICAgIGJsb2NrZWRJUHMuZGVsZXRlKGlwKTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLy8gQ2xlYW4gdXNlcm5hbWUgYXR0ZW1wdHNcclxuICBmb3IgKGNvbnN0IFt1c2VybmFtZSwgYXR0ZW1wdF0gb2YgdXNlcm5hbWVBdHRlbXB0cy5lbnRyaWVzKCkpIHtcclxuICAgIGlmIChub3cgLSBhdHRlbXB0Lmxhc3RBdHRlbXB0ID4gQVRURU1QVF9XSU5ET1cgJiYgKCFhdHRlbXB0LmJsb2NrZWRVbnRpbCB8fCBub3cgPiBhdHRlbXB0LmJsb2NrZWRVbnRpbCkpIHtcclxuICAgICAgdXNlcm5hbWVBdHRlbXB0cy5kZWxldGUodXNlcm5hbWUpO1xyXG4gICAgfVxyXG4gIH1cclxufSwgMTAgKiA2MCAqIDEwMDApO1xyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIGFuIElQIGlzIGJsb2NrZWRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0lQQmxvY2tlZChpcDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgY29uc3QgYXR0ZW1wdCA9IGlwQXR0ZW1wdHMuZ2V0KGlwKTtcclxuICBpZiAoIWF0dGVtcHQgfHwgIWF0dGVtcHQuYmxvY2tlZFVudGlsKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgaWYgKG5vdyA+IGF0dGVtcHQuYmxvY2tlZFVudGlsKSB7XHJcbiAgICAvLyBVbmJsb2NrXHJcbiAgICBhdHRlbXB0LmJsb2NrZWRVbnRpbCA9IHVuZGVmaW5lZDtcclxuICAgIGF0dGVtcHQuYXR0ZW1wdHMgPSAwO1xyXG4gICAgYmxvY2tlZElQcy5kZWxldGUoaXApO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuICBcclxuICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIGEgdXNlcm5hbWUgaXMgYmxvY2tlZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzVXNlcm5hbWVCbG9ja2VkKHVzZXJuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICBjb25zdCBhdHRlbXB0ID0gdXNlcm5hbWVBdHRlbXB0cy5nZXQodXNlcm5hbWUpO1xyXG4gIGlmICghYXR0ZW1wdCB8fCAhYXR0ZW1wdC5ibG9ja2VkVW50aWwpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgXHJcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICBpZiAobm93ID4gYXR0ZW1wdC5ibG9ja2VkVW50aWwpIHtcclxuICAgIC8vIFVuYmxvY2tcclxuICAgIGF0dGVtcHQuYmxvY2tlZFVudGlsID0gdW5kZWZpbmVkO1xyXG4gICAgYXR0ZW1wdC5hdHRlbXB0cyA9IDA7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vKipcclxuICogUmVjb3JkIGEgZmFpbGVkIGxvZ2luIGF0dGVtcHRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZWNvcmRGYWlsZWRBdHRlbXB0KGlwOiBzdHJpbmcsIHVzZXJuYW1lOiBzdHJpbmcpOiB7XHJcbiAgYmxvY2tlZDogYm9vbGVhbjtcclxuICByZW1haW5pbmdBdHRlbXB0czogbnVtYmVyO1xyXG4gIGJsb2NrRHVyYXRpb24/OiBudW1iZXI7XHJcbiAgZGVsYXlNczogbnVtYmVyO1xyXG59IHtcclxuICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG4gIFxyXG4gIC8vIFJlY29yZCBJUCBhdHRlbXB0XHJcbiAgbGV0IGlwQXR0ZW1wdCA9IGlwQXR0ZW1wdHMuZ2V0KGlwKTtcclxuICBpZiAoIWlwQXR0ZW1wdCB8fCBub3cgLSBpcEF0dGVtcHQubGFzdEF0dGVtcHQgPiBBVFRFTVBUX1dJTkRPVykge1xyXG4gICAgaXBBdHRlbXB0ID0ge1xyXG4gICAgICBhdHRlbXB0czogMSxcclxuICAgICAgZmlyc3RBdHRlbXB0OiBub3csXHJcbiAgICAgIGxhc3RBdHRlbXB0OiBub3csXHJcbiAgICB9O1xyXG4gIH0gZWxzZSB7XHJcbiAgICBpcEF0dGVtcHQuYXR0ZW1wdHMrKztcclxuICAgIGlwQXR0ZW1wdC5sYXN0QXR0ZW1wdCA9IG5vdztcclxuICB9XHJcbiAgaXBBdHRlbXB0cy5zZXQoaXAsIGlwQXR0ZW1wdCk7XHJcbiAgXHJcbiAgLy8gUmVjb3JkIHVzZXJuYW1lIGF0dGVtcHRcclxuICBsZXQgdXNlckF0dGVtcHQgPSB1c2VybmFtZUF0dGVtcHRzLmdldCh1c2VybmFtZSk7XHJcbiAgaWYgKCF1c2VyQXR0ZW1wdCB8fCBub3cgLSB1c2VyQXR0ZW1wdC5sYXN0QXR0ZW1wdCA+IEFUVEVNUFRfV0lORE9XKSB7XHJcbiAgICB1c2VyQXR0ZW1wdCA9IHtcclxuICAgICAgYXR0ZW1wdHM6IDEsXHJcbiAgICAgIGZpcnN0QXR0ZW1wdDogbm93LFxyXG4gICAgICBsYXN0QXR0ZW1wdDogbm93LFxyXG4gICAgfTtcclxuICB9IGVsc2Uge1xyXG4gICAgdXNlckF0dGVtcHQuYXR0ZW1wdHMrKztcclxuICAgIHVzZXJBdHRlbXB0Lmxhc3RBdHRlbXB0ID0gbm93O1xyXG4gIH1cclxuICB1c2VybmFtZUF0dGVtcHRzLnNldCh1c2VybmFtZSwgdXNlckF0dGVtcHQpO1xyXG4gIFxyXG4gIC8vIEdldCBwcm9ncmVzc2l2ZSBkZWxheVxyXG4gIGNvbnN0IGRlbGF5SW5kZXggPSBNYXRoLm1pbihpcEF0dGVtcHQuYXR0ZW1wdHMgLSAxLCBQUk9HUkVTU0lWRV9ERUxBWS5sZW5ndGggLSAxKTtcclxuICBjb25zdCBkZWxheU1zID0gUFJPR1JFU1NJVkVfREVMQVlbZGVsYXlJbmRleF07XHJcbiAgXHJcbiAgLy8gQ2hlY2sgaWYgc2hvdWxkIGJsb2NrXHJcbiAgaWYgKGlwQXR0ZW1wdC5hdHRlbXB0cyA+PSBNQVhfQVRURU1QVFMgfHwgdXNlckF0dGVtcHQuYXR0ZW1wdHMgPj0gTUFYX0FUVEVNUFRTKSB7XHJcbiAgICBpcEF0dGVtcHQuYmxvY2tlZFVudGlsID0gbm93ICsgQkxPQ0tfRFVSQVRJT047XHJcbiAgICB1c2VyQXR0ZW1wdC5ibG9ja2VkVW50aWwgPSBub3cgKyBCTE9DS19EVVJBVElPTjtcclxuICAgIGJsb2NrZWRJUHMuYWRkKGlwKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgYmxvY2tlZDogdHJ1ZSxcclxuICAgICAgcmVtYWluaW5nQXR0ZW1wdHM6IDAsXHJcbiAgICAgIGJsb2NrRHVyYXRpb246IEJMT0NLX0RVUkFUSU9OLFxyXG4gICAgICBkZWxheU1zLFxyXG4gICAgfTtcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIHtcclxuICAgIGJsb2NrZWQ6IGZhbHNlLFxyXG4gICAgcmVtYWluaW5nQXR0ZW1wdHM6IE1BWF9BVFRFTVBUUyAtIGlwQXR0ZW1wdC5hdHRlbXB0cyxcclxuICAgIGRlbGF5TXMsXHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlY29yZCBhIHN1Y2Nlc3NmdWwgbG9naW4gKGNsZWFyIGF0dGVtcHRzKVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJlY29yZFN1Y2Nlc3NmdWxMb2dpbihpcDogc3RyaW5nLCB1c2VybmFtZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgaXBBdHRlbXB0cy5kZWxldGUoaXApO1xyXG4gIHVzZXJuYW1lQXR0ZW1wdHMuZGVsZXRlKHVzZXJuYW1lKTtcclxuICBibG9ja2VkSVBzLmRlbGV0ZShpcCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgcmVtYWluaW5nIGF0dGVtcHRzIGZvciBhbiBJUFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlbWFpbmluZ0F0dGVtcHRzKGlwOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gIGNvbnN0IGF0dGVtcHQgPSBpcEF0dGVtcHRzLmdldChpcCk7XHJcbiAgaWYgKCFhdHRlbXB0KSB7XHJcbiAgICByZXR1cm4gTUFYX0FUVEVNUFRTO1xyXG4gIH1cclxuICBcclxuICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG4gIGlmIChub3cgLSBhdHRlbXB0Lmxhc3RBdHRlbXB0ID4gQVRURU1QVF9XSU5ET1cpIHtcclxuICAgIHJldHVybiBNQVhfQVRURU1QVFM7XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBNYXRoLm1heCgwLCBNQVhfQVRURU1QVFMgLSBhdHRlbXB0LmF0dGVtcHRzKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIE1hbnVhbGx5IGJsb2NrIGFuIElQIChmb3Igc3VzcGljaW91cyBhY3Rpdml0eSlcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBibG9ja0lQKGlwOiBzdHJpbmcsIGR1cmF0aW9uOiBudW1iZXIgPSBCTE9DS19EVVJBVElPTik6IHZvaWQge1xyXG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgaXBBdHRlbXB0cy5zZXQoaXAsIHtcclxuICAgIGF0dGVtcHRzOiBNQVhfQVRURU1QVFMsXHJcbiAgICBmaXJzdEF0dGVtcHQ6IG5vdyxcclxuICAgIGxhc3RBdHRlbXB0OiBub3csXHJcbiAgICBibG9ja2VkVW50aWw6IG5vdyArIGR1cmF0aW9uLFxyXG4gIH0pO1xyXG4gIGJsb2NrZWRJUHMuYWRkKGlwKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIE1hbnVhbGx5IHVuYmxvY2sgYW4gSVBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1bmJsb2NrSVAoaXA6IHN0cmluZyk6IHZvaWQge1xyXG4gIGlwQXR0ZW1wdHMuZGVsZXRlKGlwKTtcclxuICBibG9ja2VkSVBzLmRlbGV0ZShpcCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgbGlzdCBvZiBibG9ja2VkIElQc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEJsb2NrZWRJUHMoKTogc3RyaW5nW10ge1xyXG4gIHJldHVybiBBcnJheS5mcm9tKGJsb2NrZWRJUHMpO1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgcGF0dGVybiBpbmRpY2F0ZXMgY3JlZGVudGlhbCBzdHVmZmluZyBhdHRhY2tcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RDcmVkZW50aWFsU3R1ZmZpbmcoaXA6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IGF0dGVtcHQgPSBpcEF0dGVtcHRzLmdldChpcCk7XHJcbiAgaWYgKCFhdHRlbXB0KSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIElmIG1hbnkgYXR0ZW1wdHMgaW4gc2hvcnQgdGltZSwgbGlrZWx5IGNyZWRlbnRpYWwgc3R1ZmZpbmdcclxuICBjb25zdCBhdHRlbXB0UmF0ZSA9IGF0dGVtcHQuYXR0ZW1wdHMgLyAoKERhdGUubm93KCkgLSBhdHRlbXB0LmZpcnN0QXR0ZW1wdCkgLyAxMDAwKTtcclxuICByZXR1cm4gYXR0ZW1wdFJhdGUgPiAwLjU7IC8vIE1vcmUgdGhhbiAwLjUgYXR0ZW1wdHMgcGVyIHNlY29uZFxyXG59XHJcblxyXG4iXSwibmFtZXMiOlsiaXBBdHRlbXB0cyIsIk1hcCIsInVzZXJuYW1lQXR0ZW1wdHMiLCJibG9ja2VkSVBzIiwiU2V0IiwiTUFYX0FUVEVNUFRTIiwiQVRURU1QVF9XSU5ET1ciLCJCTE9DS19EVVJBVElPTiIsIlBST0dSRVNTSVZFX0RFTEFZIiwic2V0SW50ZXJ2YWwiLCJub3ciLCJEYXRlIiwiaXAiLCJhdHRlbXB0IiwiZW50cmllcyIsImxhc3RBdHRlbXB0IiwiYmxvY2tlZFVudGlsIiwiZGVsZXRlIiwidXNlcm5hbWUiLCJpc0lQQmxvY2tlZCIsImdldCIsInVuZGVmaW5lZCIsImF0dGVtcHRzIiwiaXNVc2VybmFtZUJsb2NrZWQiLCJyZWNvcmRGYWlsZWRBdHRlbXB0IiwiaXBBdHRlbXB0IiwiZmlyc3RBdHRlbXB0Iiwic2V0IiwidXNlckF0dGVtcHQiLCJkZWxheUluZGV4IiwiTWF0aCIsIm1pbiIsImxlbmd0aCIsImRlbGF5TXMiLCJhZGQiLCJibG9ja2VkIiwicmVtYWluaW5nQXR0ZW1wdHMiLCJibG9ja0R1cmF0aW9uIiwicmVjb3JkU3VjY2Vzc2Z1bExvZ2luIiwiZ2V0UmVtYWluaW5nQXR0ZW1wdHMiLCJtYXgiLCJibG9ja0lQIiwiZHVyYXRpb24iLCJ1bmJsb2NrSVAiLCJnZXRCbG9ja2VkSVBzIiwiQXJyYXkiLCJmcm9tIiwiZGV0ZWN0Q3JlZGVudGlhbFN0dWZmaW5nIiwiYXR0ZW1wdFJhdGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/brute-force-protection.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db/index.ts":
/*!*****************************!*\
  !*** ./src/lib/db/index.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   getDatabase: () => (/* binding */ getDatabase),\n/* harmony export */   isDatabaseAvailable: () => (/* binding */ isDatabaseAvailable)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_neon_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/neon-http */ \"(rsc)/./node_modules/drizzle-orm/neon-http/driver.js\");\n/* harmony import */ var _neondatabase_serverless__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @neondatabase/serverless */ \"(rsc)/./node_modules/@neondatabase/serverless/index.mjs\");\n/* harmony import */ var _schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./schema */ \"(rsc)/./src/lib/db/schema.ts\");\n\n\n\nlet db;\nfunction initializeDatabase() {\n    // Ensure DATABASE_URL is set for Neon DB\n    if (!process.env.DATABASE_URL) {\n        console.warn(\"⚠️ DATABASE_URL is not set! Database features will be disabled.\");\n        console.warn(\"   Please set DATABASE_URL in .env.local\");\n        console.warn('   Example: DATABASE_URL=\"postgresql://user:pass@host.neon.tech/dbname?sslmode=require\"');\n        return null;\n    }\n    try {\n        // Neon Postgres configuration\n        // fetchConnectionCache is now always true by default, no need to set it\n        const sql = (0,_neondatabase_serverless__WEBPACK_IMPORTED_MODULE_0__.neon)(process.env.DATABASE_URL);\n        db = (0,drizzle_orm_neon_http__WEBPACK_IMPORTED_MODULE_2__.drizzle)(sql, {\n            schema: _schema__WEBPACK_IMPORTED_MODULE_1__\n        });\n        console.log(\"✅ Database connection initialized (Neon Postgres)\");\n        return db;\n    } catch (error) {\n        console.error(\"❌ Failed to initialize database connection:\", error?.message || error);\n        console.error(\"   Database features will be disabled until DATABASE_URL is properly configured\");\n        return null;\n    }\n}\n// Initialize database - safe initialization that won't crash the app\n// This allows the app to start even if DATABASE_URL is missing or invalid\ndb = initializeDatabase();\n// Helper function to check if database is available\nfunction isDatabaseAvailable() {\n    return db !== null && db !== undefined;\n}\n// Helper function to get database or throw error\nfunction getDatabase() {\n    if (!db) {\n        throw new Error(\"Database is not available. Please check your DATABASE_URL in .env.local\");\n    }\n    return db;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFnRDtBQUNBO0FBQ2I7QUFFbkMsSUFBSUc7QUFFSixTQUFTQztJQUNQLHlDQUF5QztJQUN6QyxJQUFJLENBQUNDLFFBQVFDLEdBQUcsQ0FBQ0MsWUFBWSxFQUFFO1FBQzdCQyxRQUFRQyxJQUFJLENBQUM7UUFDYkQsUUFBUUMsSUFBSSxDQUFDO1FBQ2JELFFBQVFDLElBQUksQ0FBQztRQUNiLE9BQU87SUFDVDtJQUVBLElBQUk7UUFDRiw4QkFBOEI7UUFDOUIsd0VBQXdFO1FBQ3hFLE1BQU1DLE1BQU1ULDhEQUFJQSxDQUFDSSxRQUFRQyxHQUFHLENBQUNDLFlBQVk7UUFDekNKLEtBQUtILDhEQUFPQSxDQUFDVSxLQUFLO1lBQUVSLE1BQU1BLHNDQUFBQTtRQUFDO1FBQzNCTSxRQUFRRyxHQUFHLENBQUM7UUFDWixPQUFPUjtJQUNULEVBQUUsT0FBT1MsT0FBWTtRQUNuQkosUUFBUUksS0FBSyxDQUFDLCtDQUErQ0EsT0FBT0MsV0FBV0Q7UUFDL0VKLFFBQVFJLEtBQUssQ0FBQztRQUNkLE9BQU87SUFDVDtBQUNGO0FBRUEscUVBQXFFO0FBQ3JFLDBFQUEwRTtBQUMxRVQsS0FBS0M7QUFFTCxvREFBb0Q7QUFDN0MsU0FBU1U7SUFDZCxPQUFPWCxPQUFPLFFBQVFBLE9BQU9ZO0FBQy9CO0FBRUEsaURBQWlEO0FBQzFDLFNBQVNDO0lBQ2QsSUFBSSxDQUFDYixJQUFJO1FBQ1AsTUFBTSxJQUFJYyxNQUFNO0lBQ2xCO0lBQ0EsT0FBT2Q7QUFDVDtBQUVjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbG1zLXBsYXRmb3JtLy4vc3JjL2xpYi9kYi9pbmRleC50cz81OGQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRyaXp6bGUgfSBmcm9tICdkcml6emxlLW9ybS9uZW9uLWh0dHAnO1xyXG5pbXBvcnQgeyBuZW9uIH0gZnJvbSAnQG5lb25kYXRhYmFzZS9zZXJ2ZXJsZXNzJztcclxuaW1wb3J0ICogYXMgc2NoZW1hIGZyb20gJy4vc2NoZW1hJztcclxuXHJcbmxldCBkYjogYW55O1xyXG5cclxuZnVuY3Rpb24gaW5pdGlhbGl6ZURhdGFiYXNlKCkge1xyXG4gIC8vIEVuc3VyZSBEQVRBQkFTRV9VUkwgaXMgc2V0IGZvciBOZW9uIERCXHJcbiAgaWYgKCFwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwpIHtcclxuICAgIGNvbnNvbGUud2Fybign4pqg77iPIERBVEFCQVNFX1VSTCBpcyBub3Qgc2V0ISBEYXRhYmFzZSBmZWF0dXJlcyB3aWxsIGJlIGRpc2FibGVkLicpO1xyXG4gICAgY29uc29sZS53YXJuKCcgICBQbGVhc2Ugc2V0IERBVEFCQVNFX1VSTCBpbiAuZW52LmxvY2FsJyk7XHJcbiAgICBjb25zb2xlLndhcm4oJyAgIEV4YW1wbGU6IERBVEFCQVNFX1VSTD1cInBvc3RncmVzcWw6Ly91c2VyOnBhc3NAaG9zdC5uZW9uLnRlY2gvZGJuYW1lP3NzbG1vZGU9cmVxdWlyZVwiJyk7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICAvLyBOZW9uIFBvc3RncmVzIGNvbmZpZ3VyYXRpb25cclxuICAgIC8vIGZldGNoQ29ubmVjdGlvbkNhY2hlIGlzIG5vdyBhbHdheXMgdHJ1ZSBieSBkZWZhdWx0LCBubyBuZWVkIHRvIHNldCBpdFxyXG4gICAgY29uc3Qgc3FsID0gbmVvbihwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwpO1xyXG4gICAgZGIgPSBkcml6emxlKHNxbCwgeyBzY2hlbWEgfSk7XHJcbiAgICBjb25zb2xlLmxvZygn4pyFIERhdGFiYXNlIGNvbm5lY3Rpb24gaW5pdGlhbGl6ZWQgKE5lb24gUG9zdGdyZXMpJyk7XHJcbiAgICByZXR1cm4gZGI7XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBpbml0aWFsaXplIGRhdGFiYXNlIGNvbm5lY3Rpb246JywgZXJyb3I/Lm1lc3NhZ2UgfHwgZXJyb3IpO1xyXG4gICAgY29uc29sZS5lcnJvcignICAgRGF0YWJhc2UgZmVhdHVyZXMgd2lsbCBiZSBkaXNhYmxlZCB1bnRpbCBEQVRBQkFTRV9VUkwgaXMgcHJvcGVybHkgY29uZmlndXJlZCcpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBJbml0aWFsaXplIGRhdGFiYXNlIC0gc2FmZSBpbml0aWFsaXphdGlvbiB0aGF0IHdvbid0IGNyYXNoIHRoZSBhcHBcclxuLy8gVGhpcyBhbGxvd3MgdGhlIGFwcCB0byBzdGFydCBldmVuIGlmIERBVEFCQVNFX1VSTCBpcyBtaXNzaW5nIG9yIGludmFsaWRcclxuZGIgPSBpbml0aWFsaXplRGF0YWJhc2UoKTtcclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjaGVjayBpZiBkYXRhYmFzZSBpcyBhdmFpbGFibGVcclxuZXhwb3J0IGZ1bmN0aW9uIGlzRGF0YWJhc2VBdmFpbGFibGUoKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIGRiICE9PSBudWxsICYmIGRiICE9PSB1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgZGF0YWJhc2Ugb3IgdGhyb3cgZXJyb3JcclxuZXhwb3J0IGZ1bmN0aW9uIGdldERhdGFiYXNlKCkge1xyXG4gIGlmICghZGIpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignRGF0YWJhc2UgaXMgbm90IGF2YWlsYWJsZS4gUGxlYXNlIGNoZWNrIHlvdXIgREFUQUJBU0VfVVJMIGluIC5lbnYubG9jYWwnKTtcclxuICB9XHJcbiAgcmV0dXJuIGRiO1xyXG59XHJcblxyXG5leHBvcnQgeyBkYiB9O1xyXG4iXSwibmFtZXMiOlsiZHJpenpsZSIsIm5lb24iLCJzY2hlbWEiLCJkYiIsImluaXRpYWxpemVEYXRhYmFzZSIsInByb2Nlc3MiLCJlbnYiLCJEQVRBQkFTRV9VUkwiLCJjb25zb2xlIiwid2FybiIsInNxbCIsImxvZyIsImVycm9yIiwibWVzc2FnZSIsImlzRGF0YWJhc2VBdmFpbGFibGUiLCJ1bmRlZmluZWQiLCJnZXREYXRhYmFzZSIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db/schema.ts":
/*!******************************!*\
  !*** ./src/lib/db/schema.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   accessRequests: () => (/* binding */ accessRequests),\n/* harmony export */   accessRequestsRelations: () => (/* binding */ accessRequestsRelations),\n/* harmony export */   blogPosts: () => (/* binding */ blogPosts),\n/* harmony export */   categoriesRelations: () => (/* binding */ categoriesRelations),\n/* harmony export */   certificates: () => (/* binding */ certificates),\n/* harmony export */   certificatesRelations: () => (/* binding */ certificatesRelations),\n/* harmony export */   chapters: () => (/* binding */ chapters),\n/* harmony export */   chaptersRelations: () => (/* binding */ chaptersRelations),\n/* harmony export */   couponUsage: () => (/* binding */ couponUsage),\n/* harmony export */   coupons: () => (/* binding */ coupons),\n/* harmony export */   courseAnnouncements: () => (/* binding */ courseAnnouncements),\n/* harmony export */   courseAnnouncementsRelations: () => (/* binding */ courseAnnouncementsRelations),\n/* harmony export */   courseAnswers: () => (/* binding */ courseAnswers),\n/* harmony export */   courseAnswersRelations: () => (/* binding */ courseAnswersRelations),\n/* harmony export */   courseBookmarks: () => (/* binding */ courseBookmarks),\n/* harmony export */   courseBookmarksRelations: () => (/* binding */ courseBookmarksRelations),\n/* harmony export */   courseCategories: () => (/* binding */ courseCategories),\n/* harmony export */   courseCategoryMapping: () => (/* binding */ courseCategoryMapping),\n/* harmony export */   courseNotes: () => (/* binding */ courseNotes),\n/* harmony export */   courseNotesRelations: () => (/* binding */ courseNotesRelations),\n/* harmony export */   courseQuestions: () => (/* binding */ courseQuestions),\n/* harmony export */   courseQuestionsRelations: () => (/* binding */ courseQuestionsRelations),\n/* harmony export */   courseReviews: () => (/* binding */ courseReviews),\n/* harmony export */   courseReviewsRelations: () => (/* binding */ courseReviewsRelations),\n/* harmony export */   courses: () => (/* binding */ courses),\n/* harmony export */   coursesRelations: () => (/* binding */ coursesRelations),\n/* harmony export */   dailyVideoSettings: () => (/* binding */ dailyVideoSettings),\n/* harmony export */   dailyVideos: () => (/* binding */ dailyVideos),\n/* harmony export */   dailyVideosRelations: () => (/* binding */ dailyVideosRelations),\n/* harmony export */   modules: () => (/* binding */ modules),\n/* harmony export */   modulesRelations: () => (/* binding */ modulesRelations),\n/* harmony export */   notifications: () => (/* binding */ notifications),\n/* harmony export */   notificationsRelations: () => (/* binding */ notificationsRelations),\n/* harmony export */   nursingCandidateForms: () => (/* binding */ nursingCandidateForms),\n/* harmony export */   payments: () => (/* binding */ payments),\n/* harmony export */   paymentsRelations: () => (/* binding */ paymentsRelations),\n/* harmony export */   qbankQuestionAttempts: () => (/* binding */ qbankQuestionAttempts),\n/* harmony export */   qbankQuestionAttemptsRelations: () => (/* binding */ qbankQuestionAttemptsRelations),\n/* harmony export */   qbankQuestionStatistics: () => (/* binding */ qbankQuestionStatistics),\n/* harmony export */   qbankQuestionStatisticsRelations: () => (/* binding */ qbankQuestionStatisticsRelations),\n/* harmony export */   qbankQuestions: () => (/* binding */ qbankQuestions),\n/* harmony export */   qbankQuestionsRelations: () => (/* binding */ qbankQuestionsRelations),\n/* harmony export */   qbankTests: () => (/* binding */ qbankTests),\n/* harmony export */   qbankTestsRelations: () => (/* binding */ qbankTestsRelations),\n/* harmony export */   questionBanks: () => (/* binding */ questionBanks),\n/* harmony export */   questionBanksRelations: () => (/* binding */ questionBanksRelations),\n/* harmony export */   quizQuestions: () => (/* binding */ quizQuestions),\n/* harmony export */   quizQuestionsRelations: () => (/* binding */ quizQuestionsRelations),\n/* harmony export */   quizzes: () => (/* binding */ quizzes),\n/* harmony export */   quizzesRelations: () => (/* binding */ quizzesRelations),\n/* harmony export */   sessions: () => (/* binding */ sessions),\n/* harmony export */   sessionsRelations: () => (/* binding */ sessionsRelations),\n/* harmony export */   studentProgress: () => (/* binding */ studentProgress),\n/* harmony export */   studentProgressRelations: () => (/* binding */ studentProgressRelations),\n/* harmony export */   users: () => (/* binding */ users),\n/* harmony export */   usersRelations: () => (/* binding */ usersRelations),\n/* harmony export */   videoProgress: () => (/* binding */ videoProgress),\n/* harmony export */   videoProgressRelations: () => (/* binding */ videoProgressRelations),\n/* harmony export */   wishlist: () => (/* binding */ wishlist),\n/* harmony export */   wishlistRelations: () => (/* binding */ wishlistRelations)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/serial.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/text.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/boolean.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/timestamp.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/unique-constraint.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/real.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/integer.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/jsonb.js\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/relations.js\");\n\n\n// Users table\n// Changed: email is no longer unique alone - now (email, role) must be unique together\n// This allows same email to have both student and admin accounts\nconst users = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"users\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"name\").notNull(),\n    email: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"email\").notNull(),\n    password: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"password\").notNull(),\n    phone: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"phone\"),\n    role: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"role\").notNull().default(\"student\"),\n    isActive: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"is_active\").notNull().default(true),\n    faceIdEnrolled: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"face_id_enrolled\").notNull().default(false),\n    faceTemplate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"face_template\"),\n    fingerprintEnrolled: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"fingerprint_enrolled\").notNull().default(false),\n    fingerprintCredentialId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"fingerprint_credential_id\"),\n    twoFactorEnabled: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"two_factor_enabled\").notNull().default(false),\n    twoFactorSecret: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"two_factor_secret\"),\n    twoFactorBackupCodes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"two_factor_backup_codes\"),\n    bio: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"bio\"),\n    profilePicture: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"profile_picture\"),\n    joinedDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"joined_date\").notNull().defaultNow(),\n    lastLogin: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"last_login\"),\n    resetToken: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"reset_token\"),\n    resetTokenExpiry: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"reset_token_expiry\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").notNull().defaultNow(),\n    otpSecret: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"otp_secret\"),\n    otpExpiry: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"otp_expiry\")\n}, (table)=>({\n        // Composite unique constraint: same email can have student AND admin accounts\n        // But cannot have duplicate student or duplicate admin with same email\n        emailRoleUnique: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.unique)(\"users_email_role_unique\").on(table.email, table.role)\n    }));\n// Courses table\nconst courses = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"courses\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"title\").notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"description\").notNull(),\n    instructor: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"instructor\").notNull(),\n    thumbnail: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"thumbnail\"),\n    pricing: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.real)(\"pricing\"),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"status\").notNull().default(\"draft\"),\n    isRequestable: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"is_requestable\").notNull().default(true),\n    isDefaultUnlocked: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"is_default_unlocked\").notNull().default(false),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Modules table\nconst modules = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"modules\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    courseId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"course_id\").notNull().references(()=>courses.id, {\n        onDelete: \"cascade\"\n    }),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"title\").notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"description\"),\n    order: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"order\").notNull(),\n    isPublished: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"is_published\").notNull().default(true),\n    duration: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"duration\").notNull(),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Chapters table\nconst chapters = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"chapters\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    moduleId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"module_id\").notNull().references(()=>modules.id, {\n        onDelete: \"cascade\"\n    }),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"title\").notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"description\"),\n    type: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"type\").notNull(),\n    order: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"order\").notNull(),\n    isPublished: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"is_published\").notNull().default(true),\n    prerequisiteChapterId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"prerequisite_chapter_id\"),\n    // Video specific fields\n    videoUrl: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"video_url\"),\n    videoProvider: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"video_provider\"),\n    videoDuration: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"video_duration\"),\n    transcript: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"transcript\"),\n    // Textbook specific fields\n    textbookContent: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"textbook_content\"),\n    textbookFileUrl: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"textbook_file_url\"),\n    readingTime: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"reading_time\"),\n    // MCQ specific fields\n    mcqData: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"mcq_data\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Quizzes table\nconst quizzes = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"quizzes\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    chapterId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"chapter_id\").notNull().references(()=>chapters.id, {\n        onDelete: \"cascade\"\n    }),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"title\").notNull(),\n    passMark: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"pass_mark\").notNull().default(70),\n    timeLimit: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"time_limit\"),\n    showAnswers: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"show_answers\").notNull().default(true),\n    maxAttempts: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"max_attempts\").notNull().default(3),\n    isPublished: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"is_published\").notNull().default(true),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Quiz Questions table\nconst quizQuestions = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"quiz_questions\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    quizId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"quiz_id\").notNull().references(()=>quizzes.id, {\n        onDelete: \"cascade\"\n    }),\n    question: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"question\").notNull(),\n    options: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"options\").notNull(),\n    correctAnswer: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"correct_answer\").notNull(),\n    explanation: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"explanation\"),\n    order: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"order\").notNull()\n});\n// Blog Posts table\nconst blogPosts = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"blog_posts\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"title\").notNull(),\n    slug: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"slug\").unique().notNull(),\n    content: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"content\").notNull(),\n    author: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"author\").notNull(),\n    cover: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"cover\"),\n    tags: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"tags\").notNull().default(\"[]\"),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"status\").notNull().default(\"draft\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Access Requests table\nconst accessRequests = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"access_requests\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    studentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"student_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    courseId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"course_id\").notNull().references(()=>courses.id, {\n        onDelete: \"cascade\"\n    }),\n    reason: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"reason\"),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"status\").notNull().default(\"pending\"),\n    requestedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"requested_at\").notNull().defaultNow(),\n    reviewedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"reviewed_at\"),\n    reviewedBy: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"reviewed_by\").references(()=>users.id)\n});\n// Student Progress table\nconst studentProgress = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"student_progress\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    studentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"student_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    courseId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"course_id\").notNull().references(()=>courses.id, {\n        onDelete: \"cascade\"\n    }),\n    completedChapters: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"completed_chapters\").notNull().default(\"[]\"),\n    watchedVideos: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"watched_videos\").notNull().default(\"[]\"),\n    quizAttempts: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"quiz_attempts\").notNull().default(\"[]\"),\n    totalProgress: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"total_progress\").notNull().default(0),\n    lastAccessed: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"last_accessed\").notNull().defaultNow()\n});\n// Daily Videos table\nconst dailyVideos = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"daily_videos\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    chapterId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"chapter_id\").notNull().references(()=>chapters.id, {\n        onDelete: \"cascade\"\n    }),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"title\").notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"description\"),\n    day: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"day\").notNull(),\n    isActive: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"is_active\").notNull().default(true),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").notNull().defaultNow()\n});\n// Notifications table\nconst notifications = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"notifications\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"user_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"title\").notNull(),\n    message: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"message\").notNull(),\n    type: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"type\").notNull().default(\"info\"),\n    isRead: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"is_read\").notNull().default(false),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").notNull().defaultNow()\n});\n// Sessions table for session management\nconst sessions = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"sessions\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"user_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    sessionToken: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"session_token\").unique().notNull(),\n    deviceInfo: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"device_info\"),\n    expiresAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"expires_at\").notNull(),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").notNull().defaultNow()\n});\n// Payments/Transactions table\nconst payments = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"payments\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"user_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    courseId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"course_id\").notNull().references(()=>courses.id, {\n        onDelete: \"cascade\"\n    }),\n    amount: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.real)(\"amount\").notNull(),\n    currency: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"currency\").notNull().default(\"INR\"),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"status\").notNull().default(\"pending\"),\n    stripePaymentIntentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"stripe_payment_intent_id\"),\n    stripeSessionId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"stripe_session_id\"),\n    paymentMethod: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"payment_method\"),\n    transactionId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"transaction_id\"),\n    metadata: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"metadata\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Relations\nconst usersRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(users, ({ many })=>({\n        accessRequests: many(accessRequests),\n        studentProgress: many(studentProgress),\n        notifications: many(notifications),\n        sessions: many(sessions),\n        reviewedRequests: many(accessRequests, {\n            relationName: \"reviewer\"\n        })\n    }));\nconst coursesRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(courses, ({ many })=>({\n        modules: many(modules),\n        accessRequests: many(accessRequests),\n        studentProgress: many(studentProgress)\n    }));\nconst modulesRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(modules, ({ one, many })=>({\n        course: one(courses, {\n            fields: [\n                modules.courseId\n            ],\n            references: [\n                courses.id\n            ]\n        }),\n        chapters: many(chapters)\n    }));\nconst chaptersRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(chapters, ({ one, many })=>({\n        module: one(modules, {\n            fields: [\n                chapters.moduleId\n            ],\n            references: [\n                modules.id\n            ]\n        }),\n        prerequisiteChapter: one(chapters, {\n            fields: [\n                chapters.prerequisiteChapterId\n            ],\n            references: [\n                chapters.id\n            ]\n        }),\n        quizzes: many(quizzes),\n        dailyVideos: many(dailyVideos)\n    }));\nconst quizzesRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(quizzes, ({ one, many })=>({\n        chapter: one(chapters, {\n            fields: [\n                quizzes.chapterId\n            ],\n            references: [\n                chapters.id\n            ]\n        }),\n        questions: many(quizQuestions)\n    }));\nconst quizQuestionsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(quizQuestions, ({ one })=>({\n        quiz: one(quizzes, {\n            fields: [\n                quizQuestions.quizId\n            ],\n            references: [\n                quizzes.id\n            ]\n        })\n    }));\nconst accessRequestsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(accessRequests, ({ one })=>({\n        student: one(users, {\n            fields: [\n                accessRequests.studentId\n            ],\n            references: [\n                users.id\n            ]\n        }),\n        course: one(courses, {\n            fields: [\n                accessRequests.courseId\n            ],\n            references: [\n                courses.id\n            ]\n        }),\n        reviewer: one(users, {\n            fields: [\n                accessRequests.reviewedBy\n            ],\n            references: [\n                users.id\n            ],\n            relationName: \"reviewer\"\n        })\n    }));\nconst studentProgressRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(studentProgress, ({ one })=>({\n        student: one(users, {\n            fields: [\n                studentProgress.studentId\n            ],\n            references: [\n                users.id\n            ]\n        }),\n        course: one(courses, {\n            fields: [\n                studentProgress.courseId\n            ],\n            references: [\n                courses.id\n            ]\n        })\n    }));\nconst dailyVideosRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(dailyVideos, ({ one })=>({\n        chapter: one(chapters, {\n            fields: [\n                dailyVideos.chapterId\n            ],\n            references: [\n                chapters.id\n            ]\n        })\n    }));\nconst notificationsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(notifications, ({ one })=>({\n        user: one(users, {\n            fields: [\n                notifications.userId\n            ],\n            references: [\n                users.id\n            ]\n        })\n    }));\nconst sessionsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(sessions, ({ one })=>({\n        user: one(users, {\n            fields: [\n                sessions.userId\n            ],\n            references: [\n                users.id\n            ]\n        })\n    }));\nconst paymentsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(payments, ({ one })=>({\n        user: one(users, {\n            fields: [\n                payments.userId\n            ],\n            references: [\n                users.id\n            ]\n        }),\n        course: one(courses, {\n            fields: [\n                payments.courseId\n            ],\n            references: [\n                courses.id\n            ]\n        })\n    }));\n// Course Reviews & Ratings\nconst courseReviews = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"course_reviews\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    courseId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"course_id\").notNull().references(()=>courses.id, {\n        onDelete: \"cascade\"\n    }),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"user_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    rating: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"rating\").notNull(),\n    review: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"review\"),\n    isPublished: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"is_published\").notNull().default(true),\n    helpful: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"helpful\").notNull().default(0),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").notNull().defaultNow()\n}, (table)=>({\n        // One review per user per course\n        userCourseUnique: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.unique)(\"user_course_review_unique\").on(table.userId, table.courseId)\n    }));\nconst courseReviewsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(courseReviews, ({ one })=>({\n        course: one(courses, {\n            fields: [\n                courseReviews.courseId\n            ],\n            references: [\n                courses.id\n            ]\n        }),\n        user: one(users, {\n            fields: [\n                courseReviews.userId\n            ],\n            references: [\n                users.id\n            ]\n        })\n    }));\n// Wishlist / Favorites\nconst wishlist = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"wishlist\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"user_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    courseId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"course_id\").notNull().references(()=>courses.id, {\n        onDelete: \"cascade\"\n    }),\n    addedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"added_at\").notNull().defaultNow()\n}, (table)=>({\n        // One wishlist entry per user per course\n        userCourseUnique: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.unique)(\"user_course_wishlist_unique\").on(table.userId, table.courseId)\n    }));\nconst wishlistRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(wishlist, ({ one })=>({\n        user: one(users, {\n            fields: [\n                wishlist.userId\n            ],\n            references: [\n                users.id\n            ]\n        }),\n        course: one(courses, {\n            fields: [\n                wishlist.courseId\n            ],\n            references: [\n                courses.id\n            ]\n        })\n    }));\n// Course Categories\nconst courseCategories = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"course_categories\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"name\").notNull(),\n    slug: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"slug\").notNull().unique(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"description\"),\n    icon: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"icon\"),\n    parentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"parent_id\").references(()=>courseCategories.id),\n    order: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"order\").notNull().default(0),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").notNull().defaultNow()\n});\nconst categoriesRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(courseCategories, ({ one, many })=>({\n        parent: one(courseCategories, {\n            fields: [\n                courseCategories.parentId\n            ],\n            references: [\n                courseCategories.id\n            ],\n            relationName: \"parent\"\n        }),\n        children: many(courseCategories, {\n            relationName: \"parent\"\n        }),\n        courses: many(courses)\n    }));\n// Course-Category mapping (many-to-many)\nconst courseCategoryMapping = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"course_category_mapping\", {\n    courseId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"course_id\").notNull().references(()=>courses.id, {\n        onDelete: \"cascade\"\n    }),\n    categoryId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"category_id\").notNull().references(()=>courseCategories.id, {\n        onDelete: \"cascade\"\n    })\n}, (table)=>({\n        pk: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.unique)(\"course_category_pk\").on(table.courseId, table.categoryId)\n    }));\n// Completion Certificates\nconst certificates = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"certificates\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"user_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    courseId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"course_id\").notNull().references(()=>courses.id, {\n        onDelete: \"cascade\"\n    }),\n    certificateNumber: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"certificate_number\").notNull().unique(),\n    completedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"completed_at\").notNull().defaultNow(),\n    pdfUrl: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"pdf_url\"),\n    issuedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"issued_at\").notNull().defaultNow()\n}, (table)=>({\n        // One certificate per user per course\n        userCourseUnique: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.unique)(\"user_course_certificate_unique\").on(table.userId, table.courseId)\n    }));\nconst certificatesRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(certificates, ({ one })=>({\n        user: one(users, {\n            fields: [\n                certificates.userId\n            ],\n            references: [\n                users.id\n            ]\n        }),\n        course: one(courses, {\n            fields: [\n                certificates.courseId\n            ],\n            references: [\n                courses.id\n            ]\n        })\n    }));\n// Student Notes (Timestamped)\nconst courseNotes = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"course_notes\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"user_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    chapterId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"chapter_id\").notNull().references(()=>chapters.id, {\n        onDelete: \"cascade\"\n    }),\n    timestamp: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"timestamp\"),\n    note: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"note\").notNull(),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\nconst courseNotesRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(courseNotes, ({ one })=>({\n        user: one(users, {\n            fields: [\n                courseNotes.userId\n            ],\n            references: [\n                users.id\n            ]\n        }),\n        chapter: one(chapters, {\n            fields: [\n                courseNotes.chapterId\n            ],\n            references: [\n                chapters.id\n            ]\n        })\n    }));\n// Course Bookmarks\nconst courseBookmarks = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"course_bookmarks\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"user_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    chapterId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"chapter_id\").notNull().references(()=>chapters.id, {\n        onDelete: \"cascade\"\n    }),\n    timestamp: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"timestamp\"),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"title\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").notNull().defaultNow()\n});\nconst courseBookmarksRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(courseBookmarks, ({ one })=>({\n        user: one(users, {\n            fields: [\n                courseBookmarks.userId\n            ],\n            references: [\n                users.id\n            ]\n        }),\n        chapter: one(chapters, {\n            fields: [\n                courseBookmarks.chapterId\n            ],\n            references: [\n                chapters.id\n            ]\n        })\n    }));\n// Course Q&A\nconst courseQuestions = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"course_questions\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    courseId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"course_id\").notNull().references(()=>courses.id, {\n        onDelete: \"cascade\"\n    }),\n    chapterId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"chapter_id\").references(()=>chapters.id, {\n        onDelete: \"cascade\"\n    }),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"user_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    question: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"question\").notNull(),\n    isAnswered: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"is_answered\").notNull().default(false),\n    upvotes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"upvotes\").notNull().default(0),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\nconst courseQuestionsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(courseQuestions, ({ one, many })=>({\n        course: one(courses, {\n            fields: [\n                courseQuestions.courseId\n            ],\n            references: [\n                courses.id\n            ]\n        }),\n        chapter: one(chapters, {\n            fields: [\n                courseQuestions.chapterId\n            ],\n            references: [\n                chapters.id\n            ]\n        }),\n        user: one(users, {\n            fields: [\n                courseQuestions.userId\n            ],\n            references: [\n                users.id\n            ]\n        }),\n        answers: many(courseAnswers)\n    }));\n// Course Answers\nconst courseAnswers = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"course_answers\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    questionId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"question_id\").notNull().references(()=>courseQuestions.id, {\n        onDelete: \"cascade\"\n    }),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"user_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    answer: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"answer\").notNull(),\n    isInstructorAnswer: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"is_instructor_answer\").notNull().default(false),\n    upvotes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"upvotes\").notNull().default(0),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\nconst courseAnswersRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(courseAnswers, ({ one })=>({\n        question: one(courseQuestions, {\n            fields: [\n                courseAnswers.questionId\n            ],\n            references: [\n                courseQuestions.id\n            ]\n        }),\n        user: one(users, {\n            fields: [\n                courseAnswers.userId\n            ],\n            references: [\n                users.id\n            ]\n        })\n    }));\n// Coupons & Discount Codes\nconst coupons = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"coupons\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    code: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"code\").notNull().unique(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"description\"),\n    discountType: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"discount_type\").notNull(),\n    discountValue: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.real)(\"discount_value\").notNull(),\n    maxUses: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"max_uses\"),\n    usedCount: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"used_count\").notNull().default(0),\n    validFrom: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"valid_from\").notNull().defaultNow(),\n    validUntil: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"valid_until\"),\n    isActive: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"is_active\").notNull().default(true),\n    applicableCourses: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"applicable_courses\"),\n    minPurchaseAmount: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.real)(\"min_purchase_amount\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").notNull().defaultNow()\n});\n// Coupon Usage Tracking\nconst couponUsage = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"coupon_usage\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    couponId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"coupon_id\").notNull().references(()=>coupons.id, {\n        onDelete: \"cascade\"\n    }),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"user_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    paymentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"payment_id\").references(()=>payments.id),\n    discountAmount: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.real)(\"discount_amount\").notNull(),\n    usedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"used_at\").notNull().defaultNow()\n});\n// Video Progress Tracking (Detailed)\nconst videoProgress = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"video_progress\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"user_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    chapterId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"chapter_id\").notNull().references(()=>chapters.id, {\n        onDelete: \"cascade\"\n    }),\n    currentTime: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"current_time\").notNull().default(0),\n    duration: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"duration\").notNull(),\n    watchedPercentage: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.real)(\"watched_percentage\").notNull().default(0),\n    completed: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"completed\").notNull().default(false),\n    lastWatchedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"last_watched_at\").notNull().defaultNow()\n}, (table)=>({\n        userChapterUnique: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.unique)(\"user_chapter_progress_unique\").on(table.userId, table.chapterId)\n    }));\nconst videoProgressRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(videoProgress, ({ one })=>({\n        user: one(users, {\n            fields: [\n                videoProgress.userId\n            ],\n            references: [\n                users.id\n            ]\n        }),\n        chapter: one(chapters, {\n            fields: [\n                videoProgress.chapterId\n            ],\n            references: [\n                chapters.id\n            ]\n        })\n    }));\n// Course Announcements\nconst courseAnnouncements = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"course_announcements\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    courseId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"course_id\").notNull().references(()=>courses.id, {\n        onDelete: \"cascade\"\n    }),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"title\").notNull(),\n    content: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"content\").notNull(),\n    isPublished: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"is_published\").notNull().default(true),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\nconst courseAnnouncementsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(courseAnnouncements, ({ one })=>({\n        course: one(courses, {\n            fields: [\n                courseAnnouncements.courseId\n            ],\n            references: [\n                courses.id\n            ]\n        })\n    }));\n// Nursing Candidate Registration Forms\nconst nursingCandidateForms = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"nursing_candidate_forms\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    referenceNumber: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"reference_number\").notNull(),\n    personalDetails: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.jsonb)(\"personal_details\").$type().notNull(),\n    educationDetails: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.jsonb)(\"education_details\").$type().notNull(),\n    registrationDetails: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.jsonb)(\"registration_details\").$type().notNull(),\n    employmentHistory: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.jsonb)(\"employment_history\").$type().notNull(),\n    canadaEmploymentHistory: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.jsonb)(\"canada_employment_history\").$type().notNull(),\n    documentChecklistAcknowledged: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"document_checklist_acknowledged\").notNull().default(false),\n    disciplinaryAction: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"disciplinary_action\").notNull(),\n    documentEmailStatus: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"document_email_status\").notNull().default(\"pending\"),\n    documentEmailError: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"document_email_error\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Q-Bank Tables\n// Question Banks - links Q-Bank to courses\nconst questionBanks = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"question_banks\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    courseId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"course_id\").notNull().references(()=>courses.id, {\n        onDelete: \"cascade\"\n    }),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"name\").notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"description\"),\n    isActive: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"is_active\").notNull().default(true),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Q-Bank Questions\nconst qbankQuestions = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"qbank_questions\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    questionBankId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"question_bank_id\").notNull().references(()=>questionBanks.id, {\n        onDelete: \"cascade\"\n    }),\n    question: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"question\").notNull(),\n    questionType: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"question_type\").notNull().default(\"multiple_choice\"),\n    options: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"options\").notNull(),\n    correctAnswer: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"correct_answer\").notNull(),\n    explanation: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"explanation\"),\n    subject: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"subject\"),\n    lesson: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"lesson\"),\n    clientNeedArea: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"client_need_area\"),\n    subcategory: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"subcategory\"),\n    testType: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"test_type\").notNull().default(\"mixed\"),\n    difficulty: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"difficulty\").default(\"medium\"),\n    points: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"points\").notNull().default(1),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Q-Bank Tests\nconst qbankTests = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"qbank_tests\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    questionBankId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"question_bank_id\").notNull().references(()=>questionBanks.id, {\n        onDelete: \"cascade\"\n    }),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"user_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    testId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"test_id\").notNull().unique(),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"title\"),\n    mode: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"mode\").notNull().default(\"tutorial\"),\n    testType: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"test_type\").notNull().default(\"mixed\"),\n    organization: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"organization\").notNull().default(\"subject\"),\n    questionIds: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"question_ids\").notNull(),\n    totalQuestions: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"total_questions\").notNull(),\n    timeLimit: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"time_limit\"),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"status\").notNull().default(\"pending\"),\n    score: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"score\"),\n    maxScore: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"max_score\"),\n    percentage: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.real)(\"percentage\"),\n    startedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"started_at\"),\n    completedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"completed_at\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Q-Bank Test Attempts (individual question attempts within a test)\nconst qbankQuestionAttempts = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"qbank_question_attempts\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    testId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"test_id\").notNull().references(()=>qbankTests.id, {\n        onDelete: \"cascade\"\n    }),\n    questionId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"question_id\").notNull().references(()=>qbankQuestions.id, {\n        onDelete: \"cascade\"\n    }),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"user_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    userAnswer: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"user_answer\").notNull(),\n    isCorrect: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"is_correct\").notNull(),\n    isOmitted: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"is_omitted\").notNull().default(false),\n    isPartiallyCorrect: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"is_partially_correct\").notNull().default(false),\n    pointsEarned: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"points_earned\").notNull().default(0),\n    timeSpent: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"time_spent\"),\n    attemptedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"attempted_at\").notNull().defaultNow()\n});\n// Q-Bank Question Statistics (aggregated per user per question)\nconst qbankQuestionStatistics = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"qbank_question_statistics\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"user_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    questionId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"question_id\").notNull().references(()=>qbankQuestions.id, {\n        onDelete: \"cascade\"\n    }),\n    questionBankId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"question_bank_id\").notNull().references(()=>questionBanks.id, {\n        onDelete: \"cascade\"\n    }),\n    timesAttempted: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"times_attempted\").notNull().default(0),\n    timesCorrect: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"times_correct\").notNull().default(0),\n    timesIncorrect: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"times_incorrect\").notNull().default(0),\n    timesOmitted: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"times_omitted\").notNull().default(0),\n    timesCorrectOnReattempt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"times_correct_on_reattempt\").notNull().default(0),\n    confidenceLevel: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"confidence_level\"),\n    lastAttemptedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"last_attempted_at\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").notNull().defaultNow()\n}, (table)=>({\n        userQuestionUnique: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.unique)(\"user_question_statistics_unique\").on(table.userId, table.questionId)\n    }));\n// Q-Bank Relations\nconst questionBanksRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(questionBanks, ({ one, many })=>({\n        course: one(courses, {\n            fields: [\n                questionBanks.courseId\n            ],\n            references: [\n                courses.id\n            ]\n        }),\n        questions: many(qbankQuestions),\n        tests: many(qbankTests)\n    }));\nconst qbankQuestionsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(qbankQuestions, ({ one, many })=>({\n        questionBank: one(questionBanks, {\n            fields: [\n                qbankQuestions.questionBankId\n            ],\n            references: [\n                questionBanks.id\n            ]\n        }),\n        attempts: many(qbankQuestionAttempts),\n        statistics: many(qbankQuestionStatistics)\n    }));\nconst qbankTestsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(qbankTests, ({ one, many })=>({\n        questionBank: one(questionBanks, {\n            fields: [\n                qbankTests.questionBankId\n            ],\n            references: [\n                questionBanks.id\n            ]\n        }),\n        user: one(users, {\n            fields: [\n                qbankTests.userId\n            ],\n            references: [\n                users.id\n            ]\n        }),\n        questionAttempts: many(qbankQuestionAttempts)\n    }));\nconst qbankQuestionAttemptsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(qbankQuestionAttempts, ({ one })=>({\n        test: one(qbankTests, {\n            fields: [\n                qbankQuestionAttempts.testId\n            ],\n            references: [\n                qbankTests.id\n            ]\n        }),\n        question: one(qbankQuestions, {\n            fields: [\n                qbankQuestionAttempts.questionId\n            ],\n            references: [\n                qbankQuestions.id\n            ]\n        }),\n        user: one(users, {\n            fields: [\n                qbankQuestionAttempts.userId\n            ],\n            references: [\n                users.id\n            ]\n        })\n    }));\nconst qbankQuestionStatisticsRelations = (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_8__.relations)(qbankQuestionStatistics, ({ one })=>({\n        user: one(users, {\n            fields: [\n                qbankQuestionStatistics.userId\n            ],\n            references: [\n                users.id\n            ]\n        }),\n        question: one(qbankQuestions, {\n            fields: [\n                qbankQuestionStatistics.questionId\n            ],\n            references: [\n                qbankQuestions.id\n            ]\n        }),\n        questionBank: one(questionBanks, {\n            fields: [\n                qbankQuestionStatistics.questionBankId\n            ],\n            references: [\n                questionBanks.id\n            ]\n        })\n    }));\n// Note: questionBanks relation to courses is handled via foreign key,\n// but if needed, it can be added to coursesRelations above\n// Daily Video Settings\nconst dailyVideoSettings = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_0__.pgTable)(\"daily_video_settings\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.serial)(\"id\").primaryKey(),\n    sourceType: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.text)(\"source_type\").notNull().default(\"manual\"),\n    sourceCourseId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.integer)(\"source_course_id\").references(()=>courses.id),\n    autoRotate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.boolean)(\"auto_rotate\").notNull().default(false),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUMsZUFBZVMsT0FBTyxHQUFHSyxPQUFPLENBQUM7SUFDckRpQixXQUFXOUIsOERBQVNBLENBQUMsY0FBY1EsT0FBTyxHQUFHaUIsVUFBVTtBQUN6RCxHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbG1zLXBsYXRmb3JtLy4vc3JjL2xpYi9kYi9zY2hlbWEudHM/NjJiNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwZ1RhYmxlLCB0ZXh0LCBzZXJpYWwsIGludGVnZXIsIHJlYWwsIGJvb2xlYW4sIHRpbWVzdGFtcCwgdW5pcXVlLCBqc29uYiB9IGZyb20gJ2RyaXp6bGUtb3JtL3BnLWNvcmUnO1xyXG5pbXBvcnQgdHlwZSB7IE51cnNpbmdDYW5kaWRhdGVGb3JtUGF5bG9hZCB9IGZyb20gJ0AvdHlwZXMvbnVyc2luZy1jYW5kaWRhdGUnO1xyXG5pbXBvcnQgeyByZWxhdGlvbnMgfSBmcm9tICdkcml6emxlLW9ybSc7XHJcblxyXG4vLyBVc2VycyB0YWJsZVxyXG4vLyBDaGFuZ2VkOiBlbWFpbCBpcyBubyBsb25nZXIgdW5pcXVlIGFsb25lIC0gbm93IChlbWFpbCwgcm9sZSkgbXVzdCBiZSB1bmlxdWUgdG9nZXRoZXJcclxuLy8gVGhpcyBhbGxvd3Mgc2FtZSBlbWFpbCB0byBoYXZlIGJvdGggc3R1ZGVudCBhbmQgYWRtaW4gYWNjb3VudHNcclxuZXhwb3J0IGNvbnN0IHVzZXJzID0gcGdUYWJsZSgndXNlcnMnLCB7XHJcbiAgaWQ6IHNlcmlhbCgnaWQnKS5wcmltYXJ5S2V5KCksXHJcbiAgbmFtZTogdGV4dCgnbmFtZScpLm5vdE51bGwoKSxcclxuICBlbWFpbDogdGV4dCgnZW1haWwnKS5ub3ROdWxsKCksIC8vIFJlbW92ZWQgLnVuaXF1ZSgpIC0gbm93IHBhcnQgb2YgY29tcG9zaXRlIHVuaXF1ZVxyXG4gIHBhc3N3b3JkOiB0ZXh0KCdwYXNzd29yZCcpLm5vdE51bGwoKSxcclxuICBwaG9uZTogdGV4dCgncGhvbmUnKSxcclxuICByb2xlOiB0ZXh0KCdyb2xlJykubm90TnVsbCgpLmRlZmF1bHQoJ3N0dWRlbnQnKSxcclxuICBpc0FjdGl2ZTogYm9vbGVhbignaXNfYWN0aXZlJykubm90TnVsbCgpLmRlZmF1bHQodHJ1ZSksXHJcbiAgZmFjZUlkRW5yb2xsZWQ6IGJvb2xlYW4oJ2ZhY2VfaWRfZW5yb2xsZWQnKS5ub3ROdWxsKCkuZGVmYXVsdChmYWxzZSksXHJcbiAgZmFjZVRlbXBsYXRlOiB0ZXh0KCdmYWNlX3RlbXBsYXRlJyksXHJcbiAgZmluZ2VycHJpbnRFbnJvbGxlZDogYm9vbGVhbignZmluZ2VycHJpbnRfZW5yb2xsZWQnKS5ub3ROdWxsKCkuZGVmYXVsdChmYWxzZSksXHJcbiAgZmluZ2VycHJpbnRDcmVkZW50aWFsSWQ6IHRleHQoJ2ZpbmdlcnByaW50X2NyZWRlbnRpYWxfaWQnKSwgLy8gV2ViQXV0aG4gY3JlZGVudGlhbCBJRFxyXG4gIHR3b0ZhY3RvckVuYWJsZWQ6IGJvb2xlYW4oJ3R3b19mYWN0b3JfZW5hYmxlZCcpLm5vdE51bGwoKS5kZWZhdWx0KGZhbHNlKSxcclxuICB0d29GYWN0b3JTZWNyZXQ6IHRleHQoJ3R3b19mYWN0b3Jfc2VjcmV0JyksIC8vIFRPVFAgc2VjcmV0XHJcbiAgdHdvRmFjdG9yQmFja3VwQ29kZXM6IHRleHQoJ3R3b19mYWN0b3JfYmFja3VwX2NvZGVzJyksIC8vIEpTT04gYXJyYXkgb2YgYmFja3VwIGNvZGVzXHJcbiAgYmlvOiB0ZXh0KCdiaW8nKSxcclxuICBwcm9maWxlUGljdHVyZTogdGV4dCgncHJvZmlsZV9waWN0dXJlJyksIC8vIFVSTCBvciBwYXRoIHRvIHByb2ZpbGUgcGljdHVyZVxyXG4gIGpvaW5lZERhdGU6IHRpbWVzdGFtcCgnam9pbmVkX2RhdGUnKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxyXG4gIGxhc3RMb2dpbjogdGltZXN0YW1wKCdsYXN0X2xvZ2luJyksXHJcbiAgcmVzZXRUb2tlbjogdGV4dCgncmVzZXRfdG9rZW4nKSxcclxuICByZXNldFRva2VuRXhwaXJ5OiB0aW1lc3RhbXAoJ3Jlc2V0X3Rva2VuX2V4cGlyeScpLFxyXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0Jykubm90TnVsbCgpLmRlZmF1bHROb3coKSxcclxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcCgndXBkYXRlZF9hdCcpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbiAgb3RwU2VjcmV0OiB0ZXh0KCdvdHBfc2VjcmV0JyksIC8vIEZvciBlbWFpbC9TTVMgT1RQXHJcbiAgb3RwRXhwaXJ5OiB0aW1lc3RhbXAoJ290cF9leHBpcnknKSxcclxufSwgKHRhYmxlKSA9PiAoe1xyXG4gIC8vIENvbXBvc2l0ZSB1bmlxdWUgY29uc3RyYWludDogc2FtZSBlbWFpbCBjYW4gaGF2ZSBzdHVkZW50IEFORCBhZG1pbiBhY2NvdW50c1xyXG4gIC8vIEJ1dCBjYW5ub3QgaGF2ZSBkdXBsaWNhdGUgc3R1ZGVudCBvciBkdXBsaWNhdGUgYWRtaW4gd2l0aCBzYW1lIGVtYWlsXHJcbiAgZW1haWxSb2xlVW5pcXVlOiB1bmlxdWUoJ3VzZXJzX2VtYWlsX3JvbGVfdW5pcXVlJykub24odGFibGUuZW1haWwsIHRhYmxlLnJvbGUpLFxyXG59KSk7XHJcblxyXG4vLyBDb3Vyc2VzIHRhYmxlXHJcbmV4cG9ydCBjb25zdCBjb3Vyc2VzID0gcGdUYWJsZSgnY291cnNlcycsIHtcclxuICBpZDogc2VyaWFsKCdpZCcpLnByaW1hcnlLZXkoKSxcclxuICB0aXRsZTogdGV4dCgndGl0bGUnKS5ub3ROdWxsKCksXHJcbiAgZGVzY3JpcHRpb246IHRleHQoJ2Rlc2NyaXB0aW9uJykubm90TnVsbCgpLFxyXG4gIGluc3RydWN0b3I6IHRleHQoJ2luc3RydWN0b3InKS5ub3ROdWxsKCksXHJcbiAgdGh1bWJuYWlsOiB0ZXh0KCd0aHVtYm5haWwnKSxcclxuICBwcmljaW5nOiByZWFsKCdwcmljaW5nJyksXHJcbiAgc3RhdHVzOiB0ZXh0KCdzdGF0dXMnKS5ub3ROdWxsKCkuZGVmYXVsdCgnZHJhZnQnKSxcclxuICBpc1JlcXVlc3RhYmxlOiBib29sZWFuKCdpc19yZXF1ZXN0YWJsZScpLm5vdE51bGwoKS5kZWZhdWx0KHRydWUpLFxyXG4gIGlzRGVmYXVsdFVubG9ja2VkOiBib29sZWFuKCdpc19kZWZhdWx0X3VubG9ja2VkJykubm90TnVsbCgpLmRlZmF1bHQoZmFsc2UpLFxyXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0Jykubm90TnVsbCgpLmRlZmF1bHROb3coKSxcclxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcCgndXBkYXRlZF9hdCcpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbn0pO1xyXG5cclxuLy8gTW9kdWxlcyB0YWJsZVxyXG5leHBvcnQgY29uc3QgbW9kdWxlcyA9IHBnVGFibGUoJ21vZHVsZXMnLCB7XHJcbiAgaWQ6IHNlcmlhbCgnaWQnKS5wcmltYXJ5S2V5KCksXHJcbiAgY291cnNlSWQ6IGludGVnZXIoJ2NvdXJzZV9pZCcpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IGNvdXJzZXMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KSxcclxuICB0aXRsZTogdGV4dCgndGl0bGUnKS5ub3ROdWxsKCksXHJcbiAgZGVzY3JpcHRpb246IHRleHQoJ2Rlc2NyaXB0aW9uJyksXHJcbiAgb3JkZXI6IGludGVnZXIoJ29yZGVyJykubm90TnVsbCgpLFxyXG4gIGlzUHVibGlzaGVkOiBib29sZWFuKCdpc19wdWJsaXNoZWQnKS5ub3ROdWxsKCkuZGVmYXVsdCh0cnVlKSxcclxuICBkdXJhdGlvbjogaW50ZWdlcignZHVyYXRpb24nKS5ub3ROdWxsKCksXHJcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoJ2NyZWF0ZWRfYXQnKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxyXG4gIHVwZGF0ZWRBdDogdGltZXN0YW1wKCd1cGRhdGVkX2F0Jykubm90TnVsbCgpLmRlZmF1bHROb3coKSxcclxufSk7XHJcblxyXG4vLyBDaGFwdGVycyB0YWJsZVxyXG5leHBvcnQgY29uc3QgY2hhcHRlcnMgPSBwZ1RhYmxlKCdjaGFwdGVycycsIHtcclxuICBpZDogc2VyaWFsKCdpZCcpLnByaW1hcnlLZXkoKSxcclxuICBtb2R1bGVJZDogaW50ZWdlcignbW9kdWxlX2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gbW9kdWxlcy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIHRpdGxlOiB0ZXh0KCd0aXRsZScpLm5vdE51bGwoKSxcclxuICBkZXNjcmlwdGlvbjogdGV4dCgnZGVzY3JpcHRpb24nKSxcclxuICB0eXBlOiB0ZXh0KCd0eXBlJykubm90TnVsbCgpLFxyXG4gIG9yZGVyOiBpbnRlZ2VyKCdvcmRlcicpLm5vdE51bGwoKSxcclxuICBpc1B1Ymxpc2hlZDogYm9vbGVhbignaXNfcHVibGlzaGVkJykubm90TnVsbCgpLmRlZmF1bHQodHJ1ZSksXHJcbiAgcHJlcmVxdWlzaXRlQ2hhcHRlcklkOiBpbnRlZ2VyKCdwcmVyZXF1aXNpdGVfY2hhcHRlcl9pZCcpLFxyXG5cclxuICAvLyBWaWRlbyBzcGVjaWZpYyBmaWVsZHNcclxuICB2aWRlb1VybDogdGV4dCgndmlkZW9fdXJsJyksXHJcbiAgdmlkZW9Qcm92aWRlcjogdGV4dCgndmlkZW9fcHJvdmlkZXInKSxcclxuICB2aWRlb0R1cmF0aW9uOiBpbnRlZ2VyKCd2aWRlb19kdXJhdGlvbicpLFxyXG4gIHRyYW5zY3JpcHQ6IHRleHQoJ3RyYW5zY3JpcHQnKSxcclxuXHJcbiAgLy8gVGV4dGJvb2sgc3BlY2lmaWMgZmllbGRzXHJcbiAgdGV4dGJvb2tDb250ZW50OiB0ZXh0KCd0ZXh0Ym9va19jb250ZW50JyksXHJcbiAgdGV4dGJvb2tGaWxlVXJsOiB0ZXh0KCd0ZXh0Ym9va19maWxlX3VybCcpLFxyXG4gIHJlYWRpbmdUaW1lOiBpbnRlZ2VyKCdyZWFkaW5nX3RpbWUnKSxcclxuXHJcbiAgLy8gTUNRIHNwZWNpZmljIGZpZWxkc1xyXG4gIG1jcURhdGE6IHRleHQoJ21jcV9kYXRhJyksXHJcblxyXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0Jykubm90TnVsbCgpLmRlZmF1bHROb3coKSxcclxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcCgndXBkYXRlZF9hdCcpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbn0pO1xyXG5cclxuLy8gUXVpenplcyB0YWJsZVxyXG5leHBvcnQgY29uc3QgcXVpenplcyA9IHBnVGFibGUoJ3F1aXp6ZXMnLCB7XHJcbiAgaWQ6IHNlcmlhbCgnaWQnKS5wcmltYXJ5S2V5KCksXHJcbiAgY2hhcHRlcklkOiBpbnRlZ2VyKCdjaGFwdGVyX2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gY2hhcHRlcnMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KSxcclxuICB0aXRsZTogdGV4dCgndGl0bGUnKS5ub3ROdWxsKCksXHJcbiAgcGFzc01hcms6IGludGVnZXIoJ3Bhc3NfbWFyaycpLm5vdE51bGwoKS5kZWZhdWx0KDcwKSxcclxuICB0aW1lTGltaXQ6IGludGVnZXIoJ3RpbWVfbGltaXQnKSxcclxuICBzaG93QW5zd2VyczogYm9vbGVhbignc2hvd19hbnN3ZXJzJykubm90TnVsbCgpLmRlZmF1bHQodHJ1ZSksXHJcbiAgbWF4QXR0ZW1wdHM6IGludGVnZXIoJ21heF9hdHRlbXB0cycpLm5vdE51bGwoKS5kZWZhdWx0KDMpLFxyXG4gIGlzUHVibGlzaGVkOiBib29sZWFuKCdpc19wdWJsaXNoZWQnKS5ub3ROdWxsKCkuZGVmYXVsdCh0cnVlKSxcclxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcCgnY3JlYXRlZF9hdCcpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbiAgdXBkYXRlZEF0OiB0aW1lc3RhbXAoJ3VwZGF0ZWRfYXQnKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxyXG59KTtcclxuXHJcbi8vIFF1aXogUXVlc3Rpb25zIHRhYmxlXHJcbmV4cG9ydCBjb25zdCBxdWl6UXVlc3Rpb25zID0gcGdUYWJsZSgncXVpel9xdWVzdGlvbnMnLCB7XHJcbiAgaWQ6IHNlcmlhbCgnaWQnKS5wcmltYXJ5S2V5KCksXHJcbiAgcXVpeklkOiBpbnRlZ2VyKCdxdWl6X2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gcXVpenplcy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIHF1ZXN0aW9uOiB0ZXh0KCdxdWVzdGlvbicpLm5vdE51bGwoKSxcclxuICBvcHRpb25zOiB0ZXh0KCdvcHRpb25zJykubm90TnVsbCgpLFxyXG4gIGNvcnJlY3RBbnN3ZXI6IHRleHQoJ2NvcnJlY3RfYW5zd2VyJykubm90TnVsbCgpLFxyXG4gIGV4cGxhbmF0aW9uOiB0ZXh0KCdleHBsYW5hdGlvbicpLFxyXG4gIG9yZGVyOiBpbnRlZ2VyKCdvcmRlcicpLm5vdE51bGwoKSxcclxufSk7XHJcblxyXG4vLyBCbG9nIFBvc3RzIHRhYmxlXHJcbmV4cG9ydCBjb25zdCBibG9nUG9zdHMgPSBwZ1RhYmxlKCdibG9nX3Bvc3RzJywge1xyXG4gIGlkOiBzZXJpYWwoJ2lkJykucHJpbWFyeUtleSgpLFxyXG4gIHRpdGxlOiB0ZXh0KCd0aXRsZScpLm5vdE51bGwoKSxcclxuICBzbHVnOiB0ZXh0KCdzbHVnJykudW5pcXVlKCkubm90TnVsbCgpLFxyXG4gIGNvbnRlbnQ6IHRleHQoJ2NvbnRlbnQnKS5ub3ROdWxsKCksXHJcbiAgYXV0aG9yOiB0ZXh0KCdhdXRob3InKS5ub3ROdWxsKCksXHJcbiAgY292ZXI6IHRleHQoJ2NvdmVyJyksXHJcbiAgdGFnczogdGV4dCgndGFncycpLm5vdE51bGwoKS5kZWZhdWx0KCdbXScpLFxyXG4gIHN0YXR1czogdGV4dCgnc3RhdHVzJykubm90TnVsbCgpLmRlZmF1bHQoJ2RyYWZ0JyksXHJcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoJ2NyZWF0ZWRfYXQnKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxyXG4gIHVwZGF0ZWRBdDogdGltZXN0YW1wKCd1cGRhdGVkX2F0Jykubm90TnVsbCgpLmRlZmF1bHROb3coKSxcclxufSk7XHJcblxyXG4vLyBBY2Nlc3MgUmVxdWVzdHMgdGFibGVcclxuZXhwb3J0IGNvbnN0IGFjY2Vzc1JlcXVlc3RzID0gcGdUYWJsZSgnYWNjZXNzX3JlcXVlc3RzJywge1xyXG4gIGlkOiBzZXJpYWwoJ2lkJykucHJpbWFyeUtleSgpLFxyXG4gIHN0dWRlbnRJZDogaW50ZWdlcignc3R1ZGVudF9pZCcpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksXHJcbiAgY291cnNlSWQ6IGludGVnZXIoJ2NvdXJzZV9pZCcpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IGNvdXJzZXMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KSxcclxuICByZWFzb246IHRleHQoJ3JlYXNvbicpLFxyXG4gIHN0YXR1czogdGV4dCgnc3RhdHVzJykubm90TnVsbCgpLmRlZmF1bHQoJ3BlbmRpbmcnKSxcclxuICByZXF1ZXN0ZWRBdDogdGltZXN0YW1wKCdyZXF1ZXN0ZWRfYXQnKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxyXG4gIHJldmlld2VkQXQ6IHRpbWVzdGFtcCgncmV2aWV3ZWRfYXQnKSxcclxuICByZXZpZXdlZEJ5OiBpbnRlZ2VyKCdyZXZpZXdlZF9ieScpLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQpLFxyXG59KTtcclxuXHJcbi8vIFN0dWRlbnQgUHJvZ3Jlc3MgdGFibGVcclxuZXhwb3J0IGNvbnN0IHN0dWRlbnRQcm9ncmVzcyA9IHBnVGFibGUoJ3N0dWRlbnRfcHJvZ3Jlc3MnLCB7XHJcbiAgaWQ6IHNlcmlhbCgnaWQnKS5wcmltYXJ5S2V5KCksXHJcbiAgc3R1ZGVudElkOiBpbnRlZ2VyKCdzdHVkZW50X2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KSxcclxuICBjb3Vyc2VJZDogaW50ZWdlcignY291cnNlX2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gY291cnNlcy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIGNvbXBsZXRlZENoYXB0ZXJzOiB0ZXh0KCdjb21wbGV0ZWRfY2hhcHRlcnMnKS5ub3ROdWxsKCkuZGVmYXVsdCgnW10nKSxcclxuICB3YXRjaGVkVmlkZW9zOiB0ZXh0KCd3YXRjaGVkX3ZpZGVvcycpLm5vdE51bGwoKS5kZWZhdWx0KCdbXScpLFxyXG4gIHF1aXpBdHRlbXB0czogdGV4dCgncXVpel9hdHRlbXB0cycpLm5vdE51bGwoKS5kZWZhdWx0KCdbXScpLFxyXG4gIHRvdGFsUHJvZ3Jlc3M6IGludGVnZXIoJ3RvdGFsX3Byb2dyZXNzJykubm90TnVsbCgpLmRlZmF1bHQoMCksXHJcbiAgbGFzdEFjY2Vzc2VkOiB0aW1lc3RhbXAoJ2xhc3RfYWNjZXNzZWQnKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxyXG59KTtcclxuXHJcbi8vIERhaWx5IFZpZGVvcyB0YWJsZVxyXG5leHBvcnQgY29uc3QgZGFpbHlWaWRlb3MgPSBwZ1RhYmxlKCdkYWlseV92aWRlb3MnLCB7XHJcbiAgaWQ6IHNlcmlhbCgnaWQnKS5wcmltYXJ5S2V5KCksXHJcbiAgY2hhcHRlcklkOiBpbnRlZ2VyKCdjaGFwdGVyX2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gY2hhcHRlcnMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KSxcclxuICB0aXRsZTogdGV4dCgndGl0bGUnKS5ub3ROdWxsKCksXHJcbiAgZGVzY3JpcHRpb246IHRleHQoJ2Rlc2NyaXB0aW9uJyksXHJcbiAgZGF5OiBpbnRlZ2VyKCdkYXknKS5ub3ROdWxsKCksXHJcbiAgaXNBY3RpdmU6IGJvb2xlYW4oJ2lzX2FjdGl2ZScpLm5vdE51bGwoKS5kZWZhdWx0KHRydWUpLFxyXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0Jykubm90TnVsbCgpLmRlZmF1bHROb3coKSxcclxufSk7XHJcblxyXG4vLyBOb3RpZmljYXRpb25zIHRhYmxlXHJcbmV4cG9ydCBjb25zdCBub3RpZmljYXRpb25zID0gcGdUYWJsZSgnbm90aWZpY2F0aW9ucycsIHtcclxuICBpZDogc2VyaWFsKCdpZCcpLnByaW1hcnlLZXkoKSxcclxuICB1c2VySWQ6IGludGVnZXIoJ3VzZXJfaWQnKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIHRpdGxlOiB0ZXh0KCd0aXRsZScpLm5vdE51bGwoKSxcclxuICBtZXNzYWdlOiB0ZXh0KCdtZXNzYWdlJykubm90TnVsbCgpLFxyXG4gIHR5cGU6IHRleHQoJ3R5cGUnKS5ub3ROdWxsKCkuZGVmYXVsdCgnaW5mbycpLFxyXG4gIGlzUmVhZDogYm9vbGVhbignaXNfcmVhZCcpLm5vdE51bGwoKS5kZWZhdWx0KGZhbHNlKSxcclxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcCgnY3JlYXRlZF9hdCcpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbn0pO1xyXG5cclxuLy8gU2Vzc2lvbnMgdGFibGUgZm9yIHNlc3Npb24gbWFuYWdlbWVudFxyXG5leHBvcnQgY29uc3Qgc2Vzc2lvbnMgPSBwZ1RhYmxlKCdzZXNzaW9ucycsIHtcclxuICBpZDogc2VyaWFsKCdpZCcpLnByaW1hcnlLZXkoKSxcclxuICB1c2VySWQ6IGludGVnZXIoJ3VzZXJfaWQnKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIHNlc3Npb25Ub2tlbjogdGV4dCgnc2Vzc2lvbl90b2tlbicpLnVuaXF1ZSgpLm5vdE51bGwoKSxcclxuICBkZXZpY2VJbmZvOiB0ZXh0KCdkZXZpY2VfaW5mbycpLFxyXG4gIGV4cGlyZXNBdDogdGltZXN0YW1wKCdleHBpcmVzX2F0Jykubm90TnVsbCgpLFxyXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0Jykubm90TnVsbCgpLmRlZmF1bHROb3coKSxcclxufSk7XHJcblxyXG4vLyBQYXltZW50cy9UcmFuc2FjdGlvbnMgdGFibGVcclxuZXhwb3J0IGNvbnN0IHBheW1lbnRzID0gcGdUYWJsZSgncGF5bWVudHMnLCB7XHJcbiAgaWQ6IHNlcmlhbCgnaWQnKS5wcmltYXJ5S2V5KCksXHJcbiAgdXNlcklkOiBpbnRlZ2VyKCd1c2VyX2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KSxcclxuICBjb3Vyc2VJZDogaW50ZWdlcignY291cnNlX2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gY291cnNlcy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIGFtb3VudDogcmVhbCgnYW1vdW50Jykubm90TnVsbCgpLFxyXG4gIGN1cnJlbmN5OiB0ZXh0KCdjdXJyZW5jeScpLm5vdE51bGwoKS5kZWZhdWx0KCdJTlInKSxcclxuICBzdGF0dXM6IHRleHQoJ3N0YXR1cycpLm5vdE51bGwoKS5kZWZhdWx0KCdwZW5kaW5nJyksIC8vIHBlbmRpbmcsIGNvbXBsZXRlZCwgZmFpbGVkLCByZWZ1bmRlZFxyXG4gIHN0cmlwZVBheW1lbnRJbnRlbnRJZDogdGV4dCgnc3RyaXBlX3BheW1lbnRfaW50ZW50X2lkJyksXHJcbiAgc3RyaXBlU2Vzc2lvbklkOiB0ZXh0KCdzdHJpcGVfc2Vzc2lvbl9pZCcpLFxyXG4gIHBheW1lbnRNZXRob2Q6IHRleHQoJ3BheW1lbnRfbWV0aG9kJyksXHJcbiAgdHJhbnNhY3Rpb25JZDogdGV4dCgndHJhbnNhY3Rpb25faWQnKSxcclxuICBtZXRhZGF0YTogdGV4dCgnbWV0YWRhdGEnKSwgLy8gSlNPTiBzdHJpbmcgZm9yIGFkZGl0aW9uYWwgZGF0YVxyXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0Jykubm90TnVsbCgpLmRlZmF1bHROb3coKSxcclxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcCgndXBkYXRlZF9hdCcpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbn0pO1xyXG5cclxuLy8gUmVsYXRpb25zXHJcbmV4cG9ydCBjb25zdCB1c2Vyc1JlbGF0aW9ucyA9IHJlbGF0aW9ucyh1c2VycywgKHsgbWFueSB9KSA9PiAoe1xyXG4gIGFjY2Vzc1JlcXVlc3RzOiBtYW55KGFjY2Vzc1JlcXVlc3RzKSxcclxuICBzdHVkZW50UHJvZ3Jlc3M6IG1hbnkoc3R1ZGVudFByb2dyZXNzKSxcclxuICBub3RpZmljYXRpb25zOiBtYW55KG5vdGlmaWNhdGlvbnMpLFxyXG4gIHNlc3Npb25zOiBtYW55KHNlc3Npb25zKSxcclxuICByZXZpZXdlZFJlcXVlc3RzOiBtYW55KGFjY2Vzc1JlcXVlc3RzLCB7IHJlbGF0aW9uTmFtZTogJ3Jldmlld2VyJyB9KSxcclxufSkpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvdXJzZXNSZWxhdGlvbnMgPSByZWxhdGlvbnMoY291cnNlcywgKHsgbWFueSB9KSA9PiAoe1xyXG4gIG1vZHVsZXM6IG1hbnkobW9kdWxlcyksXHJcbiAgYWNjZXNzUmVxdWVzdHM6IG1hbnkoYWNjZXNzUmVxdWVzdHMpLFxyXG4gIHN0dWRlbnRQcm9ncmVzczogbWFueShzdHVkZW50UHJvZ3Jlc3MpLFxyXG4gIC8vIHF1ZXN0aW9uQmFua3MgcmVsYXRpb24gZGVmaW5lZCBhZnRlciBxdWVzdGlvbkJhbmtzIHRhYmxlXHJcbn0pKTtcclxuXHJcbmV4cG9ydCBjb25zdCBtb2R1bGVzUmVsYXRpb25zID0gcmVsYXRpb25zKG1vZHVsZXMsICh7IG9uZSwgbWFueSB9KSA9PiAoe1xyXG4gIGNvdXJzZTogb25lKGNvdXJzZXMsIHtcclxuICAgIGZpZWxkczogW21vZHVsZXMuY291cnNlSWRdLFxyXG4gICAgcmVmZXJlbmNlczogW2NvdXJzZXMuaWRdLFxyXG4gIH0pLFxyXG4gIGNoYXB0ZXJzOiBtYW55KGNoYXB0ZXJzKSxcclxufSkpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNoYXB0ZXJzUmVsYXRpb25zID0gcmVsYXRpb25zKGNoYXB0ZXJzLCAoeyBvbmUsIG1hbnkgfSkgPT4gKHtcclxuICBtb2R1bGU6IG9uZShtb2R1bGVzLCB7XHJcbiAgICBmaWVsZHM6IFtjaGFwdGVycy5tb2R1bGVJZF0sXHJcbiAgICByZWZlcmVuY2VzOiBbbW9kdWxlcy5pZF0sXHJcbiAgfSksXHJcbiAgcHJlcmVxdWlzaXRlQ2hhcHRlcjogb25lKGNoYXB0ZXJzLCB7XHJcbiAgICBmaWVsZHM6IFtjaGFwdGVycy5wcmVyZXF1aXNpdGVDaGFwdGVySWRdLFxyXG4gICAgcmVmZXJlbmNlczogW2NoYXB0ZXJzLmlkXSxcclxuICB9KSxcclxuICBxdWl6emVzOiBtYW55KHF1aXp6ZXMpLFxyXG4gIGRhaWx5VmlkZW9zOiBtYW55KGRhaWx5VmlkZW9zKSxcclxufSkpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHF1aXp6ZXNSZWxhdGlvbnMgPSByZWxhdGlvbnMocXVpenplcywgKHsgb25lLCBtYW55IH0pID0+ICh7XHJcbiAgY2hhcHRlcjogb25lKGNoYXB0ZXJzLCB7XHJcbiAgICBmaWVsZHM6IFtxdWl6emVzLmNoYXB0ZXJJZF0sXHJcbiAgICByZWZlcmVuY2VzOiBbY2hhcHRlcnMuaWRdLFxyXG4gIH0pLFxyXG4gIHF1ZXN0aW9uczogbWFueShxdWl6UXVlc3Rpb25zKSxcclxufSkpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHF1aXpRdWVzdGlvbnNSZWxhdGlvbnMgPSByZWxhdGlvbnMocXVpelF1ZXN0aW9ucywgKHsgb25lIH0pID0+ICh7XHJcbiAgcXVpejogb25lKHF1aXp6ZXMsIHtcclxuICAgIGZpZWxkczogW3F1aXpRdWVzdGlvbnMucXVpeklkXSxcclxuICAgIHJlZmVyZW5jZXM6IFtxdWl6emVzLmlkXSxcclxuICB9KSxcclxufSkpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGFjY2Vzc1JlcXVlc3RzUmVsYXRpb25zID0gcmVsYXRpb25zKGFjY2Vzc1JlcXVlc3RzLCAoeyBvbmUgfSkgPT4gKHtcclxuICBzdHVkZW50OiBvbmUodXNlcnMsIHtcclxuICAgIGZpZWxkczogW2FjY2Vzc1JlcXVlc3RzLnN0dWRlbnRJZF0sXHJcbiAgICByZWZlcmVuY2VzOiBbdXNlcnMuaWRdLFxyXG4gIH0pLFxyXG4gIGNvdXJzZTogb25lKGNvdXJzZXMsIHtcclxuICAgIGZpZWxkczogW2FjY2Vzc1JlcXVlc3RzLmNvdXJzZUlkXSxcclxuICAgIHJlZmVyZW5jZXM6IFtjb3Vyc2VzLmlkXSxcclxuICB9KSxcclxuICByZXZpZXdlcjogb25lKHVzZXJzLCB7XHJcbiAgICBmaWVsZHM6IFthY2Nlc3NSZXF1ZXN0cy5yZXZpZXdlZEJ5XSxcclxuICAgIHJlZmVyZW5jZXM6IFt1c2Vycy5pZF0sXHJcbiAgICByZWxhdGlvbk5hbWU6ICdyZXZpZXdlcicsXHJcbiAgfSksXHJcbn0pKTtcclxuXHJcbmV4cG9ydCBjb25zdCBzdHVkZW50UHJvZ3Jlc3NSZWxhdGlvbnMgPSByZWxhdGlvbnMoc3R1ZGVudFByb2dyZXNzLCAoeyBvbmUgfSkgPT4gKHtcclxuICBzdHVkZW50OiBvbmUodXNlcnMsIHtcclxuICAgIGZpZWxkczogW3N0dWRlbnRQcm9ncmVzcy5zdHVkZW50SWRdLFxyXG4gICAgcmVmZXJlbmNlczogW3VzZXJzLmlkXSxcclxuICB9KSxcclxuICBjb3Vyc2U6IG9uZShjb3Vyc2VzLCB7XHJcbiAgICBmaWVsZHM6IFtzdHVkZW50UHJvZ3Jlc3MuY291cnNlSWRdLFxyXG4gICAgcmVmZXJlbmNlczogW2NvdXJzZXMuaWRdLFxyXG4gIH0pLFxyXG59KSk7XHJcblxyXG5leHBvcnQgY29uc3QgZGFpbHlWaWRlb3NSZWxhdGlvbnMgPSByZWxhdGlvbnMoZGFpbHlWaWRlb3MsICh7IG9uZSB9KSA9PiAoe1xyXG4gIGNoYXB0ZXI6IG9uZShjaGFwdGVycywge1xyXG4gICAgZmllbGRzOiBbZGFpbHlWaWRlb3MuY2hhcHRlcklkXSxcclxuICAgIHJlZmVyZW5jZXM6IFtjaGFwdGVycy5pZF0sXHJcbiAgfSksXHJcbn0pKTtcclxuXHJcbmV4cG9ydCBjb25zdCBub3RpZmljYXRpb25zUmVsYXRpb25zID0gcmVsYXRpb25zKG5vdGlmaWNhdGlvbnMsICh7IG9uZSB9KSA9PiAoe1xyXG4gIHVzZXI6IG9uZSh1c2Vycywge1xyXG4gICAgZmllbGRzOiBbbm90aWZpY2F0aW9ucy51c2VySWRdLFxyXG4gICAgcmVmZXJlbmNlczogW3VzZXJzLmlkXSxcclxuICB9KSxcclxufSkpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNlc3Npb25zUmVsYXRpb25zID0gcmVsYXRpb25zKHNlc3Npb25zLCAoeyBvbmUgfSkgPT4gKHtcclxuICB1c2VyOiBvbmUodXNlcnMsIHtcclxuICAgIGZpZWxkczogW3Nlc3Npb25zLnVzZXJJZF0sXHJcbiAgICByZWZlcmVuY2VzOiBbdXNlcnMuaWRdLFxyXG4gIH0pLFxyXG59KSk7XHJcblxyXG5leHBvcnQgY29uc3QgcGF5bWVudHNSZWxhdGlvbnMgPSByZWxhdGlvbnMocGF5bWVudHMsICh7IG9uZSB9KSA9PiAoe1xyXG4gIHVzZXI6IG9uZSh1c2Vycywge1xyXG4gICAgZmllbGRzOiBbcGF5bWVudHMudXNlcklkXSxcclxuICAgIHJlZmVyZW5jZXM6IFt1c2Vycy5pZF0sXHJcbiAgfSksXHJcbiAgY291cnNlOiBvbmUoY291cnNlcywge1xyXG4gICAgZmllbGRzOiBbcGF5bWVudHMuY291cnNlSWRdLFxyXG4gICAgcmVmZXJlbmNlczogW2NvdXJzZXMuaWRdLFxyXG4gIH0pLFxyXG59KSk7XHJcblxyXG4vLyBDb3Vyc2UgUmV2aWV3cyAmIFJhdGluZ3NcclxuZXhwb3J0IGNvbnN0IGNvdXJzZVJldmlld3MgPSBwZ1RhYmxlKCdjb3Vyc2VfcmV2aWV3cycsIHtcclxuICBpZDogc2VyaWFsKCdpZCcpLnByaW1hcnlLZXkoKSxcclxuICBjb3Vyc2VJZDogaW50ZWdlcignY291cnNlX2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gY291cnNlcy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIHVzZXJJZDogaW50ZWdlcigndXNlcl9pZCcpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksXHJcbiAgcmF0aW5nOiBpbnRlZ2VyKCdyYXRpbmcnKS5ub3ROdWxsKCksIC8vIDEtNSBzdGFyc1xyXG4gIHJldmlldzogdGV4dCgncmV2aWV3JyksXHJcbiAgaXNQdWJsaXNoZWQ6IGJvb2xlYW4oJ2lzX3B1Ymxpc2hlZCcpLm5vdE51bGwoKS5kZWZhdWx0KHRydWUpLFxyXG4gIGhlbHBmdWw6IGludGVnZXIoJ2hlbHBmdWwnKS5ub3ROdWxsKCkuZGVmYXVsdCgwKSwgLy8gTnVtYmVyIG9mIGhlbHBmdWwgdm90ZXNcclxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcCgnY3JlYXRlZF9hdCcpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbiAgdXBkYXRlZEF0OiB0aW1lc3RhbXAoJ3VwZGF0ZWRfYXQnKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxyXG59LCAodGFibGUpID0+ICh7XHJcbiAgLy8gT25lIHJldmlldyBwZXIgdXNlciBwZXIgY291cnNlXHJcbiAgdXNlckNvdXJzZVVuaXF1ZTogdW5pcXVlKCd1c2VyX2NvdXJzZV9yZXZpZXdfdW5pcXVlJykub24odGFibGUudXNlcklkLCB0YWJsZS5jb3Vyc2VJZCksXHJcbn0pKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb3Vyc2VSZXZpZXdzUmVsYXRpb25zID0gcmVsYXRpb25zKGNvdXJzZVJldmlld3MsICh7IG9uZSB9KSA9PiAoe1xyXG4gIGNvdXJzZTogb25lKGNvdXJzZXMsIHtcclxuICAgIGZpZWxkczogW2NvdXJzZVJldmlld3MuY291cnNlSWRdLFxyXG4gICAgcmVmZXJlbmNlczogW2NvdXJzZXMuaWRdLFxyXG4gIH0pLFxyXG4gIHVzZXI6IG9uZSh1c2Vycywge1xyXG4gICAgZmllbGRzOiBbY291cnNlUmV2aWV3cy51c2VySWRdLFxyXG4gICAgcmVmZXJlbmNlczogW3VzZXJzLmlkXSxcclxuICB9KSxcclxufSkpO1xyXG5cclxuLy8gV2lzaGxpc3QgLyBGYXZvcml0ZXNcclxuZXhwb3J0IGNvbnN0IHdpc2hsaXN0ID0gcGdUYWJsZSgnd2lzaGxpc3QnLCB7XHJcbiAgaWQ6IHNlcmlhbCgnaWQnKS5wcmltYXJ5S2V5KCksXHJcbiAgdXNlcklkOiBpbnRlZ2VyKCd1c2VyX2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KSxcclxuICBjb3Vyc2VJZDogaW50ZWdlcignY291cnNlX2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gY291cnNlcy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIGFkZGVkQXQ6IHRpbWVzdGFtcCgnYWRkZWRfYXQnKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxyXG59LCAodGFibGUpID0+ICh7XHJcbiAgLy8gT25lIHdpc2hsaXN0IGVudHJ5IHBlciB1c2VyIHBlciBjb3Vyc2VcclxuICB1c2VyQ291cnNlVW5pcXVlOiB1bmlxdWUoJ3VzZXJfY291cnNlX3dpc2hsaXN0X3VuaXF1ZScpLm9uKHRhYmxlLnVzZXJJZCwgdGFibGUuY291cnNlSWQpLFxyXG59KSk7XHJcblxyXG5leHBvcnQgY29uc3Qgd2lzaGxpc3RSZWxhdGlvbnMgPSByZWxhdGlvbnMod2lzaGxpc3QsICh7IG9uZSB9KSA9PiAoe1xyXG4gIHVzZXI6IG9uZSh1c2Vycywge1xyXG4gICAgZmllbGRzOiBbd2lzaGxpc3QudXNlcklkXSxcclxuICAgIHJlZmVyZW5jZXM6IFt1c2Vycy5pZF0sXHJcbiAgfSksXHJcbiAgY291cnNlOiBvbmUoY291cnNlcywge1xyXG4gICAgZmllbGRzOiBbd2lzaGxpc3QuY291cnNlSWRdLFxyXG4gICAgcmVmZXJlbmNlczogW2NvdXJzZXMuaWRdLFxyXG4gIH0pLFxyXG59KSk7XHJcblxyXG4vLyBDb3Vyc2UgQ2F0ZWdvcmllc1xyXG5leHBvcnQgY29uc3QgY291cnNlQ2F0ZWdvcmllcyA9IHBnVGFibGUoJ2NvdXJzZV9jYXRlZ29yaWVzJywge1xyXG4gIGlkOiBzZXJpYWwoJ2lkJykucHJpbWFyeUtleSgpLFxyXG4gIG5hbWU6IHRleHQoJ25hbWUnKS5ub3ROdWxsKCksXHJcbiAgc2x1ZzogdGV4dCgnc2x1ZycpLm5vdE51bGwoKS51bmlxdWUoKSxcclxuICBkZXNjcmlwdGlvbjogdGV4dCgnZGVzY3JpcHRpb24nKSxcclxuICBpY29uOiB0ZXh0KCdpY29uJyksXHJcbiAgcGFyZW50SWQ6IGludGVnZXIoJ3BhcmVudF9pZCcpLnJlZmVyZW5jZXMoKCk6IGFueSA9PiBjb3Vyc2VDYXRlZ29yaWVzLmlkKSxcclxuICBvcmRlcjogaW50ZWdlcignb3JkZXInKS5ub3ROdWxsKCkuZGVmYXVsdCgwKSxcclxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcCgnY3JlYXRlZF9hdCcpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhdGVnb3JpZXNSZWxhdGlvbnMgPSByZWxhdGlvbnMoY291cnNlQ2F0ZWdvcmllcywgKHsgb25lLCBtYW55IH0pID0+ICh7XHJcbiAgcGFyZW50OiBvbmUoY291cnNlQ2F0ZWdvcmllcywge1xyXG4gICAgZmllbGRzOiBbY291cnNlQ2F0ZWdvcmllcy5wYXJlbnRJZF0sXHJcbiAgICByZWZlcmVuY2VzOiBbY291cnNlQ2F0ZWdvcmllcy5pZF0sXHJcbiAgICByZWxhdGlvbk5hbWU6ICdwYXJlbnQnLFxyXG4gIH0pLFxyXG4gIGNoaWxkcmVuOiBtYW55KGNvdXJzZUNhdGVnb3JpZXMsIHsgcmVsYXRpb25OYW1lOiAncGFyZW50JyB9KSxcclxuICBjb3Vyc2VzOiBtYW55KGNvdXJzZXMpLFxyXG59KSk7XHJcblxyXG4vLyBDb3Vyc2UtQ2F0ZWdvcnkgbWFwcGluZyAobWFueS10by1tYW55KVxyXG5leHBvcnQgY29uc3QgY291cnNlQ2F0ZWdvcnlNYXBwaW5nID0gcGdUYWJsZSgnY291cnNlX2NhdGVnb3J5X21hcHBpbmcnLCB7XHJcbiAgY291cnNlSWQ6IGludGVnZXIoJ2NvdXJzZV9pZCcpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IGNvdXJzZXMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KSxcclxuICBjYXRlZ29yeUlkOiBpbnRlZ2VyKCdjYXRlZ29yeV9pZCcpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IGNvdXJzZUNhdGVnb3JpZXMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KSxcclxufSwgKHRhYmxlKSA9PiAoe1xyXG4gIHBrOiB1bmlxdWUoJ2NvdXJzZV9jYXRlZ29yeV9waycpLm9uKHRhYmxlLmNvdXJzZUlkLCB0YWJsZS5jYXRlZ29yeUlkKSxcclxufSkpO1xyXG5cclxuLy8gQ29tcGxldGlvbiBDZXJ0aWZpY2F0ZXNcclxuZXhwb3J0IGNvbnN0IGNlcnRpZmljYXRlcyA9IHBnVGFibGUoJ2NlcnRpZmljYXRlcycsIHtcclxuICBpZDogc2VyaWFsKCdpZCcpLnByaW1hcnlLZXkoKSxcclxuICB1c2VySWQ6IGludGVnZXIoJ3VzZXJfaWQnKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIGNvdXJzZUlkOiBpbnRlZ2VyKCdjb3Vyc2VfaWQnKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiBjb3Vyc2VzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksXHJcbiAgY2VydGlmaWNhdGVOdW1iZXI6IHRleHQoJ2NlcnRpZmljYXRlX251bWJlcicpLm5vdE51bGwoKS51bmlxdWUoKSxcclxuICBjb21wbGV0ZWRBdDogdGltZXN0YW1wKCdjb21wbGV0ZWRfYXQnKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxyXG4gIHBkZlVybDogdGV4dCgncGRmX3VybCcpLFxyXG4gIGlzc3VlZEF0OiB0aW1lc3RhbXAoJ2lzc3VlZF9hdCcpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbn0sICh0YWJsZSkgPT4gKHtcclxuICAvLyBPbmUgY2VydGlmaWNhdGUgcGVyIHVzZXIgcGVyIGNvdXJzZVxyXG4gIHVzZXJDb3Vyc2VVbmlxdWU6IHVuaXF1ZSgndXNlcl9jb3Vyc2VfY2VydGlmaWNhdGVfdW5pcXVlJykub24odGFibGUudXNlcklkLCB0YWJsZS5jb3Vyc2VJZCksXHJcbn0pKTtcclxuXHJcbmV4cG9ydCBjb25zdCBjZXJ0aWZpY2F0ZXNSZWxhdGlvbnMgPSByZWxhdGlvbnMoY2VydGlmaWNhdGVzLCAoeyBvbmUgfSkgPT4gKHtcclxuICB1c2VyOiBvbmUodXNlcnMsIHtcclxuICAgIGZpZWxkczogW2NlcnRpZmljYXRlcy51c2VySWRdLFxyXG4gICAgcmVmZXJlbmNlczogW3VzZXJzLmlkXSxcclxuICB9KSxcclxuICBjb3Vyc2U6IG9uZShjb3Vyc2VzLCB7XHJcbiAgICBmaWVsZHM6IFtjZXJ0aWZpY2F0ZXMuY291cnNlSWRdLFxyXG4gICAgcmVmZXJlbmNlczogW2NvdXJzZXMuaWRdLFxyXG4gIH0pLFxyXG59KSk7XHJcblxyXG4vLyBTdHVkZW50IE5vdGVzIChUaW1lc3RhbXBlZClcclxuZXhwb3J0IGNvbnN0IGNvdXJzZU5vdGVzID0gcGdUYWJsZSgnY291cnNlX25vdGVzJywge1xyXG4gIGlkOiBzZXJpYWwoJ2lkJykucHJpbWFyeUtleSgpLFxyXG4gIHVzZXJJZDogaW50ZWdlcigndXNlcl9pZCcpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksXHJcbiAgY2hhcHRlcklkOiBpbnRlZ2VyKCdjaGFwdGVyX2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gY2hhcHRlcnMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KSxcclxuICB0aW1lc3RhbXA6IGludGVnZXIoJ3RpbWVzdGFtcCcpLCAvLyBWaWRlbyB0aW1lc3RhbXAgaW4gc2Vjb25kc1xyXG4gIG5vdGU6IHRleHQoJ25vdGUnKS5ub3ROdWxsKCksXHJcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoJ2NyZWF0ZWRfYXQnKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxyXG4gIHVwZGF0ZWRBdDogdGltZXN0YW1wKCd1cGRhdGVkX2F0Jykubm90TnVsbCgpLmRlZmF1bHROb3coKSxcclxufSk7XHJcblxyXG5leHBvcnQgY29uc3QgY291cnNlTm90ZXNSZWxhdGlvbnMgPSByZWxhdGlvbnMoY291cnNlTm90ZXMsICh7IG9uZSB9KSA9PiAoe1xyXG4gIHVzZXI6IG9uZSh1c2Vycywge1xyXG4gICAgZmllbGRzOiBbY291cnNlTm90ZXMudXNlcklkXSxcclxuICAgIHJlZmVyZW5jZXM6IFt1c2Vycy5pZF0sXHJcbiAgfSksXHJcbiAgY2hhcHRlcjogb25lKGNoYXB0ZXJzLCB7XHJcbiAgICBmaWVsZHM6IFtjb3Vyc2VOb3Rlcy5jaGFwdGVySWRdLFxyXG4gICAgcmVmZXJlbmNlczogW2NoYXB0ZXJzLmlkXSxcclxuICB9KSxcclxufSkpO1xyXG5cclxuLy8gQ291cnNlIEJvb2ttYXJrc1xyXG5leHBvcnQgY29uc3QgY291cnNlQm9va21hcmtzID0gcGdUYWJsZSgnY291cnNlX2Jvb2ttYXJrcycsIHtcclxuICBpZDogc2VyaWFsKCdpZCcpLnByaW1hcnlLZXkoKSxcclxuICB1c2VySWQ6IGludGVnZXIoJ3VzZXJfaWQnKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIGNoYXB0ZXJJZDogaW50ZWdlcignY2hhcHRlcl9pZCcpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IGNoYXB0ZXJzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksXHJcbiAgdGltZXN0YW1wOiBpbnRlZ2VyKCd0aW1lc3RhbXAnKSwgLy8gVmlkZW8gdGltZXN0YW1wIGluIHNlY29uZHNcclxuICB0aXRsZTogdGV4dCgndGl0bGUnKSxcclxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcCgnY3JlYXRlZF9hdCcpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvdXJzZUJvb2ttYXJrc1JlbGF0aW9ucyA9IHJlbGF0aW9ucyhjb3Vyc2VCb29rbWFya3MsICh7IG9uZSB9KSA9PiAoe1xyXG4gIHVzZXI6IG9uZSh1c2Vycywge1xyXG4gICAgZmllbGRzOiBbY291cnNlQm9va21hcmtzLnVzZXJJZF0sXHJcbiAgICByZWZlcmVuY2VzOiBbdXNlcnMuaWRdLFxyXG4gIH0pLFxyXG4gIGNoYXB0ZXI6IG9uZShjaGFwdGVycywge1xyXG4gICAgZmllbGRzOiBbY291cnNlQm9va21hcmtzLmNoYXB0ZXJJZF0sXHJcbiAgICByZWZlcmVuY2VzOiBbY2hhcHRlcnMuaWRdLFxyXG4gIH0pLFxyXG59KSk7XHJcblxyXG4vLyBDb3Vyc2UgUSZBXHJcbmV4cG9ydCBjb25zdCBjb3Vyc2VRdWVzdGlvbnMgPSBwZ1RhYmxlKCdjb3Vyc2VfcXVlc3Rpb25zJywge1xyXG4gIGlkOiBzZXJpYWwoJ2lkJykucHJpbWFyeUtleSgpLFxyXG4gIGNvdXJzZUlkOiBpbnRlZ2VyKCdjb3Vyc2VfaWQnKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiBjb3Vyc2VzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksXHJcbiAgY2hhcHRlcklkOiBpbnRlZ2VyKCdjaGFwdGVyX2lkJykucmVmZXJlbmNlcygoKSA9PiBjaGFwdGVycy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIHVzZXJJZDogaW50ZWdlcigndXNlcl9pZCcpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksXHJcbiAgcXVlc3Rpb246IHRleHQoJ3F1ZXN0aW9uJykubm90TnVsbCgpLFxyXG4gIGlzQW5zd2VyZWQ6IGJvb2xlYW4oJ2lzX2Fuc3dlcmVkJykubm90TnVsbCgpLmRlZmF1bHQoZmFsc2UpLFxyXG4gIHVwdm90ZXM6IGludGVnZXIoJ3Vwdm90ZXMnKS5ub3ROdWxsKCkuZGVmYXVsdCgwKSxcclxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcCgnY3JlYXRlZF9hdCcpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbiAgdXBkYXRlZEF0OiB0aW1lc3RhbXAoJ3VwZGF0ZWRfYXQnKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb3Vyc2VRdWVzdGlvbnNSZWxhdGlvbnMgPSByZWxhdGlvbnMoY291cnNlUXVlc3Rpb25zLCAoeyBvbmUsIG1hbnkgfSkgPT4gKHtcclxuICBjb3Vyc2U6IG9uZShjb3Vyc2VzLCB7XHJcbiAgICBmaWVsZHM6IFtjb3Vyc2VRdWVzdGlvbnMuY291cnNlSWRdLFxyXG4gICAgcmVmZXJlbmNlczogW2NvdXJzZXMuaWRdLFxyXG4gIH0pLFxyXG4gIGNoYXB0ZXI6IG9uZShjaGFwdGVycywge1xyXG4gICAgZmllbGRzOiBbY291cnNlUXVlc3Rpb25zLmNoYXB0ZXJJZF0sXHJcbiAgICByZWZlcmVuY2VzOiBbY2hhcHRlcnMuaWRdLFxyXG4gIH0pLFxyXG4gIHVzZXI6IG9uZSh1c2Vycywge1xyXG4gICAgZmllbGRzOiBbY291cnNlUXVlc3Rpb25zLnVzZXJJZF0sXHJcbiAgICByZWZlcmVuY2VzOiBbdXNlcnMuaWRdLFxyXG4gIH0pLFxyXG4gIGFuc3dlcnM6IG1hbnkoY291cnNlQW5zd2VycyksXHJcbn0pKTtcclxuXHJcbi8vIENvdXJzZSBBbnN3ZXJzXHJcbmV4cG9ydCBjb25zdCBjb3Vyc2VBbnN3ZXJzID0gcGdUYWJsZSgnY291cnNlX2Fuc3dlcnMnLCB7XHJcbiAgaWQ6IHNlcmlhbCgnaWQnKS5wcmltYXJ5S2V5KCksXHJcbiAgcXVlc3Rpb25JZDogaW50ZWdlcigncXVlc3Rpb25faWQnKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiBjb3Vyc2VRdWVzdGlvbnMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KSxcclxuICB1c2VySWQ6IGludGVnZXIoJ3VzZXJfaWQnKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIGFuc3dlcjogdGV4dCgnYW5zd2VyJykubm90TnVsbCgpLFxyXG4gIGlzSW5zdHJ1Y3RvckFuc3dlcjogYm9vbGVhbignaXNfaW5zdHJ1Y3Rvcl9hbnN3ZXInKS5ub3ROdWxsKCkuZGVmYXVsdChmYWxzZSksXHJcbiAgdXB2b3RlczogaW50ZWdlcigndXB2b3RlcycpLm5vdE51bGwoKS5kZWZhdWx0KDApLFxyXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0Jykubm90TnVsbCgpLmRlZmF1bHROb3coKSxcclxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcCgndXBkYXRlZF9hdCcpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvdXJzZUFuc3dlcnNSZWxhdGlvbnMgPSByZWxhdGlvbnMoY291cnNlQW5zd2VycywgKHsgb25lIH0pID0+ICh7XHJcbiAgcXVlc3Rpb246IG9uZShjb3Vyc2VRdWVzdGlvbnMsIHtcclxuICAgIGZpZWxkczogW2NvdXJzZUFuc3dlcnMucXVlc3Rpb25JZF0sXHJcbiAgICByZWZlcmVuY2VzOiBbY291cnNlUXVlc3Rpb25zLmlkXSxcclxuICB9KSxcclxuICB1c2VyOiBvbmUodXNlcnMsIHtcclxuICAgIGZpZWxkczogW2NvdXJzZUFuc3dlcnMudXNlcklkXSxcclxuICAgIHJlZmVyZW5jZXM6IFt1c2Vycy5pZF0sXHJcbiAgfSksXHJcbn0pKTtcclxuXHJcbi8vIENvdXBvbnMgJiBEaXNjb3VudCBDb2Rlc1xyXG5leHBvcnQgY29uc3QgY291cG9ucyA9IHBnVGFibGUoJ2NvdXBvbnMnLCB7XHJcbiAgaWQ6IHNlcmlhbCgnaWQnKS5wcmltYXJ5S2V5KCksXHJcbiAgY29kZTogdGV4dCgnY29kZScpLm5vdE51bGwoKS51bmlxdWUoKSxcclxuICBkZXNjcmlwdGlvbjogdGV4dCgnZGVzY3JpcHRpb24nKSxcclxuICBkaXNjb3VudFR5cGU6IHRleHQoJ2Rpc2NvdW50X3R5cGUnKS5ub3ROdWxsKCksIC8vICdwZXJjZW50YWdlJyBvciAnZml4ZWQnXHJcbiAgZGlzY291bnRWYWx1ZTogcmVhbCgnZGlzY291bnRfdmFsdWUnKS5ub3ROdWxsKCksXHJcbiAgbWF4VXNlczogaW50ZWdlcignbWF4X3VzZXMnKSxcclxuICB1c2VkQ291bnQ6IGludGVnZXIoJ3VzZWRfY291bnQnKS5ub3ROdWxsKCkuZGVmYXVsdCgwKSxcclxuICB2YWxpZEZyb206IHRpbWVzdGFtcCgndmFsaWRfZnJvbScpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbiAgdmFsaWRVbnRpbDogdGltZXN0YW1wKCd2YWxpZF91bnRpbCcpLFxyXG4gIGlzQWN0aXZlOiBib29sZWFuKCdpc19hY3RpdmUnKS5ub3ROdWxsKCkuZGVmYXVsdCh0cnVlKSxcclxuICBhcHBsaWNhYmxlQ291cnNlczogdGV4dCgnYXBwbGljYWJsZV9jb3Vyc2VzJyksIC8vIEpTT04gYXJyYXkgb2YgY291cnNlIElEcywgbnVsbCA9IGFsbCBjb3Vyc2VzXHJcbiAgbWluUHVyY2hhc2VBbW91bnQ6IHJlYWwoJ21pbl9wdXJjaGFzZV9hbW91bnQnKSxcclxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcCgnY3JlYXRlZF9hdCcpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbn0pO1xyXG5cclxuLy8gQ291cG9uIFVzYWdlIFRyYWNraW5nXHJcbmV4cG9ydCBjb25zdCBjb3Vwb25Vc2FnZSA9IHBnVGFibGUoJ2NvdXBvbl91c2FnZScsIHtcclxuICBpZDogc2VyaWFsKCdpZCcpLnByaW1hcnlLZXkoKSxcclxuICBjb3Vwb25JZDogaW50ZWdlcignY291cG9uX2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gY291cG9ucy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIHVzZXJJZDogaW50ZWdlcigndXNlcl9pZCcpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksXHJcbiAgcGF5bWVudElkOiBpbnRlZ2VyKCdwYXltZW50X2lkJykucmVmZXJlbmNlcygoKSA9PiBwYXltZW50cy5pZCksXHJcbiAgZGlzY291bnRBbW91bnQ6IHJlYWwoJ2Rpc2NvdW50X2Ftb3VudCcpLm5vdE51bGwoKSxcclxuICB1c2VkQXQ6IHRpbWVzdGFtcCgndXNlZF9hdCcpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbn0pO1xyXG5cclxuLy8gVmlkZW8gUHJvZ3Jlc3MgVHJhY2tpbmcgKERldGFpbGVkKVxyXG5leHBvcnQgY29uc3QgdmlkZW9Qcm9ncmVzcyA9IHBnVGFibGUoJ3ZpZGVvX3Byb2dyZXNzJywge1xyXG4gIGlkOiBzZXJpYWwoJ2lkJykucHJpbWFyeUtleSgpLFxyXG4gIHVzZXJJZDogaW50ZWdlcigndXNlcl9pZCcpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksXHJcbiAgY2hhcHRlcklkOiBpbnRlZ2VyKCdjaGFwdGVyX2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gY2hhcHRlcnMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KSxcclxuICBjdXJyZW50VGltZTogaW50ZWdlcignY3VycmVudF90aW1lJykubm90TnVsbCgpLmRlZmF1bHQoMCksIC8vIEluIHNlY29uZHNcclxuICBkdXJhdGlvbjogaW50ZWdlcignZHVyYXRpb24nKS5ub3ROdWxsKCksIC8vIEluIHNlY29uZHNcclxuICB3YXRjaGVkUGVyY2VudGFnZTogcmVhbCgnd2F0Y2hlZF9wZXJjZW50YWdlJykubm90TnVsbCgpLmRlZmF1bHQoMCksXHJcbiAgY29tcGxldGVkOiBib29sZWFuKCdjb21wbGV0ZWQnKS5ub3ROdWxsKCkuZGVmYXVsdChmYWxzZSksXHJcbiAgbGFzdFdhdGNoZWRBdDogdGltZXN0YW1wKCdsYXN0X3dhdGNoZWRfYXQnKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxyXG59LCAodGFibGUpID0+ICh7XHJcbiAgdXNlckNoYXB0ZXJVbmlxdWU6IHVuaXF1ZSgndXNlcl9jaGFwdGVyX3Byb2dyZXNzX3VuaXF1ZScpLm9uKHRhYmxlLnVzZXJJZCwgdGFibGUuY2hhcHRlcklkKSxcclxufSkpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHZpZGVvUHJvZ3Jlc3NSZWxhdGlvbnMgPSByZWxhdGlvbnModmlkZW9Qcm9ncmVzcywgKHsgb25lIH0pID0+ICh7XHJcbiAgdXNlcjogb25lKHVzZXJzLCB7XHJcbiAgICBmaWVsZHM6IFt2aWRlb1Byb2dyZXNzLnVzZXJJZF0sXHJcbiAgICByZWZlcmVuY2VzOiBbdXNlcnMuaWRdLFxyXG4gIH0pLFxyXG4gIGNoYXB0ZXI6IG9uZShjaGFwdGVycywge1xyXG4gICAgZmllbGRzOiBbdmlkZW9Qcm9ncmVzcy5jaGFwdGVySWRdLFxyXG4gICAgcmVmZXJlbmNlczogW2NoYXB0ZXJzLmlkXSxcclxuICB9KSxcclxufSkpO1xyXG5cclxuLy8gQ291cnNlIEFubm91bmNlbWVudHNcclxuZXhwb3J0IGNvbnN0IGNvdXJzZUFubm91bmNlbWVudHMgPSBwZ1RhYmxlKCdjb3Vyc2VfYW5ub3VuY2VtZW50cycsIHtcclxuICBpZDogc2VyaWFsKCdpZCcpLnByaW1hcnlLZXkoKSxcclxuICBjb3Vyc2VJZDogaW50ZWdlcignY291cnNlX2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gY291cnNlcy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIHRpdGxlOiB0ZXh0KCd0aXRsZScpLm5vdE51bGwoKSxcclxuICBjb250ZW50OiB0ZXh0KCdjb250ZW50Jykubm90TnVsbCgpLFxyXG4gIGlzUHVibGlzaGVkOiBib29sZWFuKCdpc19wdWJsaXNoZWQnKS5ub3ROdWxsKCkuZGVmYXVsdCh0cnVlKSxcclxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcCgnY3JlYXRlZF9hdCcpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbiAgdXBkYXRlZEF0OiB0aW1lc3RhbXAoJ3VwZGF0ZWRfYXQnKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb3Vyc2VBbm5vdW5jZW1lbnRzUmVsYXRpb25zID0gcmVsYXRpb25zKGNvdXJzZUFubm91bmNlbWVudHMsICh7IG9uZSB9KSA9PiAoe1xyXG4gIGNvdXJzZTogb25lKGNvdXJzZXMsIHtcclxuICAgIGZpZWxkczogW2NvdXJzZUFubm91bmNlbWVudHMuY291cnNlSWRdLFxyXG4gICAgcmVmZXJlbmNlczogW2NvdXJzZXMuaWRdLFxyXG4gIH0pLFxyXG59KSk7XHJcblxyXG4vLyBOdXJzaW5nIENhbmRpZGF0ZSBSZWdpc3RyYXRpb24gRm9ybXNcclxuZXhwb3J0IGNvbnN0IG51cnNpbmdDYW5kaWRhdGVGb3JtcyA9IHBnVGFibGUoJ251cnNpbmdfY2FuZGlkYXRlX2Zvcm1zJywge1xyXG4gIGlkOiBzZXJpYWwoJ2lkJykucHJpbWFyeUtleSgpLFxyXG4gIHJlZmVyZW5jZU51bWJlcjogdGV4dCgncmVmZXJlbmNlX251bWJlcicpLm5vdE51bGwoKSxcclxuICBwZXJzb25hbERldGFpbHM6IGpzb25iKCdwZXJzb25hbF9kZXRhaWxzJykuJHR5cGU8TnVyc2luZ0NhbmRpZGF0ZUZvcm1QYXlsb2FkWydwZXJzb25hbERldGFpbHMnXT4oKS5ub3ROdWxsKCksXHJcbiAgZWR1Y2F0aW9uRGV0YWlsczoganNvbmIoJ2VkdWNhdGlvbl9kZXRhaWxzJykuJHR5cGU8TnVyc2luZ0NhbmRpZGF0ZUZvcm1QYXlsb2FkWydlZHVjYXRpb25EZXRhaWxzJ10+KCkubm90TnVsbCgpLFxyXG4gIHJlZ2lzdHJhdGlvbkRldGFpbHM6IGpzb25iKCdyZWdpc3RyYXRpb25fZGV0YWlscycpLiR0eXBlPE51cnNpbmdDYW5kaWRhdGVGb3JtUGF5bG9hZFsncmVnaXN0cmF0aW9uRGV0YWlscyddPigpLm5vdE51bGwoKSxcclxuICBlbXBsb3ltZW50SGlzdG9yeToganNvbmIoJ2VtcGxveW1lbnRfaGlzdG9yeScpLiR0eXBlPE51cnNpbmdDYW5kaWRhdGVGb3JtUGF5bG9hZFsnZW1wbG95bWVudEhpc3RvcnknXT4oKS5ub3ROdWxsKCksXHJcbiAgY2FuYWRhRW1wbG95bWVudEhpc3Rvcnk6IGpzb25iKCdjYW5hZGFfZW1wbG95bWVudF9oaXN0b3J5JykuJHR5cGU8TnVyc2luZ0NhbmRpZGF0ZUZvcm1QYXlsb2FkWydjYW5hZGFFbXBsb3ltZW50SGlzdG9yeSddPigpLm5vdE51bGwoKSxcclxuICBkb2N1bWVudENoZWNrbGlzdEFja25vd2xlZGdlZDogYm9vbGVhbignZG9jdW1lbnRfY2hlY2tsaXN0X2Fja25vd2xlZGdlZCcpLm5vdE51bGwoKS5kZWZhdWx0KGZhbHNlKSxcclxuICBkaXNjaXBsaW5hcnlBY3Rpb246IHRleHQoJ2Rpc2NpcGxpbmFyeV9hY3Rpb24nKS5ub3ROdWxsKCksXHJcbiAgZG9jdW1lbnRFbWFpbFN0YXR1czogdGV4dCgnZG9jdW1lbnRfZW1haWxfc3RhdHVzJykubm90TnVsbCgpLmRlZmF1bHQoJ3BlbmRpbmcnKSxcclxuICBkb2N1bWVudEVtYWlsRXJyb3I6IHRleHQoJ2RvY3VtZW50X2VtYWlsX2Vycm9yJyksXHJcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoJ2NyZWF0ZWRfYXQnKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxyXG4gIHVwZGF0ZWRBdDogdGltZXN0YW1wKCd1cGRhdGVkX2F0Jykubm90TnVsbCgpLmRlZmF1bHROb3coKSxcclxufSk7XHJcblxyXG4vLyBRLUJhbmsgVGFibGVzXHJcbi8vIFF1ZXN0aW9uIEJhbmtzIC0gbGlua3MgUS1CYW5rIHRvIGNvdXJzZXNcclxuZXhwb3J0IGNvbnN0IHF1ZXN0aW9uQmFua3MgPSBwZ1RhYmxlKCdxdWVzdGlvbl9iYW5rcycsIHtcclxuICBpZDogc2VyaWFsKCdpZCcpLnByaW1hcnlLZXkoKSxcclxuICBjb3Vyc2VJZDogaW50ZWdlcignY291cnNlX2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gY291cnNlcy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIG5hbWU6IHRleHQoJ25hbWUnKS5ub3ROdWxsKCksXHJcbiAgZGVzY3JpcHRpb246IHRleHQoJ2Rlc2NyaXB0aW9uJyksXHJcbiAgaXNBY3RpdmU6IGJvb2xlYW4oJ2lzX2FjdGl2ZScpLm5vdE51bGwoKS5kZWZhdWx0KHRydWUpLFxyXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0Jykubm90TnVsbCgpLmRlZmF1bHROb3coKSxcclxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcCgndXBkYXRlZF9hdCcpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbn0pO1xyXG5cclxuLy8gUS1CYW5rIFF1ZXN0aW9uc1xyXG5leHBvcnQgY29uc3QgcWJhbmtRdWVzdGlvbnMgPSBwZ1RhYmxlKCdxYmFua19xdWVzdGlvbnMnLCB7XHJcbiAgaWQ6IHNlcmlhbCgnaWQnKS5wcmltYXJ5S2V5KCksXHJcbiAgcXVlc3Rpb25CYW5rSWQ6IGludGVnZXIoJ3F1ZXN0aW9uX2JhbmtfaWQnKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiBxdWVzdGlvbkJhbmtzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksXHJcbiAgcXVlc3Rpb246IHRleHQoJ3F1ZXN0aW9uJykubm90TnVsbCgpLFxyXG4gIHF1ZXN0aW9uVHlwZTogdGV4dCgncXVlc3Rpb25fdHlwZScpLm5vdE51bGwoKS5kZWZhdWx0KCdtdWx0aXBsZV9jaG9pY2UnKSwgLy8gbXVsdGlwbGVfY2hvaWNlLCBzYXRhLCBuZ25fY2FzZV9zdHVkeSwgdW5mb2xkaW5nX25nblxyXG4gIG9wdGlvbnM6IHRleHQoJ29wdGlvbnMnKS5ub3ROdWxsKCksIC8vIEpTT04gYXJyYXkgb2Ygb3B0aW9uc1xyXG4gIGNvcnJlY3RBbnN3ZXI6IHRleHQoJ2NvcnJlY3RfYW5zd2VyJykubm90TnVsbCgpLCAvLyBKU09OIGFycmF5IGZvciBTQVRBLCBzaW5nbGUgdmFsdWUgZm9yIE1DUVxyXG4gIGV4cGxhbmF0aW9uOiB0ZXh0KCdleHBsYW5hdGlvbicpLFxyXG4gIHN1YmplY3Q6IHRleHQoJ3N1YmplY3QnKSwgLy8gQWR1bHQgSGVhbHRoLCBDaGlsZCBIZWFsdGgsIGV0Yy5cclxuICBsZXNzb246IHRleHQoJ2xlc3NvbicpLCAvLyBDYXJkaW92YXNjdWxhciwgRW5kb2NyaW5lLCBldGMuXHJcbiAgY2xpZW50TmVlZEFyZWE6IHRleHQoJ2NsaWVudF9uZWVkX2FyZWEnKSwgLy8gUGh5c2lvbG9naWNhbCBBZGFwdGF0aW9uLCBldGMuXHJcbiAgc3ViY2F0ZWdvcnk6IHRleHQoJ3N1YmNhdGVnb3J5JyksIC8vIEFsdGVyYXRpb25zIGluIEJvZHkgU3lzdGVtcywgZXRjLlxyXG4gIHRlc3RUeXBlOiB0ZXh0KCd0ZXN0X3R5cGUnKS5ub3ROdWxsKCkuZGVmYXVsdCgnbWl4ZWQnKSwgLy8gY2xhc3NpYywgbmduLCBtaXhlZFxyXG4gIGRpZmZpY3VsdHk6IHRleHQoJ2RpZmZpY3VsdHknKS5kZWZhdWx0KCdtZWRpdW0nKSwgLy8gZWFzeSwgbWVkaXVtLCBoYXJkXHJcbiAgcG9pbnRzOiBpbnRlZ2VyKCdwb2ludHMnKS5ub3ROdWxsKCkuZGVmYXVsdCgxKSxcclxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcCgnY3JlYXRlZF9hdCcpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbiAgdXBkYXRlZEF0OiB0aW1lc3RhbXAoJ3VwZGF0ZWRfYXQnKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxyXG59KTtcclxuXHJcbi8vIFEtQmFuayBUZXN0c1xyXG5leHBvcnQgY29uc3QgcWJhbmtUZXN0cyA9IHBnVGFibGUoJ3FiYW5rX3Rlc3RzJywge1xyXG4gIGlkOiBzZXJpYWwoJ2lkJykucHJpbWFyeUtleSgpLFxyXG4gIHF1ZXN0aW9uQmFua0lkOiBpbnRlZ2VyKCdxdWVzdGlvbl9iYW5rX2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gcXVlc3Rpb25CYW5rcy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIHVzZXJJZDogaW50ZWdlcigndXNlcl9pZCcpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksXHJcbiAgdGVzdElkOiB0ZXh0KCd0ZXN0X2lkJykubm90TnVsbCgpLnVuaXF1ZSgpLCAvLyBVbmlxdWUgdGVzdCBpZGVudGlmaWVyXHJcbiAgdGl0bGU6IHRleHQoJ3RpdGxlJyksXHJcbiAgbW9kZTogdGV4dCgnbW9kZScpLm5vdE51bGwoKS5kZWZhdWx0KCd0dXRvcmlhbCcpLCAvLyBjYXQsIHR1dG9yaWFsLCB0aW1lZCwgcmVhZGluZXNzX2Fzc2Vzc21lbnRcclxuICB0ZXN0VHlwZTogdGV4dCgndGVzdF90eXBlJykubm90TnVsbCgpLmRlZmF1bHQoJ21peGVkJyksIC8vIGNsYXNzaWMsIG5nbiwgbWl4ZWRcclxuICBvcmdhbml6YXRpb246IHRleHQoJ29yZ2FuaXphdGlvbicpLm5vdE51bGwoKS5kZWZhdWx0KCdzdWJqZWN0JyksIC8vIHN1YmplY3QsIGNsaWVudF9uZWVkXHJcbiAgcXVlc3Rpb25JZHM6IHRleHQoJ3F1ZXN0aW9uX2lkcycpLm5vdE51bGwoKSwgLy8gSlNPTiBhcnJheSBvZiBxdWVzdGlvbiBJRHNcclxuICB0b3RhbFF1ZXN0aW9uczogaW50ZWdlcigndG90YWxfcXVlc3Rpb25zJykubm90TnVsbCgpLFxyXG4gIHRpbWVMaW1pdDogaW50ZWdlcigndGltZV9saW1pdCcpLCAvLyBpbiBtaW51dGVzLCBudWxsIGZvciB1bnRpbWVkXHJcbiAgc3RhdHVzOiB0ZXh0KCdzdGF0dXMnKS5ub3ROdWxsKCkuZGVmYXVsdCgncGVuZGluZycpLCAvLyBwZW5kaW5nLCBpbl9wcm9ncmVzcywgY29tcGxldGVkLCBhYmFuZG9uZWRcclxuICBzY29yZTogaW50ZWdlcignc2NvcmUnKSxcclxuICBtYXhTY29yZTogaW50ZWdlcignbWF4X3Njb3JlJyksXHJcbiAgcGVyY2VudGFnZTogcmVhbCgncGVyY2VudGFnZScpLFxyXG4gIHN0YXJ0ZWRBdDogdGltZXN0YW1wKCdzdGFydGVkX2F0JyksXHJcbiAgY29tcGxldGVkQXQ6IHRpbWVzdGFtcCgnY29tcGxldGVkX2F0JyksXHJcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoJ2NyZWF0ZWRfYXQnKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxyXG4gIHVwZGF0ZWRBdDogdGltZXN0YW1wKCd1cGRhdGVkX2F0Jykubm90TnVsbCgpLmRlZmF1bHROb3coKSxcclxufSk7XHJcblxyXG4vLyBRLUJhbmsgVGVzdCBBdHRlbXB0cyAoaW5kaXZpZHVhbCBxdWVzdGlvbiBhdHRlbXB0cyB3aXRoaW4gYSB0ZXN0KVxyXG5leHBvcnQgY29uc3QgcWJhbmtRdWVzdGlvbkF0dGVtcHRzID0gcGdUYWJsZSgncWJhbmtfcXVlc3Rpb25fYXR0ZW1wdHMnLCB7XHJcbiAgaWQ6IHNlcmlhbCgnaWQnKS5wcmltYXJ5S2V5KCksXHJcbiAgdGVzdElkOiBpbnRlZ2VyKCd0ZXN0X2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gcWJhbmtUZXN0cy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIHF1ZXN0aW9uSWQ6IGludGVnZXIoJ3F1ZXN0aW9uX2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gcWJhbmtRdWVzdGlvbnMuaWQsIHsgb25EZWxldGU6ICdjYXNjYWRlJyB9KSxcclxuICB1c2VySWQ6IGludGVnZXIoJ3VzZXJfaWQnKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIHVzZXJBbnN3ZXI6IHRleHQoJ3VzZXJfYW5zd2VyJykubm90TnVsbCgpLCAvLyBKU09OIGFycmF5IGZvciBTQVRBLCBzaW5nbGUgdmFsdWUgZm9yIE1DUVxyXG4gIGlzQ29ycmVjdDogYm9vbGVhbignaXNfY29ycmVjdCcpLm5vdE51bGwoKSxcclxuICBpc09taXR0ZWQ6IGJvb2xlYW4oJ2lzX29taXR0ZWQnKS5ub3ROdWxsKCkuZGVmYXVsdChmYWxzZSksXHJcbiAgaXNQYXJ0aWFsbHlDb3JyZWN0OiBib29sZWFuKCdpc19wYXJ0aWFsbHlfY29ycmVjdCcpLm5vdE51bGwoKS5kZWZhdWx0KGZhbHNlKSxcclxuICBwb2ludHNFYXJuZWQ6IGludGVnZXIoJ3BvaW50c19lYXJuZWQnKS5ub3ROdWxsKCkuZGVmYXVsdCgwKSxcclxuICB0aW1lU3BlbnQ6IGludGVnZXIoJ3RpbWVfc3BlbnQnKSwgLy8gaW4gc2Vjb25kc1xyXG4gIGF0dGVtcHRlZEF0OiB0aW1lc3RhbXAoJ2F0dGVtcHRlZF9hdCcpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbn0pO1xyXG5cclxuLy8gUS1CYW5rIFF1ZXN0aW9uIFN0YXRpc3RpY3MgKGFnZ3JlZ2F0ZWQgcGVyIHVzZXIgcGVyIHF1ZXN0aW9uKVxyXG5leHBvcnQgY29uc3QgcWJhbmtRdWVzdGlvblN0YXRpc3RpY3MgPSBwZ1RhYmxlKCdxYmFua19xdWVzdGlvbl9zdGF0aXN0aWNzJywge1xyXG4gIGlkOiBzZXJpYWwoJ2lkJykucHJpbWFyeUtleSgpLFxyXG4gIHVzZXJJZDogaW50ZWdlcigndXNlcl9pZCcpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkLCB7IG9uRGVsZXRlOiAnY2FzY2FkZScgfSksXHJcbiAgcXVlc3Rpb25JZDogaW50ZWdlcigncXVlc3Rpb25faWQnKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiBxYmFua1F1ZXN0aW9ucy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIHF1ZXN0aW9uQmFua0lkOiBpbnRlZ2VyKCdxdWVzdGlvbl9iYW5rX2lkJykubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gcXVlc3Rpb25CYW5rcy5pZCwgeyBvbkRlbGV0ZTogJ2Nhc2NhZGUnIH0pLFxyXG4gIHRpbWVzQXR0ZW1wdGVkOiBpbnRlZ2VyKCd0aW1lc19hdHRlbXB0ZWQnKS5ub3ROdWxsKCkuZGVmYXVsdCgwKSxcclxuICB0aW1lc0NvcnJlY3Q6IGludGVnZXIoJ3RpbWVzX2NvcnJlY3QnKS5ub3ROdWxsKCkuZGVmYXVsdCgwKSxcclxuICB0aW1lc0luY29ycmVjdDogaW50ZWdlcigndGltZXNfaW5jb3JyZWN0Jykubm90TnVsbCgpLmRlZmF1bHQoMCksXHJcbiAgdGltZXNPbWl0dGVkOiBpbnRlZ2VyKCd0aW1lc19vbWl0dGVkJykubm90TnVsbCgpLmRlZmF1bHQoMCksXHJcbiAgdGltZXNDb3JyZWN0T25SZWF0dGVtcHQ6IGludGVnZXIoJ3RpbWVzX2NvcnJlY3Rfb25fcmVhdHRlbXB0Jykubm90TnVsbCgpLmRlZmF1bHQoMCksXHJcbiAgY29uZmlkZW5jZUxldmVsOiB0ZXh0KCdjb25maWRlbmNlX2xldmVsJyksIC8vIHBlbmRpbmdfcmV2aWV3LCBsb3dfY29uZmlkZW5jZSwgaGlnaF9jb25maWRlbmNlLCBjb3JyZWN0X29uX3JlYXR0ZW1wdFxyXG4gIGxhc3RBdHRlbXB0ZWRBdDogdGltZXN0YW1wKCdsYXN0X2F0dGVtcHRlZF9hdCcpLFxyXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKCdjcmVhdGVkX2F0Jykubm90TnVsbCgpLmRlZmF1bHROb3coKSxcclxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcCgndXBkYXRlZF9hdCcpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbn0sICh0YWJsZSkgPT4gKHtcclxuICB1c2VyUXVlc3Rpb25VbmlxdWU6IHVuaXF1ZSgndXNlcl9xdWVzdGlvbl9zdGF0aXN0aWNzX3VuaXF1ZScpLm9uKHRhYmxlLnVzZXJJZCwgdGFibGUucXVlc3Rpb25JZCksXHJcbn0pKTtcclxuXHJcbi8vIFEtQmFuayBSZWxhdGlvbnNcclxuZXhwb3J0IGNvbnN0IHF1ZXN0aW9uQmFua3NSZWxhdGlvbnMgPSByZWxhdGlvbnMocXVlc3Rpb25CYW5rcywgKHsgb25lLCBtYW55IH0pID0+ICh7XHJcbiAgY291cnNlOiBvbmUoY291cnNlcywge1xyXG4gICAgZmllbGRzOiBbcXVlc3Rpb25CYW5rcy5jb3Vyc2VJZF0sXHJcbiAgICByZWZlcmVuY2VzOiBbY291cnNlcy5pZF0sXHJcbiAgfSksXHJcbiAgcXVlc3Rpb25zOiBtYW55KHFiYW5rUXVlc3Rpb25zKSxcclxuICB0ZXN0czogbWFueShxYmFua1Rlc3RzKSxcclxufSkpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHFiYW5rUXVlc3Rpb25zUmVsYXRpb25zID0gcmVsYXRpb25zKHFiYW5rUXVlc3Rpb25zLCAoeyBvbmUsIG1hbnkgfSkgPT4gKHtcclxuICBxdWVzdGlvbkJhbms6IG9uZShxdWVzdGlvbkJhbmtzLCB7XHJcbiAgICBmaWVsZHM6IFtxYmFua1F1ZXN0aW9ucy5xdWVzdGlvbkJhbmtJZF0sXHJcbiAgICByZWZlcmVuY2VzOiBbcXVlc3Rpb25CYW5rcy5pZF0sXHJcbiAgfSksXHJcbiAgYXR0ZW1wdHM6IG1hbnkocWJhbmtRdWVzdGlvbkF0dGVtcHRzKSxcclxuICBzdGF0aXN0aWNzOiBtYW55KHFiYW5rUXVlc3Rpb25TdGF0aXN0aWNzKSxcclxufSkpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHFiYW5rVGVzdHNSZWxhdGlvbnMgPSByZWxhdGlvbnMocWJhbmtUZXN0cywgKHsgb25lLCBtYW55IH0pID0+ICh7XHJcbiAgcXVlc3Rpb25CYW5rOiBvbmUocXVlc3Rpb25CYW5rcywge1xyXG4gICAgZmllbGRzOiBbcWJhbmtUZXN0cy5xdWVzdGlvbkJhbmtJZF0sXHJcbiAgICByZWZlcmVuY2VzOiBbcXVlc3Rpb25CYW5rcy5pZF0sXHJcbiAgfSksXHJcbiAgdXNlcjogb25lKHVzZXJzLCB7XHJcbiAgICBmaWVsZHM6IFtxYmFua1Rlc3RzLnVzZXJJZF0sXHJcbiAgICByZWZlcmVuY2VzOiBbdXNlcnMuaWRdLFxyXG4gIH0pLFxyXG4gIHF1ZXN0aW9uQXR0ZW1wdHM6IG1hbnkocWJhbmtRdWVzdGlvbkF0dGVtcHRzKSxcclxufSkpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHFiYW5rUXVlc3Rpb25BdHRlbXB0c1JlbGF0aW9ucyA9IHJlbGF0aW9ucyhxYmFua1F1ZXN0aW9uQXR0ZW1wdHMsICh7IG9uZSB9KSA9PiAoe1xyXG4gIHRlc3Q6IG9uZShxYmFua1Rlc3RzLCB7XHJcbiAgICBmaWVsZHM6IFtxYmFua1F1ZXN0aW9uQXR0ZW1wdHMudGVzdElkXSxcclxuICAgIHJlZmVyZW5jZXM6IFtxYmFua1Rlc3RzLmlkXSxcclxuICB9KSxcclxuICBxdWVzdGlvbjogb25lKHFiYW5rUXVlc3Rpb25zLCB7XHJcbiAgICBmaWVsZHM6IFtxYmFua1F1ZXN0aW9uQXR0ZW1wdHMucXVlc3Rpb25JZF0sXHJcbiAgICByZWZlcmVuY2VzOiBbcWJhbmtRdWVzdGlvbnMuaWRdLFxyXG4gIH0pLFxyXG4gIHVzZXI6IG9uZSh1c2Vycywge1xyXG4gICAgZmllbGRzOiBbcWJhbmtRdWVzdGlvbkF0dGVtcHRzLnVzZXJJZF0sXHJcbiAgICByZWZlcmVuY2VzOiBbdXNlcnMuaWRdLFxyXG4gIH0pLFxyXG59KSk7XHJcblxyXG5leHBvcnQgY29uc3QgcWJhbmtRdWVzdGlvblN0YXRpc3RpY3NSZWxhdGlvbnMgPSByZWxhdGlvbnMocWJhbmtRdWVzdGlvblN0YXRpc3RpY3MsICh7IG9uZSB9KSA9PiAoe1xyXG4gIHVzZXI6IG9uZSh1c2Vycywge1xyXG4gICAgZmllbGRzOiBbcWJhbmtRdWVzdGlvblN0YXRpc3RpY3MudXNlcklkXSxcclxuICAgIHJlZmVyZW5jZXM6IFt1c2Vycy5pZF0sXHJcbiAgfSksXHJcbiAgcXVlc3Rpb246IG9uZShxYmFua1F1ZXN0aW9ucywge1xyXG4gICAgZmllbGRzOiBbcWJhbmtRdWVzdGlvblN0YXRpc3RpY3MucXVlc3Rpb25JZF0sXHJcbiAgICByZWZlcmVuY2VzOiBbcWJhbmtRdWVzdGlvbnMuaWRdLFxyXG4gIH0pLFxyXG4gIHF1ZXN0aW9uQmFuazogb25lKHF1ZXN0aW9uQmFua3MsIHtcclxuICAgIGZpZWxkczogW3FiYW5rUXVlc3Rpb25TdGF0aXN0aWNzLnF1ZXN0aW9uQmFua0lkXSxcclxuICAgIHJlZmVyZW5jZXM6IFtxdWVzdGlvbkJhbmtzLmlkXSxcclxuICB9KSxcclxufSkpO1xyXG4vLyBOb3RlOiBxdWVzdGlvbkJhbmtzIHJlbGF0aW9uIHRvIGNvdXJzZXMgaXMgaGFuZGxlZCB2aWEgZm9yZWlnbiBrZXksXHJcbi8vIGJ1dCBpZiBuZWVkZWQsIGl0IGNhbiBiZSBhZGRlZCB0byBjb3Vyc2VzUmVsYXRpb25zIGFib3ZlXHJcblxyXG4vLyBEYWlseSBWaWRlbyBTZXR0aW5nc1xyXG5leHBvcnQgY29uc3QgZGFpbHlWaWRlb1NldHRpbmdzID0gcGdUYWJsZSgnZGFpbHlfdmlkZW9fc2V0dGluZ3MnLCB7XHJcbiAgaWQ6IHNlcmlhbCgnaWQnKS5wcmltYXJ5S2V5KCksXHJcbiAgc291cmNlVHlwZTogdGV4dCgnc291cmNlX3R5cGUnKS5ub3ROdWxsKCkuZGVmYXVsdCgnbWFudWFsJyksIC8vICdtYW51YWwnLCAnY291cnNlJywgJ2F1dG9fcm90YXRlJ1xyXG4gIHNvdXJjZUNvdXJzZUlkOiBpbnRlZ2VyKCdzb3VyY2VfY291cnNlX2lkJykucmVmZXJlbmNlcygoKSA9PiBjb3Vyc2VzLmlkKSxcclxuICBhdXRvUm90YXRlOiBib29sZWFuKCdhdXRvX3JvdGF0ZScpLm5vdE51bGwoKS5kZWZhdWx0KGZhbHNlKSxcclxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcCgndXBkYXRlZF9hdCcpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXHJcbn0pO1xyXG5cclxuIl0sIm5hbWVzIjpbInBnVGFibGUiLCJ0ZXh0Iiwic2VyaWFsIiwiaW50ZWdlciIsInJlYWwiLCJib29sZWFuIiwidGltZXN0YW1wIiwidW5pcXVlIiwianNvbmIiLCJyZWxhdGlvbnMiLCJ1c2VycyIsImlkIiwicHJpbWFyeUtleSIsIm5hbWUiLCJub3ROdWxsIiwiZW1haWwiLCJwYXNzd29yZCIsInBob25lIiwicm9sZSIsImRlZmF1bHQiLCJpc0FjdGl2ZSIsImZhY2VJZEVucm9sbGVkIiwiZmFjZVRlbXBsYXRlIiwiZmluZ2VycHJpbnRFbnJvbGxlZCIsImZpbmdlcnByaW50Q3JlZGVudGlhbElkIiwidHdvRmFjdG9yRW5hYmxlZCIsInR3b0ZhY3RvclNlY3JldCIsInR3b0ZhY3RvckJhY2t1cENvZGVzIiwiYmlvIiwicHJvZmlsZVBpY3R1cmUiLCJqb2luZWREYXRlIiwiZGVmYXVsdE5vdyIsImxhc3RMb2dpbiIsInJlc2V0VG9rZW4iLCJyZXNldFRva2VuRXhwaXJ5IiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0Iiwib3RwU2VjcmV0Iiwib3RwRXhwaXJ5IiwidGFibGUiLCJlbWFpbFJvbGVVbmlxdWUiLCJvbiIsImNvdXJzZXMiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiaW5zdHJ1Y3RvciIsInRodW1ibmFpbCIsInByaWNpbmciLCJzdGF0dXMiLCJpc1JlcXVlc3RhYmxlIiwiaXNEZWZhdWx0VW5sb2NrZWQiLCJtb2R1bGVzIiwiY291cnNlSWQiLCJyZWZlcmVuY2VzIiwib25EZWxldGUiLCJvcmRlciIsImlzUHVibGlzaGVkIiwiZHVyYXRpb24iLCJjaGFwdGVycyIsIm1vZHVsZUlkIiwidHlwZSIsInByZXJlcXVpc2l0ZUNoYXB0ZXJJZCIsInZpZGVvVXJsIiwidmlkZW9Qcm92aWRlciIsInZpZGVvRHVyYXRpb24iLCJ0cmFuc2NyaXB0IiwidGV4dGJvb2tDb250ZW50IiwidGV4dGJvb2tGaWxlVXJsIiwicmVhZGluZ1RpbWUiLCJtY3FEYXRhIiwicXVpenplcyIsImNoYXB0ZXJJZCIsInBhc3NNYXJrIiwidGltZUxpbWl0Iiwic2hvd0Fuc3dlcnMiLCJtYXhBdHRlbXB0cyIsInF1aXpRdWVzdGlvbnMiLCJxdWl6SWQiLCJxdWVzdGlvbiIsIm9wdGlvbnMiLCJjb3JyZWN0QW5zd2VyIiwiZXhwbGFuYXRpb24iLCJibG9nUG9zdHMiLCJzbHVnIiwiY29udGVudCIsImF1dGhvciIsImNvdmVyIiwidGFncyIsImFjY2Vzc1JlcXVlc3RzIiwic3R1ZGVudElkIiwicmVhc29uIiwicmVxdWVzdGVkQXQiLCJyZXZpZXdlZEF0IiwicmV2aWV3ZWRCeSIsInN0dWRlbnRQcm9ncmVzcyIsImNvbXBsZXRlZENoYXB0ZXJzIiwid2F0Y2hlZFZpZGVvcyIsInF1aXpBdHRlbXB0cyIsInRvdGFsUHJvZ3Jlc3MiLCJsYXN0QWNjZXNzZWQiLCJkYWlseVZpZGVvcyIsImRheSIsIm5vdGlmaWNhdGlvbnMiLCJ1c2VySWQiLCJtZXNzYWdlIiwiaXNSZWFkIiwic2Vzc2lvbnMiLCJzZXNzaW9uVG9rZW4iLCJkZXZpY2VJbmZvIiwiZXhwaXJlc0F0IiwicGF5bWVudHMiLCJhbW91bnQiLCJjdXJyZW5jeSIsInN0cmlwZVBheW1lbnRJbnRlbnRJZCIsInN0cmlwZVNlc3Npb25JZCIsInBheW1lbnRNZXRob2QiLCJ0cmFuc2FjdGlvbklkIiwibWV0YWRhdGEiLCJ1c2Vyc1JlbGF0aW9ucyIsIm1hbnkiLCJyZXZpZXdlZFJlcXVlc3RzIiwicmVsYXRpb25OYW1lIiwiY291cnNlc1JlbGF0aW9ucyIsIm1vZHVsZXNSZWxhdGlvbnMiLCJvbmUiLCJjb3Vyc2UiLCJmaWVsZHMiLCJjaGFwdGVyc1JlbGF0aW9ucyIsIm1vZHVsZSIsInByZXJlcXVpc2l0ZUNoYXB0ZXIiLCJxdWl6emVzUmVsYXRpb25zIiwiY2hhcHRlciIsInF1ZXN0aW9ucyIsInF1aXpRdWVzdGlvbnNSZWxhdGlvbnMiLCJxdWl6IiwiYWNjZXNzUmVxdWVzdHNSZWxhdGlvbnMiLCJzdHVkZW50IiwicmV2aWV3ZXIiLCJzdHVkZW50UHJvZ3Jlc3NSZWxhdGlvbnMiLCJkYWlseVZpZGVvc1JlbGF0aW9ucyIsIm5vdGlmaWNhdGlvbnNSZWxhdGlvbnMiLCJ1c2VyIiwic2Vzc2lvbnNSZWxhdGlvbnMiLCJwYXltZW50c1JlbGF0aW9ucyIsImNvdXJzZVJldmlld3MiLCJyYXRpbmciLCJyZXZpZXciLCJoZWxwZnVsIiwidXNlckNvdXJzZVVuaXF1ZSIsImNvdXJzZVJldmlld3NSZWxhdGlvbnMiLCJ3aXNobGlzdCIsImFkZGVkQXQiLCJ3aXNobGlzdFJlbGF0aW9ucyIsImNvdXJzZUNhdGVnb3JpZXMiLCJpY29uIiwicGFyZW50SWQiLCJjYXRlZ29yaWVzUmVsYXRpb25zIiwicGFyZW50IiwiY2hpbGRyZW4iLCJjb3Vyc2VDYXRlZ29yeU1hcHBpbmciLCJjYXRlZ29yeUlkIiwicGsiLCJjZXJ0aWZpY2F0ZXMiLCJjZXJ0aWZpY2F0ZU51bWJlciIsImNvbXBsZXRlZEF0IiwicGRmVXJsIiwiaXNzdWVkQXQiLCJjZXJ0aWZpY2F0ZXNSZWxhdGlvbnMiLCJjb3Vyc2VOb3RlcyIsIm5vdGUiLCJjb3Vyc2VOb3Rlc1JlbGF0aW9ucyIsImNvdXJzZUJvb2ttYXJrcyIsImNvdXJzZUJvb2ttYXJrc1JlbGF0aW9ucyIsImNvdXJzZVF1ZXN0aW9ucyIsImlzQW5zd2VyZWQiLCJ1cHZvdGVzIiwiY291cnNlUXVlc3Rpb25zUmVsYXRpb25zIiwiYW5zd2VycyIsImNvdXJzZUFuc3dlcnMiLCJxdWVzdGlvbklkIiwiYW5zd2VyIiwiaXNJbnN0cnVjdG9yQW5zd2VyIiwiY291cnNlQW5zd2Vyc1JlbGF0aW9ucyIsImNvdXBvbnMiLCJjb2RlIiwiZGlzY291bnRUeXBlIiwiZGlzY291bnRWYWx1ZSIsIm1heFVzZXMiLCJ1c2VkQ291bnQiLCJ2YWxpZEZyb20iLCJ2YWxpZFVudGlsIiwiYXBwbGljYWJsZUNvdXJzZXMiLCJtaW5QdXJjaGFzZUFtb3VudCIsImNvdXBvblVzYWdlIiwiY291cG9uSWQiLCJwYXltZW50SWQiLCJkaXNjb3VudEFtb3VudCIsInVzZWRBdCIsInZpZGVvUHJvZ3Jlc3MiLCJjdXJyZW50VGltZSIsIndhdGNoZWRQZXJjZW50YWdlIiwiY29tcGxldGVkIiwibGFzdFdhdGNoZWRBdCIsInVzZXJDaGFwdGVyVW5pcXVlIiwidmlkZW9Qcm9ncmVzc1JlbGF0aW9ucyIsImNvdXJzZUFubm91bmNlbWVudHMiLCJjb3Vyc2VBbm5vdW5jZW1lbnRzUmVsYXRpb25zIiwibnVyc2luZ0NhbmRpZGF0ZUZvcm1zIiwicmVmZXJlbmNlTnVtYmVyIiwicGVyc29uYWxEZXRhaWxzIiwiJHR5cGUiLCJlZHVjYXRpb25EZXRhaWxzIiwicmVnaXN0cmF0aW9uRGV0YWlscyIsImVtcGxveW1lbnRIaXN0b3J5IiwiY2FuYWRhRW1wbG95bWVudEhpc3RvcnkiLCJkb2N1bWVudENoZWNrbGlzdEFja25vd2xlZGdlZCIsImRpc2NpcGxpbmFyeUFjdGlvbiIsImRvY3VtZW50RW1haWxTdGF0dXMiLCJkb2N1bWVudEVtYWlsRXJyb3IiLCJxdWVzdGlvbkJhbmtzIiwicWJhbmtRdWVzdGlvbnMiLCJxdWVzdGlvbkJhbmtJZCIsInF1ZXN0aW9uVHlwZSIsInN1YmplY3QiLCJsZXNzb24iLCJjbGllbnROZWVkQXJlYSIsInN1YmNhdGVnb3J5IiwidGVzdFR5cGUiLCJkaWZmaWN1bHR5IiwicG9pbnRzIiwicWJhbmtUZXN0cyIsInRlc3RJZCIsIm1vZGUiLCJvcmdhbml6YXRpb24iLCJxdWVzdGlvbklkcyIsInRvdGFsUXVlc3Rpb25zIiwic2NvcmUiLCJtYXhTY29yZSIsInBlcmNlbnRhZ2UiLCJzdGFydGVkQXQiLCJxYmFua1F1ZXN0aW9uQXR0ZW1wdHMiLCJ1c2VyQW5zd2VyIiwiaXNDb3JyZWN0IiwiaXNPbWl0dGVkIiwiaXNQYXJ0aWFsbHlDb3JyZWN0IiwicG9pbnRzRWFybmVkIiwidGltZVNwZW50IiwiYXR0ZW1wdGVkQXQiLCJxYmFua1F1ZXN0aW9uU3RhdGlzdGljcyIsInRpbWVzQXR0ZW1wdGVkIiwidGltZXNDb3JyZWN0IiwidGltZXNJbmNvcnJlY3QiLCJ0aW1lc09taXR0ZWQiLCJ0aW1lc0NvcnJlY3RPblJlYXR0ZW1wdCIsImNvbmZpZGVuY2VMZXZlbCIsImxhc3RBdHRlbXB0ZWRBdCIsInVzZXJRdWVzdGlvblVuaXF1ZSIsInF1ZXN0aW9uQmFua3NSZWxhdGlvbnMiLCJ0ZXN0cyIsInFiYW5rUXVlc3Rpb25zUmVsYXRpb25zIiwicXVlc3Rpb25CYW5rIiwiYXR0ZW1wdHMiLCJzdGF0aXN0aWNzIiwicWJhbmtUZXN0c1JlbGF0aW9ucyIsInF1ZXN0aW9uQXR0ZW1wdHMiLCJxYmFua1F1ZXN0aW9uQXR0ZW1wdHNSZWxhdGlvbnMiLCJ0ZXN0IiwicWJhbmtRdWVzdGlvblN0YXRpc3RpY3NSZWxhdGlvbnMiLCJkYWlseVZpZGVvU2V0dGluZ3MiLCJzb3VyY2VUeXBlIiwic291cmNlQ291cnNlSWQiLCJhdXRvUm90YXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db/schema.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/edge-logger.ts":
/*!********************************!*\
  !*** ./src/lib/edge-logger.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   logger: () => (/* binding */ logger),\n/* harmony export */   securityLogger: () => (/* binding */ securityLogger)\n/* harmony export */ });\n/**\r\n * Edge Runtime Compatible Logger\r\n * Lightweight logger for Next.js Edge Runtime (middleware)\r\n * Falls back to console logging since winston isn't compatible with Edge Runtime\r\n */ // Simple logger interface that works in Edge Runtime\nconst securityLogger = {\n    // Log failed authentication attempts\n    logFailedAuth: (ip, username, reason)=>{\n        console.warn(`[SECURITY] Failed authentication - IP: ${ip}, Username: ${username}, Reason: ${reason}`);\n    },\n    // Log successful authentication\n    logSuccessfulAuth: (ip, username)=>{\n        console.info(`[SECURITY] Successful authentication - IP: ${ip}, Username: ${username}`);\n    },\n    // Log potential SQL injection attempts\n    logSQLInjectionAttempt: (ip, payload)=>{\n        console.error(`[SECURITY] Potential SQL injection - IP: ${ip}, Payload: ${payload.substring(0, 100)}`);\n    },\n    // Log potential XSS attempts\n    logXSSAttempt: (ip, payload)=>{\n        console.error(`[SECURITY] Potential XSS attempt - IP: ${ip}, Payload: ${payload.substring(0, 100)}`);\n    },\n    // Log rate limit violations\n    logRateLimitExceeded: (ip, endpoint)=>{\n        console.warn(`[SECURITY] Rate limit exceeded - IP: ${ip}, Endpoint: ${endpoint}`);\n    },\n    // Log CSRF token validation failures\n    logCSRFFailure: (ip, endpoint)=>{\n        console.warn(`[SECURITY] CSRF validation failed - IP: ${ip}, Endpoint: ${endpoint}`);\n    },\n    // Log suspicious file uploads\n    logSuspiciousUpload: (ip, filename, reason)=>{\n        console.warn(`[SECURITY] Suspicious file upload - IP: ${ip}, Filename: ${filename}, Reason: ${reason}`);\n    },\n    // Log unauthorized access attempts\n    logUnauthorizedAccess: (ip, endpoint, userId)=>{\n        console.warn(`[SECURITY] Unauthorized access - IP: ${ip}, Endpoint: ${endpoint}, User: ${userId || \"anonymous\"}`);\n    },\n    // Log SSRF attempts\n    logSSRFAttempt: (ip, targetUrl)=>{\n        console.error(`[SECURITY] Potential SSRF attempt - IP: ${ip}, Target URL: ${targetUrl}`);\n    },\n    // Generic security event\n    logSecurityEvent: (event, details)=>{\n        console.warn(`[SECURITY] ${event}`, details);\n    }\n};\n// General logger for Edge Runtime\nconst logger = {\n    info: (message, ...args)=>{\n        console.info(`[INFO] ${message}`, ...args);\n    },\n    warn: (message, ...args)=>{\n        console.warn(`[WARN] ${message}`, ...args);\n    },\n    error: (message, ...args)=>{\n        console.error(`[ERROR] ${message}`, ...args);\n    },\n    debug: (message, ...args)=>{\n        if (true) {\n            console.debug(`[DEBUG] ${message}`, ...args);\n        }\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (logger);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbG1zLXBsYXRmb3JtLy4vc3JjL2xpYi9lZGdlLWxvZ2dlci50cz83YmQ3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBFZGdlIFJ1bnRpbWUgQ29tcGF0aWJsZSBMb2dnZXJcclxuICogTGlnaHR3ZWlnaHQgbG9nZ2VyIGZvciBOZXh0LmpzIEVkZ2UgUnVudGltZSAobWlkZGxld2FyZSlcclxuICogRmFsbHMgYmFjayB0byBjb25zb2xlIGxvZ2dpbmcgc2luY2Ugd2luc3RvbiBpc24ndCBjb21wYXRpYmxlIHdpdGggRWRnZSBSdW50aW1lXHJcbiAqL1xyXG5cclxuLy8gU2ltcGxlIGxvZ2dlciBpbnRlcmZhY2UgdGhhdCB3b3JrcyBpbiBFZGdlIFJ1bnRpbWVcclxuZXhwb3J0IGNvbnN0IHNlY3VyaXR5TG9nZ2VyID0ge1xyXG4gIC8vIExvZyBmYWlsZWQgYXV0aGVudGljYXRpb24gYXR0ZW1wdHNcclxuICBsb2dGYWlsZWRBdXRoOiAoaXA6IHN0cmluZywgdXNlcm5hbWU6IHN0cmluZywgcmVhc29uOiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnNvbGUud2FybihgW1NFQ1VSSVRZXSBGYWlsZWQgYXV0aGVudGljYXRpb24gLSBJUDogJHtpcH0sIFVzZXJuYW1lOiAke3VzZXJuYW1lfSwgUmVhc29uOiAke3JlYXNvbn1gKTtcclxuICB9LFxyXG5cclxuICAvLyBMb2cgc3VjY2Vzc2Z1bCBhdXRoZW50aWNhdGlvblxyXG4gIGxvZ1N1Y2Nlc3NmdWxBdXRoOiAoaXA6IHN0cmluZywgdXNlcm5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc29sZS5pbmZvKGBbU0VDVVJJVFldIFN1Y2Nlc3NmdWwgYXV0aGVudGljYXRpb24gLSBJUDogJHtpcH0sIFVzZXJuYW1lOiAke3VzZXJuYW1lfWApO1xyXG4gIH0sXHJcblxyXG4gIC8vIExvZyBwb3RlbnRpYWwgU1FMIGluamVjdGlvbiBhdHRlbXB0c1xyXG4gIGxvZ1NRTEluamVjdGlvbkF0dGVtcHQ6IChpcDogc3RyaW5nLCBwYXlsb2FkOiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnNvbGUuZXJyb3IoYFtTRUNVUklUWV0gUG90ZW50aWFsIFNRTCBpbmplY3Rpb24gLSBJUDogJHtpcH0sIFBheWxvYWQ6ICR7cGF5bG9hZC5zdWJzdHJpbmcoMCwgMTAwKX1gKTtcclxuICB9LFxyXG5cclxuICAvLyBMb2cgcG90ZW50aWFsIFhTUyBhdHRlbXB0c1xyXG4gIGxvZ1hTU0F0dGVtcHQ6IChpcDogc3RyaW5nLCBwYXlsb2FkOiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnNvbGUuZXJyb3IoYFtTRUNVUklUWV0gUG90ZW50aWFsIFhTUyBhdHRlbXB0IC0gSVA6ICR7aXB9LCBQYXlsb2FkOiAke3BheWxvYWQuc3Vic3RyaW5nKDAsIDEwMCl9YCk7XHJcbiAgfSxcclxuXHJcbiAgLy8gTG9nIHJhdGUgbGltaXQgdmlvbGF0aW9uc1xyXG4gIGxvZ1JhdGVMaW1pdEV4Y2VlZGVkOiAoaXA6IHN0cmluZywgZW5kcG9pbnQ6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc29sZS53YXJuKGBbU0VDVVJJVFldIFJhdGUgbGltaXQgZXhjZWVkZWQgLSBJUDogJHtpcH0sIEVuZHBvaW50OiAke2VuZHBvaW50fWApO1xyXG4gIH0sXHJcblxyXG4gIC8vIExvZyBDU1JGIHRva2VuIHZhbGlkYXRpb24gZmFpbHVyZXNcclxuICBsb2dDU1JGRmFpbHVyZTogKGlwOiBzdHJpbmcsIGVuZHBvaW50OiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnNvbGUud2FybihgW1NFQ1VSSVRZXSBDU1JGIHZhbGlkYXRpb24gZmFpbGVkIC0gSVA6ICR7aXB9LCBFbmRwb2ludDogJHtlbmRwb2ludH1gKTtcclxuICB9LFxyXG5cclxuICAvLyBMb2cgc3VzcGljaW91cyBmaWxlIHVwbG9hZHNcclxuICBsb2dTdXNwaWNpb3VzVXBsb2FkOiAoaXA6IHN0cmluZywgZmlsZW5hbWU6IHN0cmluZywgcmVhc29uOiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnNvbGUud2FybihgW1NFQ1VSSVRZXSBTdXNwaWNpb3VzIGZpbGUgdXBsb2FkIC0gSVA6ICR7aXB9LCBGaWxlbmFtZTogJHtmaWxlbmFtZX0sIFJlYXNvbjogJHtyZWFzb259YCk7XHJcbiAgfSxcclxuXHJcbiAgLy8gTG9nIHVuYXV0aG9yaXplZCBhY2Nlc3MgYXR0ZW1wdHNcclxuICBsb2dVbmF1dGhvcml6ZWRBY2Nlc3M6IChpcDogc3RyaW5nLCBlbmRwb2ludDogc3RyaW5nLCB1c2VySWQ/OiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnNvbGUud2FybihgW1NFQ1VSSVRZXSBVbmF1dGhvcml6ZWQgYWNjZXNzIC0gSVA6ICR7aXB9LCBFbmRwb2ludDogJHtlbmRwb2ludH0sIFVzZXI6ICR7dXNlcklkIHx8ICdhbm9ueW1vdXMnfWApO1xyXG4gIH0sXHJcblxyXG4gIC8vIExvZyBTU1JGIGF0dGVtcHRzXHJcbiAgbG9nU1NSRkF0dGVtcHQ6IChpcDogc3RyaW5nLCB0YXJnZXRVcmw6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc29sZS5lcnJvcihgW1NFQ1VSSVRZXSBQb3RlbnRpYWwgU1NSRiBhdHRlbXB0IC0gSVA6ICR7aXB9LCBUYXJnZXQgVVJMOiAke3RhcmdldFVybH1gKTtcclxuICB9LFxyXG5cclxuICAvLyBHZW5lcmljIHNlY3VyaXR5IGV2ZW50XHJcbiAgbG9nU2VjdXJpdHlFdmVudDogKGV2ZW50OiBzdHJpbmcsIGRldGFpbHM6IGFueSkgPT4ge1xyXG4gICAgY29uc29sZS53YXJuKGBbU0VDVVJJVFldICR7ZXZlbnR9YCwgZGV0YWlscyk7XHJcbiAgfSxcclxufTtcclxuXHJcbi8vIEdlbmVyYWwgbG9nZ2VyIGZvciBFZGdlIFJ1bnRpbWVcclxuZXhwb3J0IGNvbnN0IGxvZ2dlciA9IHtcclxuICBpbmZvOiAobWVzc2FnZTogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4ge1xyXG4gICAgY29uc29sZS5pbmZvKGBbSU5GT10gJHttZXNzYWdlfWAsIC4uLmFyZ3MpO1xyXG4gIH0sXHJcbiAgd2FybjogKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogYW55W10pID0+IHtcclxuICAgIGNvbnNvbGUud2FybihgW1dBUk5dICR7bWVzc2FnZX1gLCAuLi5hcmdzKTtcclxuICB9LFxyXG4gIGVycm9yOiAobWVzc2FnZTogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4ge1xyXG4gICAgY29uc29sZS5lcnJvcihgW0VSUk9SXSAke21lc3NhZ2V9YCwgLi4uYXJncyk7XHJcbiAgfSxcclxuICBkZWJ1ZzogKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogYW55W10pID0+IHtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xyXG4gICAgICBjb25zb2xlLmRlYnVnKGBbREVCVUddICR7bWVzc2FnZX1gLCAuLi5hcmdzKTtcclxuICAgIH1cclxuICB9LFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbG9nZ2VyO1xyXG5cclxuIl0sIm5hbWVzIjpbInNlY3VyaXR5TG9nZ2VyIiwibG9nRmFpbGVkQXV0aCIsImlwIiwidXNlcm5hbWUiLCJyZWFzb24iLCJjb25zb2xlIiwid2FybiIsImxvZ1N1Y2Nlc3NmdWxBdXRoIiwiaW5mbyIsImxvZ1NRTEluamVjdGlvbkF0dGVtcHQiLCJwYXlsb2FkIiwiZXJyb3IiLCJzdWJzdHJpbmciLCJsb2dYU1NBdHRlbXB0IiwibG9nUmF0ZUxpbWl0RXhjZWVkZWQiLCJlbmRwb2ludCIsImxvZ0NTUkZGYWlsdXJlIiwibG9nU3VzcGljaW91c1VwbG9hZCIsImZpbGVuYW1lIiwibG9nVW5hdXRob3JpemVkQWNjZXNzIiwidXNlcklkIiwibG9nU1NSRkF0dGVtcHQiLCJ0YXJnZXRVcmwiLCJsb2dTZWN1cml0eUV2ZW50IiwiZXZlbnQiLCJkZXRhaWxzIiwibG9nZ2VyIiwibWVzc2FnZSIsImFyZ3MiLCJkZWJ1ZyIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/edge-logger.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/security.ts":
/*!*****************************!*\
  !*** ./src/lib/security.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   containsSQLInjection: () => (/* binding */ containsSQLInjection),\n/* harmony export */   escapeHtml: () => (/* binding */ escapeHtml),\n/* harmony export */   generateSecureToken: () => (/* binding */ generateSecureToken),\n/* harmony export */   getClientIP: () => (/* binding */ getClientIP),\n/* harmony export */   rateLimit: () => (/* binding */ rateLimit),\n/* harmony export */   sanitizeForSQL: () => (/* binding */ sanitizeForSQL),\n/* harmony export */   sanitizeString: () => (/* binding */ sanitizeString),\n/* harmony export */   validateBodySize: () => (/* binding */ validateBodySize),\n/* harmony export */   validateEmail: () => (/* binding */ validateEmail),\n/* harmony export */   validatePassword: () => (/* binding */ validatePassword),\n/* harmony export */   validatePhone: () => (/* binding */ validatePhone)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n\n// Rate limiting store (in-memory, use Redis in production)\nconst rateLimitStore = new Map();\n// Input validation and sanitization\nfunction sanitizeString(input, maxLength = 255) {\n    if (typeof input !== \"string\") return \"\";\n    return input.trim().slice(0, maxLength).replace(/[<>]/g, \"\"); // Basic XSS prevention\n}\nfunction validateEmail(email) {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email) && email.length <= 255;\n}\nfunction validatePassword(password) {\n    if (password.length < 8) {\n        return {\n            valid: false,\n            error: \"Password must be at least 8 characters long\"\n        };\n    }\n    if (password.length > 128) {\n        return {\n            valid: false,\n            error: \"Password must be less than 128 characters\"\n        };\n    }\n    // Require at least one letter and one number\n    if (!/[a-zA-Z]/.test(password)) {\n        return {\n            valid: false,\n            error: \"Password must contain at least one letter\"\n        };\n    }\n    if (!/[0-9]/.test(password)) {\n        return {\n            valid: false,\n            error: \"Password must contain at least one number\"\n        };\n    }\n    return {\n        valid: true\n    };\n}\nfunction validatePhone(phone) {\n    // Basic phone validation - adjust regex for your needs\n    const phoneRegex = /^[\\d\\s\\-\\+\\(\\)]{10,20}$/;\n    return phoneRegex.test(phone);\n}\n// Generate secure random token\nfunction generateSecureToken(length = 32) {\n    return crypto__WEBPACK_IMPORTED_MODULE_0___default().randomBytes(length).toString(\"hex\");\n}\n// Rate limiting\nfunction rateLimit(identifier, maxRequests = 5, windowMs = 15 * 60 * 1000 // 15 minutes\n) {\n    const now = Date.now();\n    const key = identifier;\n    const record = rateLimitStore.get(key);\n    if (!record || now > record.resetTime) {\n        // New window\n        rateLimitStore.set(key, {\n            count: 1,\n            resetTime: now + windowMs\n        });\n        return {\n            allowed: true,\n            remaining: maxRequests - 1,\n            resetTime: now + windowMs\n        };\n    }\n    if (record.count >= maxRequests) {\n        return {\n            allowed: false,\n            remaining: 0,\n            resetTime: record.resetTime\n        };\n    }\n    record.count++;\n    rateLimitStore.set(key, record);\n    return {\n        allowed: true,\n        remaining: maxRequests - record.count,\n        resetTime: record.resetTime\n    };\n}\n// Get client IP for rate limiting\nfunction getClientIP(request) {\n    const forwarded = request.headers.get(\"x-forwarded-for\");\n    const realIP = request.headers.get(\"x-real-ip\");\n    const ip = forwarded?.split(\",\")[0] || realIP || request.ip || \"unknown\";\n    return ip;\n}\n// XSS protection - escape HTML\nfunction escapeHtml(text) {\n    const map = {\n        \"&\": \"&amp;\",\n        \"<\": \"&lt;\",\n        \">\": \"&gt;\",\n        '\"': \"&quot;\",\n        \"'\": \"&#039;\"\n    };\n    return text.replace(/[&<>\"']/g, (m)=>map[m]);\n}\n// Validate request body size\nfunction validateBodySize(body, maxSize = 1024 * 1024) {\n    return Buffer.byteLength(body, \"utf8\") <= maxSize;\n}\n// Check if string contains SQL injection patterns\nfunction containsSQLInjection(input) {\n    const sqlPatterns = [\n        /(\\b(SELECT|INSERT|UPDATE|DELETE|DROP|CREATE|ALTER|EXEC|EXECUTE)\\b)/i,\n        /(--|#|\\/\\*|\\*\\/|;)/,\n        /(\\b(OR|AND)\\s+\\d+\\s*=\\s*\\d+)/i,\n        /(\\bUNION\\s+SELECT\\b)/i\n    ];\n    return sqlPatterns.some((pattern)=>pattern.test(input));\n}\n// Sanitize for SQL (though we use ORM, this is extra protection)\nfunction sanitizeForSQL(input) {\n    if (containsSQLInjection(input)) {\n        throw new Error(\"Invalid input detected\");\n    }\n    return input;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0lBQ3JDLE1BQU1DLE1BQWlDO1FBQ3JDLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO0lBQ1A7SUFDQSxPQUFPRCxLQUFLdEMsT0FBTyxDQUFDLFlBQVksQ0FBQ3dDLElBQU1ELEdBQUcsQ0FBQ0MsRUFBRTtBQUMvQztBQUVBLDZCQUE2QjtBQUN0QixTQUFTQyxpQkFBaUJDLElBQVksRUFBRUMsVUFBa0IsT0FBTyxJQUFJO0lBQzFFLE9BQU9DLE9BQU9DLFVBQVUsQ0FBQ0gsTUFBTSxXQUFXQztBQUM1QztBQUVBLGtEQUFrRDtBQUMzQyxTQUFTRyxxQkFBcUJsRCxLQUFhO0lBQ2hELE1BQU1tRCxjQUFjO1FBQ2xCO1FBQ0E7UUFDQTtRQUNBO0tBQ0Q7SUFDRCxPQUFPQSxZQUFZQyxJQUFJLENBQUNDLENBQUFBLFVBQVdBLFFBQVE3QyxJQUFJLENBQUNSO0FBQ2xEO0FBRUEsaUVBQWlFO0FBQzFELFNBQVNzRCxlQUFldEQsS0FBYTtJQUMxQyxJQUFJa0QscUJBQXFCbEQsUUFBUTtRQUMvQixNQUFNLElBQUl1RCxNQUFNO0lBQ2xCO0lBQ0EsT0FBT3ZEO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sbXMtcGxhdGZvcm0vLi9zcmMvbGliL3NlY3VyaXR5LnRzP2RhNmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyeXB0byBmcm9tICdjcnlwdG8nO1xyXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCB9IGZyb20gJ25leHQvc2VydmVyJztcclxuXHJcbi8vIFJhdGUgbGltaXRpbmcgc3RvcmUgKGluLW1lbW9yeSwgdXNlIFJlZGlzIGluIHByb2R1Y3Rpb24pXHJcbmNvbnN0IHJhdGVMaW1pdFN0b3JlID0gbmV3IE1hcDxzdHJpbmcsIHsgY291bnQ6IG51bWJlcjsgcmVzZXRUaW1lOiBudW1iZXIgfT4oKTtcclxuXHJcbi8vIElucHV0IHZhbGlkYXRpb24gYW5kIHNhbml0aXphdGlvblxyXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemVTdHJpbmcoaW5wdXQ6IHN0cmluZywgbWF4TGVuZ3RoOiBudW1iZXIgPSAyNTUpOiBzdHJpbmcge1xyXG4gIGlmICh0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnKSByZXR1cm4gJyc7XHJcbiAgcmV0dXJuIGlucHV0XHJcbiAgICAudHJpbSgpXHJcbiAgICAuc2xpY2UoMCwgbWF4TGVuZ3RoKVxyXG4gICAgLnJlcGxhY2UoL1s8Pl0vZywgJycpOyAvLyBCYXNpYyBYU1MgcHJldmVudGlvblxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVFbWFpbChlbWFpbDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgY29uc3QgZW1haWxSZWdleCA9IC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvO1xyXG4gIHJldHVybiBlbWFpbFJlZ2V4LnRlc3QoZW1haWwpICYmIGVtYWlsLmxlbmd0aCA8PSAyNTU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVBhc3N3b3JkKHBhc3N3b3JkOiBzdHJpbmcpOiB7IHZhbGlkOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9IHtcclxuICBpZiAocGFzc3dvcmQubGVuZ3RoIDwgOCkge1xyXG4gICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcjogJ1Bhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgOCBjaGFyYWN0ZXJzIGxvbmcnIH07XHJcbiAgfVxyXG4gIGlmIChwYXNzd29yZC5sZW5ndGggPiAxMjgpIHtcclxuICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgZXJyb3I6ICdQYXNzd29yZCBtdXN0IGJlIGxlc3MgdGhhbiAxMjggY2hhcmFjdGVycycgfTtcclxuICB9XHJcbiAgLy8gUmVxdWlyZSBhdCBsZWFzdCBvbmUgbGV0dGVyIGFuZCBvbmUgbnVtYmVyXHJcbiAgaWYgKCEvW2EtekEtWl0vLnRlc3QocGFzc3dvcmQpKSB7XHJcbiAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIGVycm9yOiAnUGFzc3dvcmQgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBsZXR0ZXInIH07XHJcbiAgfVxyXG4gIGlmICghL1swLTldLy50ZXN0KHBhc3N3b3JkKSkge1xyXG4gICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcjogJ1Bhc3N3b3JkIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgbnVtYmVyJyB9O1xyXG4gIH1cclxuICByZXR1cm4geyB2YWxpZDogdHJ1ZSB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVQaG9uZShwaG9uZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgLy8gQmFzaWMgcGhvbmUgdmFsaWRhdGlvbiAtIGFkanVzdCByZWdleCBmb3IgeW91ciBuZWVkc1xyXG4gIGNvbnN0IHBob25lUmVnZXggPSAvXltcXGRcXHNcXC1cXCtcXChcXCldezEwLDIwfSQvO1xyXG4gIHJldHVybiBwaG9uZVJlZ2V4LnRlc3QocGhvbmUpO1xyXG59XHJcblxyXG4vLyBHZW5lcmF0ZSBzZWN1cmUgcmFuZG9tIHRva2VuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVNlY3VyZVRva2VuKGxlbmd0aDogbnVtYmVyID0gMzIpOiBzdHJpbmcge1xyXG4gIHJldHVybiBjcnlwdG8ucmFuZG9tQnl0ZXMobGVuZ3RoKS50b1N0cmluZygnaGV4Jyk7XHJcbn1cclxuXHJcbi8vIFJhdGUgbGltaXRpbmdcclxuZXhwb3J0IGZ1bmN0aW9uIHJhdGVMaW1pdChcclxuICBpZGVudGlmaWVyOiBzdHJpbmcsXHJcbiAgbWF4UmVxdWVzdHM6IG51bWJlciA9IDUsXHJcbiAgd2luZG93TXM6IG51bWJlciA9IDE1ICogNjAgKiAxMDAwIC8vIDE1IG1pbnV0ZXNcclxuKTogeyBhbGxvd2VkOiBib29sZWFuOyByZW1haW5pbmc6IG51bWJlcjsgcmVzZXRUaW1lOiBudW1iZXIgfSB7XHJcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICBjb25zdCBrZXkgPSBpZGVudGlmaWVyO1xyXG4gIGNvbnN0IHJlY29yZCA9IHJhdGVMaW1pdFN0b3JlLmdldChrZXkpO1xyXG5cclxuICBpZiAoIXJlY29yZCB8fCBub3cgPiByZWNvcmQucmVzZXRUaW1lKSB7XHJcbiAgICAvLyBOZXcgd2luZG93XHJcbiAgICByYXRlTGltaXRTdG9yZS5zZXQoa2V5LCB7XHJcbiAgICAgIGNvdW50OiAxLFxyXG4gICAgICByZXNldFRpbWU6IG5vdyArIHdpbmRvd01zLFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBhbGxvd2VkOiB0cnVlLFxyXG4gICAgICByZW1haW5pbmc6IG1heFJlcXVlc3RzIC0gMSxcclxuICAgICAgcmVzZXRUaW1lOiBub3cgKyB3aW5kb3dNcyxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBpZiAocmVjb3JkLmNvdW50ID49IG1heFJlcXVlc3RzKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBhbGxvd2VkOiBmYWxzZSxcclxuICAgICAgcmVtYWluaW5nOiAwLFxyXG4gICAgICByZXNldFRpbWU6IHJlY29yZC5yZXNldFRpbWUsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgcmVjb3JkLmNvdW50Kys7XHJcbiAgcmF0ZUxpbWl0U3RvcmUuc2V0KGtleSwgcmVjb3JkKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGFsbG93ZWQ6IHRydWUsXHJcbiAgICByZW1haW5pbmc6IG1heFJlcXVlc3RzIC0gcmVjb3JkLmNvdW50LFxyXG4gICAgcmVzZXRUaW1lOiByZWNvcmQucmVzZXRUaW1lLFxyXG4gIH07XHJcbn1cclxuXHJcbi8vIEdldCBjbGllbnQgSVAgZm9yIHJhdGUgbGltaXRpbmdcclxuZXhwb3J0IGZ1bmN0aW9uIGdldENsaWVudElQKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KTogc3RyaW5nIHtcclxuICBjb25zdCBmb3J3YXJkZWQgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd4LWZvcndhcmRlZC1mb3InKTtcclxuICBjb25zdCByZWFsSVAgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd4LXJlYWwtaXAnKTtcclxuICBjb25zdCBpcCA9IGZvcndhcmRlZD8uc3BsaXQoJywnKVswXSB8fCByZWFsSVAgfHwgcmVxdWVzdC5pcCB8fCAndW5rbm93bic7XHJcbiAgcmV0dXJuIGlwO1xyXG59XHJcblxyXG4vLyBYU1MgcHJvdGVjdGlvbiAtIGVzY2FwZSBIVE1MXHJcbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVIdG1sKHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgY29uc3QgbWFwOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xyXG4gICAgJyYnOiAnJmFtcDsnLFxyXG4gICAgJzwnOiAnJmx0OycsXHJcbiAgICAnPic6ICcmZ3Q7JyxcclxuICAgICdcIic6ICcmcXVvdDsnLFxyXG4gICAgXCInXCI6ICcmIzAzOTsnLFxyXG4gIH07XHJcbiAgcmV0dXJuIHRleHQucmVwbGFjZSgvWyY8PlwiJ10vZywgKG0pID0+IG1hcFttXSk7XHJcbn1cclxuXHJcbi8vIFZhbGlkYXRlIHJlcXVlc3QgYm9keSBzaXplXHJcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUJvZHlTaXplKGJvZHk6IHN0cmluZywgbWF4U2l6ZTogbnVtYmVyID0gMTAyNCAqIDEwMjQpOiBib29sZWFuIHtcclxuICByZXR1cm4gQnVmZmVyLmJ5dGVMZW5ndGgoYm9keSwgJ3V0ZjgnKSA8PSBtYXhTaXplO1xyXG59XHJcblxyXG4vLyBDaGVjayBpZiBzdHJpbmcgY29udGFpbnMgU1FMIGluamVjdGlvbiBwYXR0ZXJuc1xyXG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnNTUUxJbmplY3Rpb24oaW5wdXQ6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IHNxbFBhdHRlcm5zID0gW1xyXG4gICAgLyhcXGIoU0VMRUNUfElOU0VSVHxVUERBVEV8REVMRVRFfERST1B8Q1JFQVRFfEFMVEVSfEVYRUN8RVhFQ1VURSlcXGIpL2ksXHJcbiAgICAvKC0tfCN8XFwvXFwqfFxcKlxcL3w7KS8sXHJcbiAgICAvKFxcYihPUnxBTkQpXFxzK1xcZCtcXHMqPVxccypcXGQrKS9pLFxyXG4gICAgLyhcXGJVTklPTlxccytTRUxFQ1RcXGIpL2ksXHJcbiAgXTtcclxuICByZXR1cm4gc3FsUGF0dGVybnMuc29tZShwYXR0ZXJuID0+IHBhdHRlcm4udGVzdChpbnB1dCkpO1xyXG59XHJcblxyXG4vLyBTYW5pdGl6ZSBmb3IgU1FMICh0aG91Z2ggd2UgdXNlIE9STSwgdGhpcyBpcyBleHRyYSBwcm90ZWN0aW9uKVxyXG5leHBvcnQgZnVuY3Rpb24gc2FuaXRpemVGb3JTUUwoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgaWYgKGNvbnRhaW5zU1FMSW5qZWN0aW9uKGlucHV0KSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGlucHV0IGRldGVjdGVkJyk7XHJcbiAgfVxyXG4gIHJldHVybiBpbnB1dDtcclxufVxyXG5cclxuIl0sIm5hbWVzIjpbImNyeXB0byIsInJhdGVMaW1pdFN0b3JlIiwiTWFwIiwic2FuaXRpemVTdHJpbmciLCJpbnB1dCIsIm1heExlbmd0aCIsInRyaW0iLCJzbGljZSIsInJlcGxhY2UiLCJ2YWxpZGF0ZUVtYWlsIiwiZW1haWwiLCJlbWFpbFJlZ2V4IiwidGVzdCIsImxlbmd0aCIsInZhbGlkYXRlUGFzc3dvcmQiLCJwYXNzd29yZCIsInZhbGlkIiwiZXJyb3IiLCJ2YWxpZGF0ZVBob25lIiwicGhvbmUiLCJwaG9uZVJlZ2V4IiwiZ2VuZXJhdGVTZWN1cmVUb2tlbiIsInJhbmRvbUJ5dGVzIiwidG9TdHJpbmciLCJyYXRlTGltaXQiLCJpZGVudGlmaWVyIiwibWF4UmVxdWVzdHMiLCJ3aW5kb3dNcyIsIm5vdyIsIkRhdGUiLCJrZXkiLCJyZWNvcmQiLCJnZXQiLCJyZXNldFRpbWUiLCJzZXQiLCJjb3VudCIsImFsbG93ZWQiLCJyZW1haW5pbmciLCJnZXRDbGllbnRJUCIsInJlcXVlc3QiLCJmb3J3YXJkZWQiLCJoZWFkZXJzIiwicmVhbElQIiwiaXAiLCJzcGxpdCIsImVzY2FwZUh0bWwiLCJ0ZXh0IiwibWFwIiwibSIsInZhbGlkYXRlQm9keVNpemUiLCJib2R5IiwibWF4U2l6ZSIsIkJ1ZmZlciIsImJ5dGVMZW5ndGgiLCJjb250YWluc1NRTEluamVjdGlvbiIsInNxbFBhdHRlcm5zIiwic29tZSIsInBhdHRlcm4iLCJzYW5pdGl6ZUZvclNRTCIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/security.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/threat-detection.ts":
/*!*************************************!*\
  !*** ./src/lib/threat-detection.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeRequest: () => (/* binding */ analyzeRequest),\n/* harmony export */   blockIP: () => (/* binding */ blockIP),\n/* harmony export */   calculateThreatScore: () => (/* binding */ calculateThreatScore),\n/* harmony export */   detectMaliciousUserAgent: () => (/* binding */ detectMaliciousUserAgent),\n/* harmony export */   detectSuspiciousBehavior: () => (/* binding */ detectSuspiciousBehavior),\n/* harmony export */   getBlockInfo: () => (/* binding */ getBlockInfo),\n/* harmony export */   getBlockedIPs: () => (/* binding */ getBlockedIPs),\n/* harmony export */   getSuspiciousIPs: () => (/* binding */ getSuspiciousIPs),\n/* harmony export */   getThreatScore: () => (/* binding */ getThreatScore),\n/* harmony export */   isIPBlocked: () => (/* binding */ isIPBlocked),\n/* harmony export */   isSuspicious: () => (/* binding */ isSuspicious),\n/* harmony export */   isTorIP: () => (/* binding */ isTorIP),\n/* harmony export */   reportSecurityIncident: () => (/* binding */ reportSecurityIncident),\n/* harmony export */   unblockIP: () => (/* binding */ unblockIP)\n/* harmony export */ });\n/* harmony import */ var _edge_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./edge-logger */ \"(rsc)/./src/lib/edge-logger.ts\");\n/**\r\n * Threat Detection and IP Blocking System\r\n * Monitors and blocks malicious IPs based on behavior patterns\r\n */ \n// Threat scoring system\nconst threatScores = new Map();\nconst blockedIPs = new Map();\nconst suspiciousIPs = new Set();\n// Configuration\nconst THREAT_SCORE_THRESHOLD = 100;\nconst THREAT_SCORE_DECAY_RATE = 10; // Points decay per hour\nconst AUTO_BLOCK_DURATION = 24 * 60 * 60 * 1000; // 24 hours\nconst MAX_THREAT_HISTORY = 1000;\n// Known malicious patterns\nconst MALICIOUS_USER_AGENTS = [\n    /sqlmap/i,\n    /nikto/i,\n    /nmap/i,\n    /masscan/i,\n    /nessus/i,\n    /burp/i,\n    /metasploit/i,\n    /havij/i\n];\nconst SCANNER_PATTERNS = [\n    /acunetix/i,\n    /netsparker/i,\n    /appscan/i,\n    /webinspect/i\n];\n/**\r\n * Calculate threat score for an IP\r\n */ function calculateThreatScore(ip, incidentType, severity) {\n    const now = Date.now();\n    let threat = threatScores.get(ip);\n    if (!threat) {\n        threat = {\n            score: 0,\n            incidents: [],\n            firstSeen: now,\n            lastSeen: now\n        };\n    }\n    // Decay old scores\n    const hoursSinceLastSeen = (now - threat.lastSeen) / (60 * 60 * 1000);\n    threat.score = Math.max(0, threat.score - hoursSinceLastSeen * THREAT_SCORE_DECAY_RATE);\n    // Add new incident\n    const severityScores = {\n        low: 10,\n        medium: 25,\n        high: 50,\n        critical: 100\n    };\n    threat.score += severityScores[severity];\n    threat.incidents.push(`${incidentType} (${severity})`);\n    threat.lastSeen = now;\n    // Keep only recent incidents\n    if (threat.incidents.length > 20) {\n        threat.incidents = threat.incidents.slice(-20);\n    }\n    threatScores.set(ip, threat);\n    // Auto-block if threshold exceeded\n    if (threat.score >= THREAT_SCORE_THRESHOLD) {\n        blockIP(ip, `Threat score threshold exceeded (${threat.score})`, false);\n    }\n    // Mark as suspicious\n    if (threat.score >= THREAT_SCORE_THRESHOLD / 2) {\n        suspiciousIPs.add(ip);\n    }\n    return threat.score;\n}\n/**\r\n * Block an IP address\r\n */ function blockIP(ip, reason, permanent = false) {\n    const now = Date.now();\n    const expiresAt = permanent ? now + 365 * 24 * 60 * 60 * 1000 : now + AUTO_BLOCK_DURATION;\n    blockedIPs.set(ip, {\n        ip,\n        reason,\n        blockedAt: now,\n        expiresAt,\n        permanent\n    });\n    _edge_logger__WEBPACK_IMPORTED_MODULE_0__.securityLogger.logSecurityEvent(\"IP Blocked\", {\n        ip,\n        reason,\n        permanent\n    });\n}\n/**\r\n * Unblock an IP address\r\n */ function unblockIP(ip) {\n    const blocked = blockedIPs.get(ip);\n    if (!blocked) {\n        return false;\n    }\n    if (blocked.permanent) {\n        return false; // Cannot unblock permanent blocks\n    }\n    blockedIPs.delete(ip);\n    threatScores.delete(ip);\n    suspiciousIPs.delete(ip);\n    _edge_logger__WEBPACK_IMPORTED_MODULE_0__.securityLogger.logSecurityEvent(\"IP Unblocked\", {\n        ip\n    });\n    return true;\n}\n/**\r\n * Check if an IP is blocked\r\n */ function isIPBlocked(ip) {\n    const blocked = blockedIPs.get(ip);\n    if (!blocked) {\n        return false;\n    }\n    const now = Date.now();\n    // Check if block has expired\n    if (!blocked.permanent && now > blocked.expiresAt) {\n        blockedIPs.delete(ip);\n        return false;\n    }\n    return true;\n}\n/**\r\n * Get block info for an IP\r\n */ function getBlockInfo(ip) {\n    return blockedIPs.get(ip) || null;\n}\n/**\r\n * Check if IP is suspicious\r\n */ function isSuspicious(ip) {\n    return suspiciousIPs.has(ip);\n}\n/**\r\n * Get threat score for an IP\r\n */ function getThreatScore(ip) {\n    const threat = threatScores.get(ip);\n    return threat ? threat.score : 0;\n}\n/**\r\n * Detect malicious user agent\r\n */ function detectMaliciousUserAgent(userAgent) {\n    return MALICIOUS_USER_AGENTS.some((pattern)=>pattern.test(userAgent)) || SCANNER_PATTERNS.some((pattern)=>pattern.test(userAgent));\n}\n/**\r\n * Detect suspicious behavior patterns\r\n */ function detectSuspiciousBehavior(ip, requestCount, timeWindow // in seconds\n) {\n    const requestRate = requestCount / timeWindow;\n    // More than 10 requests per second is suspicious\n    if (requestRate > 10) {\n        calculateThreatScore(ip, \"High request rate\", \"medium\");\n        return true;\n    }\n    return false;\n}\n/**\r\n * Report security incident\r\n */ function reportSecurityIncident(ip, incidentType, details, severity = \"medium\") {\n    calculateThreatScore(ip, incidentType, severity);\n    _edge_logger__WEBPACK_IMPORTED_MODULE_0__.securityLogger.logSecurityEvent(\"Security Incident\", {\n        ip,\n        type: incidentType,\n        severity,\n        details,\n        threatScore: getThreatScore(ip)\n    });\n}\n/**\r\n * Get list of blocked IPs\r\n */ function getBlockedIPs() {\n    const now = Date.now();\n    const blocked = [];\n    for (const [ip, info] of blockedIPs.entries()){\n        // Remove expired blocks\n        if (!info.permanent && now > info.expiresAt) {\n            blockedIPs.delete(ip);\n        } else {\n            blocked.push(info);\n        }\n    }\n    return blocked;\n}\n/**\r\n * Get suspicious IPs\r\n */ function getSuspiciousIPs() {\n    const suspicious = [];\n    for (const ip of suspiciousIPs){\n        const threat = threatScores.get(ip);\n        if (threat) {\n            suspicious.push({\n                ip,\n                score: threat.score,\n                incidents: threat.incidents\n            });\n        }\n    }\n    return suspicious.sort((a, b)=>b.score - a.score);\n}\n/**\r\n * Check if IP is from Tor network (basic check)\r\n */ function isTorIP(ip) {\n    // This is a basic implementation\n    // In production, use a Tor exit node list API\n    const torPatterns = [\n        /^185\\.220\\./,\n        /^77\\.247\\./\n    ];\n    return torPatterns.some((pattern)=>pattern.test(ip));\n}\n/**\r\n * Analyze request for threats\r\n */ function analyzeRequest(data) {\n    const threats = [];\n    let currentScore = getThreatScore(data.ip);\n    // Check if IP is blocked\n    if (isIPBlocked(data.ip)) {\n        threats.push(\"IP is blocked\");\n    }\n    // Check user agent\n    if (detectMaliciousUserAgent(data.userAgent)) {\n        threats.push(\"Malicious user agent detected\");\n        currentScore = calculateThreatScore(data.ip, \"Malicious user agent\", \"high\");\n    }\n    // Check for scanning behavior\n    if (data.path.includes(\"..\") || data.path.includes(\"%2e\")) {\n        threats.push(\"Path traversal attempt\");\n        currentScore = calculateThreatScore(data.ip, \"Path traversal\", \"high\");\n    }\n    // Check for admin panel scanning\n    const adminPaths = [\n        \"/admin\",\n        \"/wp-admin\",\n        \"/phpmyadmin\",\n        \"/.env\",\n        \"/.git\"\n    ];\n    if (adminPaths.some((path)=>data.path.includes(path))) {\n        currentScore = calculateThreatScore(data.ip, \"Admin panel scanning\", \"medium\");\n    }\n    // Check for suspicious headers\n    if (data.headers[\"x-forwarded-for\"]?.split(\",\").length > 5) {\n        threats.push(\"Suspicious proxy chain\");\n        currentScore = calculateThreatScore(data.ip, \"Proxy chain\", \"low\");\n    }\n    // Check if from Tor\n    if (isTorIP(data.ip)) {\n        threats.push(\"Tor exit node detected\");\n        currentScore = calculateThreatScore(data.ip, \"Tor usage\", \"low\");\n    }\n    return {\n        safe: threats.length === 0,\n        threats,\n        threatScore: currentScore\n    };\n}\n// Clean up old data every hour\nsetInterval(()=>{\n    const now = Date.now();\n    const maxAge = 7 * 24 * 60 * 60 * 1000; // 7 days\n    // Clean threat scores\n    for (const [ip, threat] of threatScores.entries()){\n        if (now - threat.lastSeen > maxAge) {\n            threatScores.delete(ip);\n            suspiciousIPs.delete(ip);\n        }\n    }\n    // Limit size\n    if (threatScores.size > MAX_THREAT_HISTORY) {\n        const sorted = Array.from(threatScores.entries()).sort((a, b)=>a[1].lastSeen - b[1].lastSeen);\n        const toRemove = sorted.slice(0, sorted.length - MAX_THREAT_HISTORY);\n        toRemove.forEach(([ip])=>{\n            threatScores.delete(ip);\n            suspiciousIPs.delete(ip);\n        });\n    }\n}, 60 * 60 * 1000);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFHcUQsT0FBT3RELE1BQU0sR0FBR3hCO1FBQ2pEaUYsU0FBU0MsT0FBTyxDQUFDLENBQUMsQ0FBQzlFLEdBQUc7WUFDcEJaLGFBQWE0QyxNQUFNLENBQUNoQztZQUNwQlQsY0FBY3lDLE1BQU0sQ0FBQ2hDO1FBQ3ZCO0lBQ0Y7QUFDRixHQUFHLEtBQUssS0FBSyIsInNvdXJjZXMiOlsid2VicGFjazovL2xtcy1wbGF0Zm9ybS8uL3NyYy9saWIvdGhyZWF0LWRldGVjdGlvbi50cz85MjJmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBUaHJlYXQgRGV0ZWN0aW9uIGFuZCBJUCBCbG9ja2luZyBTeXN0ZW1cclxuICogTW9uaXRvcnMgYW5kIGJsb2NrcyBtYWxpY2lvdXMgSVBzIGJhc2VkIG9uIGJlaGF2aW9yIHBhdHRlcm5zXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgc2VjdXJpdHlMb2dnZXIgfSBmcm9tICcuL2VkZ2UtbG9nZ2VyJztcclxuXHJcbmludGVyZmFjZSBUaHJlYXRTY29yZSB7XHJcbiAgc2NvcmU6IG51bWJlcjtcclxuICBpbmNpZGVudHM6IHN0cmluZ1tdO1xyXG4gIGZpcnN0U2VlbjogbnVtYmVyO1xyXG4gIGxhc3RTZWVuOiBudW1iZXI7XHJcbn1cclxuXHJcbmludGVyZmFjZSBCbG9ja2VkSVAge1xyXG4gIGlwOiBzdHJpbmc7XHJcbiAgcmVhc29uOiBzdHJpbmc7XHJcbiAgYmxvY2tlZEF0OiBudW1iZXI7XHJcbiAgZXhwaXJlc0F0OiBudW1iZXI7XHJcbiAgcGVybWFuZW50OiBib29sZWFuO1xyXG59XHJcblxyXG4vLyBUaHJlYXQgc2NvcmluZyBzeXN0ZW1cclxuY29uc3QgdGhyZWF0U2NvcmVzID0gbmV3IE1hcDxzdHJpbmcsIFRocmVhdFNjb3JlPigpO1xyXG5jb25zdCBibG9ja2VkSVBzID0gbmV3IE1hcDxzdHJpbmcsIEJsb2NrZWRJUD4oKTtcclxuY29uc3Qgc3VzcGljaW91c0lQcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xyXG5cclxuLy8gQ29uZmlndXJhdGlvblxyXG5jb25zdCBUSFJFQVRfU0NPUkVfVEhSRVNIT0xEID0gMTAwO1xyXG5jb25zdCBUSFJFQVRfU0NPUkVfREVDQVlfUkFURSA9IDEwOyAvLyBQb2ludHMgZGVjYXkgcGVyIGhvdXJcclxuY29uc3QgQVVUT19CTE9DS19EVVJBVElPTiA9IDI0ICogNjAgKiA2MCAqIDEwMDA7IC8vIDI0IGhvdXJzXHJcbmNvbnN0IE1BWF9USFJFQVRfSElTVE9SWSA9IDEwMDA7XHJcblxyXG4vLyBLbm93biBtYWxpY2lvdXMgcGF0dGVybnNcclxuY29uc3QgTUFMSUNJT1VTX1VTRVJfQUdFTlRTID0gW1xyXG4gIC9zcWxtYXAvaSxcclxuICAvbmlrdG8vaSxcclxuICAvbm1hcC9pLFxyXG4gIC9tYXNzY2FuL2ksXHJcbiAgL25lc3N1cy9pLFxyXG4gIC9idXJwL2ksXHJcbiAgL21ldGFzcGxvaXQvaSxcclxuICAvaGF2aWovaSxcclxuXTtcclxuXHJcbmNvbnN0IFNDQU5ORVJfUEFUVEVSTlMgPSBbXHJcbiAgL2FjdW5ldGl4L2ksXHJcbiAgL25ldHNwYXJrZXIvaSxcclxuICAvYXBwc2Nhbi9pLFxyXG4gIC93ZWJpbnNwZWN0L2ksXHJcbl07XHJcblxyXG4vKipcclxuICogQ2FsY3VsYXRlIHRocmVhdCBzY29yZSBmb3IgYW4gSVBcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVUaHJlYXRTY29yZShcclxuICBpcDogc3RyaW5nLFxyXG4gIGluY2lkZW50VHlwZTogc3RyaW5nLFxyXG4gIHNldmVyaXR5OiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnIHwgJ2NyaXRpY2FsJ1xyXG4pOiBudW1iZXIge1xyXG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgbGV0IHRocmVhdCA9IHRocmVhdFNjb3Jlcy5nZXQoaXApO1xyXG4gIFxyXG4gIGlmICghdGhyZWF0KSB7XHJcbiAgICB0aHJlYXQgPSB7XHJcbiAgICAgIHNjb3JlOiAwLFxyXG4gICAgICBpbmNpZGVudHM6IFtdLFxyXG4gICAgICBmaXJzdFNlZW46IG5vdyxcclxuICAgICAgbGFzdFNlZW46IG5vdyxcclxuICAgIH07XHJcbiAgfVxyXG4gIFxyXG4gIC8vIERlY2F5IG9sZCBzY29yZXNcclxuICBjb25zdCBob3Vyc1NpbmNlTGFzdFNlZW4gPSAobm93IC0gdGhyZWF0Lmxhc3RTZWVuKSAvICg2MCAqIDYwICogMTAwMCk7XHJcbiAgdGhyZWF0LnNjb3JlID0gTWF0aC5tYXgoMCwgdGhyZWF0LnNjb3JlIC0gKGhvdXJzU2luY2VMYXN0U2VlbiAqIFRIUkVBVF9TQ09SRV9ERUNBWV9SQVRFKSk7XHJcbiAgXHJcbiAgLy8gQWRkIG5ldyBpbmNpZGVudFxyXG4gIGNvbnN0IHNldmVyaXR5U2NvcmVzID0ge1xyXG4gICAgbG93OiAxMCxcclxuICAgIG1lZGl1bTogMjUsXHJcbiAgICBoaWdoOiA1MCxcclxuICAgIGNyaXRpY2FsOiAxMDAsXHJcbiAgfTtcclxuICBcclxuICB0aHJlYXQuc2NvcmUgKz0gc2V2ZXJpdHlTY29yZXNbc2V2ZXJpdHldO1xyXG4gIHRocmVhdC5pbmNpZGVudHMucHVzaChgJHtpbmNpZGVudFR5cGV9ICgke3NldmVyaXR5fSlgKTtcclxuICB0aHJlYXQubGFzdFNlZW4gPSBub3c7XHJcbiAgXHJcbiAgLy8gS2VlcCBvbmx5IHJlY2VudCBpbmNpZGVudHNcclxuICBpZiAodGhyZWF0LmluY2lkZW50cy5sZW5ndGggPiAyMCkge1xyXG4gICAgdGhyZWF0LmluY2lkZW50cyA9IHRocmVhdC5pbmNpZGVudHMuc2xpY2UoLTIwKTtcclxuICB9XHJcbiAgXHJcbiAgdGhyZWF0U2NvcmVzLnNldChpcCwgdGhyZWF0KTtcclxuICBcclxuICAvLyBBdXRvLWJsb2NrIGlmIHRocmVzaG9sZCBleGNlZWRlZFxyXG4gIGlmICh0aHJlYXQuc2NvcmUgPj0gVEhSRUFUX1NDT1JFX1RIUkVTSE9MRCkge1xyXG4gICAgYmxvY2tJUChpcCwgYFRocmVhdCBzY29yZSB0aHJlc2hvbGQgZXhjZWVkZWQgKCR7dGhyZWF0LnNjb3JlfSlgLCBmYWxzZSk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIE1hcmsgYXMgc3VzcGljaW91c1xyXG4gIGlmICh0aHJlYXQuc2NvcmUgPj0gVEhSRUFUX1NDT1JFX1RIUkVTSE9MRCAvIDIpIHtcclxuICAgIHN1c3BpY2lvdXNJUHMuYWRkKGlwKTtcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIHRocmVhdC5zY29yZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEJsb2NrIGFuIElQIGFkZHJlc3NcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBibG9ja0lQKFxyXG4gIGlwOiBzdHJpbmcsXHJcbiAgcmVhc29uOiBzdHJpbmcsXHJcbiAgcGVybWFuZW50OiBib29sZWFuID0gZmFsc2VcclxuKTogdm9pZCB7XHJcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICBjb25zdCBleHBpcmVzQXQgPSBwZXJtYW5lbnQgPyBub3cgKyAoMzY1ICogMjQgKiA2MCAqIDYwICogMTAwMCkgOiBub3cgKyBBVVRPX0JMT0NLX0RVUkFUSU9OO1xyXG4gIFxyXG4gIGJsb2NrZWRJUHMuc2V0KGlwLCB7XHJcbiAgICBpcCxcclxuICAgIHJlYXNvbixcclxuICAgIGJsb2NrZWRBdDogbm93LFxyXG4gICAgZXhwaXJlc0F0LFxyXG4gICAgcGVybWFuZW50LFxyXG4gIH0pO1xyXG4gIFxyXG4gIHNlY3VyaXR5TG9nZ2VyLmxvZ1NlY3VyaXR5RXZlbnQoJ0lQIEJsb2NrZWQnLCB7XHJcbiAgICBpcCxcclxuICAgIHJlYXNvbixcclxuICAgIHBlcm1hbmVudCxcclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFVuYmxvY2sgYW4gSVAgYWRkcmVzc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHVuYmxvY2tJUChpcDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgY29uc3QgYmxvY2tlZCA9IGJsb2NrZWRJUHMuZ2V0KGlwKTtcclxuICBpZiAoIWJsb2NrZWQpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgXHJcbiAgaWYgKGJsb2NrZWQucGVybWFuZW50KSB7XHJcbiAgICByZXR1cm4gZmFsc2U7IC8vIENhbm5vdCB1bmJsb2NrIHBlcm1hbmVudCBibG9ja3NcclxuICB9XHJcbiAgXHJcbiAgYmxvY2tlZElQcy5kZWxldGUoaXApO1xyXG4gIHRocmVhdFNjb3Jlcy5kZWxldGUoaXApO1xyXG4gIHN1c3BpY2lvdXNJUHMuZGVsZXRlKGlwKTtcclxuICBcclxuICBzZWN1cml0eUxvZ2dlci5sb2dTZWN1cml0eUV2ZW50KCdJUCBVbmJsb2NrZWQnLCB7IGlwIH0pO1xyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgYW4gSVAgaXMgYmxvY2tlZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzSVBCbG9ja2VkKGlwOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICBjb25zdCBibG9ja2VkID0gYmxvY2tlZElQcy5nZXQoaXApO1xyXG4gIGlmICghYmxvY2tlZCkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuICBcclxuICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG4gIFxyXG4gIC8vIENoZWNrIGlmIGJsb2NrIGhhcyBleHBpcmVkXHJcbiAgaWYgKCFibG9ja2VkLnBlcm1hbmVudCAmJiBub3cgPiBibG9ja2VkLmV4cGlyZXNBdCkge1xyXG4gICAgYmxvY2tlZElQcy5kZWxldGUoaXApO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuICBcclxuICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBibG9jayBpbmZvIGZvciBhbiBJUFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEJsb2NrSW5mbyhpcDogc3RyaW5nKTogQmxvY2tlZElQIHwgbnVsbCB7XHJcbiAgcmV0dXJuIGJsb2NrZWRJUHMuZ2V0KGlwKSB8fCBudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgSVAgaXMgc3VzcGljaW91c1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzU3VzcGljaW91cyhpcDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIHN1c3BpY2lvdXNJUHMuaGFzKGlwKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCB0aHJlYXQgc2NvcmUgZm9yIGFuIElQXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGhyZWF0U2NvcmUoaXA6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgY29uc3QgdGhyZWF0ID0gdGhyZWF0U2NvcmVzLmdldChpcCk7XHJcbiAgcmV0dXJuIHRocmVhdCA/IHRocmVhdC5zY29yZSA6IDA7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZXRlY3QgbWFsaWNpb3VzIHVzZXIgYWdlbnRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RNYWxpY2lvdXNVc2VyQWdlbnQodXNlckFnZW50OiBzdHJpbmcpOiBib29sZWFuIHtcclxuICByZXR1cm4gKFxyXG4gICAgTUFMSUNJT1VTX1VTRVJfQUdFTlRTLnNvbWUocGF0dGVybiA9PiBwYXR0ZXJuLnRlc3QodXNlckFnZW50KSkgfHxcclxuICAgIFNDQU5ORVJfUEFUVEVSTlMuc29tZShwYXR0ZXJuID0+IHBhdHRlcm4udGVzdCh1c2VyQWdlbnQpKVxyXG4gICk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZXRlY3Qgc3VzcGljaW91cyBiZWhhdmlvciBwYXR0ZXJuc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGRldGVjdFN1c3BpY2lvdXNCZWhhdmlvcihcclxuICBpcDogc3RyaW5nLFxyXG4gIHJlcXVlc3RDb3VudDogbnVtYmVyLFxyXG4gIHRpbWVXaW5kb3c6IG51bWJlciAvLyBpbiBzZWNvbmRzXHJcbik6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IHJlcXVlc3RSYXRlID0gcmVxdWVzdENvdW50IC8gdGltZVdpbmRvdztcclxuICBcclxuICAvLyBNb3JlIHRoYW4gMTAgcmVxdWVzdHMgcGVyIHNlY29uZCBpcyBzdXNwaWNpb3VzXHJcbiAgaWYgKHJlcXVlc3RSYXRlID4gMTApIHtcclxuICAgIGNhbGN1bGF0ZVRocmVhdFNjb3JlKGlwLCAnSGlnaCByZXF1ZXN0IHJhdGUnLCAnbWVkaXVtJyk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG4vKipcclxuICogUmVwb3J0IHNlY3VyaXR5IGluY2lkZW50XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVwb3J0U2VjdXJpdHlJbmNpZGVudChcclxuICBpcDogc3RyaW5nLFxyXG4gIGluY2lkZW50VHlwZTogc3RyaW5nLFxyXG4gIGRldGFpbHM6IGFueSxcclxuICBzZXZlcml0eTogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJyB8ICdjcml0aWNhbCcgPSAnbWVkaXVtJ1xyXG4pOiB2b2lkIHtcclxuICBjYWxjdWxhdGVUaHJlYXRTY29yZShpcCwgaW5jaWRlbnRUeXBlLCBzZXZlcml0eSk7XHJcbiAgXHJcbiAgc2VjdXJpdHlMb2dnZXIubG9nU2VjdXJpdHlFdmVudCgnU2VjdXJpdHkgSW5jaWRlbnQnLCB7XHJcbiAgICBpcCxcclxuICAgIHR5cGU6IGluY2lkZW50VHlwZSxcclxuICAgIHNldmVyaXR5LFxyXG4gICAgZGV0YWlscyxcclxuICAgIHRocmVhdFNjb3JlOiBnZXRUaHJlYXRTY29yZShpcCksXHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgbGlzdCBvZiBibG9ja2VkIElQc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEJsb2NrZWRJUHMoKTogQmxvY2tlZElQW10ge1xyXG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgY29uc3QgYmxvY2tlZDogQmxvY2tlZElQW10gPSBbXTtcclxuICBcclxuICBmb3IgKGNvbnN0IFtpcCwgaW5mb10gb2YgYmxvY2tlZElQcy5lbnRyaWVzKCkpIHtcclxuICAgIC8vIFJlbW92ZSBleHBpcmVkIGJsb2Nrc1xyXG4gICAgaWYgKCFpbmZvLnBlcm1hbmVudCAmJiBub3cgPiBpbmZvLmV4cGlyZXNBdCkge1xyXG4gICAgICBibG9ja2VkSVBzLmRlbGV0ZShpcCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBibG9ja2VkLnB1c2goaW5mbyk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBibG9ja2VkO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IHN1c3BpY2lvdXMgSVBzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3VzcGljaW91c0lQcygpOiBBcnJheTx7IGlwOiBzdHJpbmc7IHNjb3JlOiBudW1iZXI7IGluY2lkZW50czogc3RyaW5nW10gfT4ge1xyXG4gIGNvbnN0IHN1c3BpY2lvdXM6IEFycmF5PHsgaXA6IHN0cmluZzsgc2NvcmU6IG51bWJlcjsgaW5jaWRlbnRzOiBzdHJpbmdbXSB9PiA9IFtdO1xyXG4gIFxyXG4gIGZvciAoY29uc3QgaXAgb2Ygc3VzcGljaW91c0lQcykge1xyXG4gICAgY29uc3QgdGhyZWF0ID0gdGhyZWF0U2NvcmVzLmdldChpcCk7XHJcbiAgICBpZiAodGhyZWF0KSB7XHJcbiAgICAgIHN1c3BpY2lvdXMucHVzaCh7XHJcbiAgICAgICAgaXAsXHJcbiAgICAgICAgc2NvcmU6IHRocmVhdC5zY29yZSxcclxuICAgICAgICBpbmNpZGVudHM6IHRocmVhdC5pbmNpZGVudHMsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICByZXR1cm4gc3VzcGljaW91cy5zb3J0KChhLCBiKSA9PiBiLnNjb3JlIC0gYS5zY29yZSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiBJUCBpcyBmcm9tIFRvciBuZXR3b3JrIChiYXNpYyBjaGVjaylcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1RvcklQKGlwOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAvLyBUaGlzIGlzIGEgYmFzaWMgaW1wbGVtZW50YXRpb25cclxuICAvLyBJbiBwcm9kdWN0aW9uLCB1c2UgYSBUb3IgZXhpdCBub2RlIGxpc3QgQVBJXHJcbiAgY29uc3QgdG9yUGF0dGVybnMgPSBbXHJcbiAgICAvXjE4NVxcLjIyMFxcLi8sXHJcbiAgICAvXjc3XFwuMjQ3XFwuLyxcclxuICBdO1xyXG4gIFxyXG4gIHJldHVybiB0b3JQYXR0ZXJucy5zb21lKHBhdHRlcm4gPT4gcGF0dGVybi50ZXN0KGlwKSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBbmFseXplIHJlcXVlc3QgZm9yIHRocmVhdHNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhbmFseXplUmVxdWVzdChkYXRhOiB7XHJcbiAgaXA6IHN0cmluZztcclxuICB1c2VyQWdlbnQ6IHN0cmluZztcclxuICBwYXRoOiBzdHJpbmc7XHJcbiAgbWV0aG9kOiBzdHJpbmc7XHJcbiAgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcclxuICBib2R5PzogYW55O1xyXG59KToge1xyXG4gIHNhZmU6IGJvb2xlYW47XHJcbiAgdGhyZWF0czogc3RyaW5nW107XHJcbiAgdGhyZWF0U2NvcmU6IG51bWJlcjtcclxufSB7XHJcbiAgY29uc3QgdGhyZWF0czogc3RyaW5nW10gPSBbXTtcclxuICBsZXQgY3VycmVudFNjb3JlID0gZ2V0VGhyZWF0U2NvcmUoZGF0YS5pcCk7XHJcbiAgXHJcbiAgLy8gQ2hlY2sgaWYgSVAgaXMgYmxvY2tlZFxyXG4gIGlmIChpc0lQQmxvY2tlZChkYXRhLmlwKSkge1xyXG4gICAgdGhyZWF0cy5wdXNoKCdJUCBpcyBibG9ja2VkJyk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIENoZWNrIHVzZXIgYWdlbnRcclxuICBpZiAoZGV0ZWN0TWFsaWNpb3VzVXNlckFnZW50KGRhdGEudXNlckFnZW50KSkge1xyXG4gICAgdGhyZWF0cy5wdXNoKCdNYWxpY2lvdXMgdXNlciBhZ2VudCBkZXRlY3RlZCcpO1xyXG4gICAgY3VycmVudFNjb3JlID0gY2FsY3VsYXRlVGhyZWF0U2NvcmUoZGF0YS5pcCwgJ01hbGljaW91cyB1c2VyIGFnZW50JywgJ2hpZ2gnKTtcclxuICB9XHJcbiAgXHJcbiAgLy8gQ2hlY2sgZm9yIHNjYW5uaW5nIGJlaGF2aW9yXHJcbiAgaWYgKGRhdGEucGF0aC5pbmNsdWRlcygnLi4nKSB8fCBkYXRhLnBhdGguaW5jbHVkZXMoJyUyZScpKSB7XHJcbiAgICB0aHJlYXRzLnB1c2goJ1BhdGggdHJhdmVyc2FsIGF0dGVtcHQnKTtcclxuICAgIGN1cnJlbnRTY29yZSA9IGNhbGN1bGF0ZVRocmVhdFNjb3JlKGRhdGEuaXAsICdQYXRoIHRyYXZlcnNhbCcsICdoaWdoJyk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIENoZWNrIGZvciBhZG1pbiBwYW5lbCBzY2FubmluZ1xyXG4gIGNvbnN0IGFkbWluUGF0aHMgPSBbJy9hZG1pbicsICcvd3AtYWRtaW4nLCAnL3BocG15YWRtaW4nLCAnLy5lbnYnLCAnLy5naXQnXTtcclxuICBpZiAoYWRtaW5QYXRocy5zb21lKHBhdGggPT4gZGF0YS5wYXRoLmluY2x1ZGVzKHBhdGgpKSkge1xyXG4gICAgY3VycmVudFNjb3JlID0gY2FsY3VsYXRlVGhyZWF0U2NvcmUoZGF0YS5pcCwgJ0FkbWluIHBhbmVsIHNjYW5uaW5nJywgJ21lZGl1bScpO1xyXG4gIH1cclxuICBcclxuICAvLyBDaGVjayBmb3Igc3VzcGljaW91cyBoZWFkZXJzXHJcbiAgaWYgKGRhdGEuaGVhZGVyc1sneC1mb3J3YXJkZWQtZm9yJ10/LnNwbGl0KCcsJykubGVuZ3RoID4gNSkge1xyXG4gICAgdGhyZWF0cy5wdXNoKCdTdXNwaWNpb3VzIHByb3h5IGNoYWluJyk7XHJcbiAgICBjdXJyZW50U2NvcmUgPSBjYWxjdWxhdGVUaHJlYXRTY29yZShkYXRhLmlwLCAnUHJveHkgY2hhaW4nLCAnbG93Jyk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIENoZWNrIGlmIGZyb20gVG9yXHJcbiAgaWYgKGlzVG9ySVAoZGF0YS5pcCkpIHtcclxuICAgIHRocmVhdHMucHVzaCgnVG9yIGV4aXQgbm9kZSBkZXRlY3RlZCcpO1xyXG4gICAgY3VycmVudFNjb3JlID0gY2FsY3VsYXRlVGhyZWF0U2NvcmUoZGF0YS5pcCwgJ1RvciB1c2FnZScsICdsb3cnKTtcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIHtcclxuICAgIHNhZmU6IHRocmVhdHMubGVuZ3RoID09PSAwLFxyXG4gICAgdGhyZWF0cyxcclxuICAgIHRocmVhdFNjb3JlOiBjdXJyZW50U2NvcmUsXHJcbiAgfTtcclxufVxyXG5cclxuLy8gQ2xlYW4gdXAgb2xkIGRhdGEgZXZlcnkgaG91clxyXG5zZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICBjb25zdCBtYXhBZ2UgPSA3ICogMjQgKiA2MCAqIDYwICogMTAwMDsgLy8gNyBkYXlzXHJcbiAgXHJcbiAgLy8gQ2xlYW4gdGhyZWF0IHNjb3Jlc1xyXG4gIGZvciAoY29uc3QgW2lwLCB0aHJlYXRdIG9mIHRocmVhdFNjb3Jlcy5lbnRyaWVzKCkpIHtcclxuICAgIGlmIChub3cgLSB0aHJlYXQubGFzdFNlZW4gPiBtYXhBZ2UpIHtcclxuICAgICAgdGhyZWF0U2NvcmVzLmRlbGV0ZShpcCk7XHJcbiAgICAgIHN1c3BpY2lvdXNJUHMuZGVsZXRlKGlwKTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLy8gTGltaXQgc2l6ZVxyXG4gIGlmICh0aHJlYXRTY29yZXMuc2l6ZSA+IE1BWF9USFJFQVRfSElTVE9SWSkge1xyXG4gICAgY29uc3Qgc29ydGVkID0gQXJyYXkuZnJvbSh0aHJlYXRTY29yZXMuZW50cmllcygpKVxyXG4gICAgICAuc29ydCgoYSwgYikgPT4gYVsxXS5sYXN0U2VlbiAtIGJbMV0ubGFzdFNlZW4pO1xyXG4gICAgXHJcbiAgICBjb25zdCB0b1JlbW92ZSA9IHNvcnRlZC5zbGljZSgwLCBzb3J0ZWQubGVuZ3RoIC0gTUFYX1RIUkVBVF9ISVNUT1JZKTtcclxuICAgIHRvUmVtb3ZlLmZvckVhY2goKFtpcF0pID0+IHtcclxuICAgICAgdGhyZWF0U2NvcmVzLmRlbGV0ZShpcCk7XHJcbiAgICAgIHN1c3BpY2lvdXNJUHMuZGVsZXRlKGlwKTtcclxuICAgIH0pO1xyXG4gIH1cclxufSwgNjAgKiA2MCAqIDEwMDApO1xyXG5cclxuIl0sIm5hbWVzIjpbInNlY3VyaXR5TG9nZ2VyIiwidGhyZWF0U2NvcmVzIiwiTWFwIiwiYmxvY2tlZElQcyIsInN1c3BpY2lvdXNJUHMiLCJTZXQiLCJUSFJFQVRfU0NPUkVfVEhSRVNIT0xEIiwiVEhSRUFUX1NDT1JFX0RFQ0FZX1JBVEUiLCJBVVRPX0JMT0NLX0RVUkFUSU9OIiwiTUFYX1RIUkVBVF9ISVNUT1JZIiwiTUFMSUNJT1VTX1VTRVJfQUdFTlRTIiwiU0NBTk5FUl9QQVRURVJOUyIsImNhbGN1bGF0ZVRocmVhdFNjb3JlIiwiaXAiLCJpbmNpZGVudFR5cGUiLCJzZXZlcml0eSIsIm5vdyIsIkRhdGUiLCJ0aHJlYXQiLCJnZXQiLCJzY29yZSIsImluY2lkZW50cyIsImZpcnN0U2VlbiIsImxhc3RTZWVuIiwiaG91cnNTaW5jZUxhc3RTZWVuIiwiTWF0aCIsIm1heCIsInNldmVyaXR5U2NvcmVzIiwibG93IiwibWVkaXVtIiwiaGlnaCIsImNyaXRpY2FsIiwicHVzaCIsImxlbmd0aCIsInNsaWNlIiwic2V0IiwiYmxvY2tJUCIsImFkZCIsInJlYXNvbiIsInBlcm1hbmVudCIsImV4cGlyZXNBdCIsImJsb2NrZWRBdCIsImxvZ1NlY3VyaXR5RXZlbnQiLCJ1bmJsb2NrSVAiLCJibG9ja2VkIiwiZGVsZXRlIiwiaXNJUEJsb2NrZWQiLCJnZXRCbG9ja0luZm8iLCJpc1N1c3BpY2lvdXMiLCJoYXMiLCJnZXRUaHJlYXRTY29yZSIsImRldGVjdE1hbGljaW91c1VzZXJBZ2VudCIsInVzZXJBZ2VudCIsInNvbWUiLCJwYXR0ZXJuIiwidGVzdCIsImRldGVjdFN1c3BpY2lvdXNCZWhhdmlvciIsInJlcXVlc3RDb3VudCIsInRpbWVXaW5kb3ciLCJyZXF1ZXN0UmF0ZSIsInJlcG9ydFNlY3VyaXR5SW5jaWRlbnQiLCJkZXRhaWxzIiwidHlwZSIsInRocmVhdFNjb3JlIiwiZ2V0QmxvY2tlZElQcyIsImluZm8iLCJlbnRyaWVzIiwiZ2V0U3VzcGljaW91c0lQcyIsInN1c3BpY2lvdXMiLCJzb3J0IiwiYSIsImIiLCJpc1RvcklQIiwidG9yUGF0dGVybnMiLCJhbmFseXplUmVxdWVzdCIsImRhdGEiLCJ0aHJlYXRzIiwiY3VycmVudFNjb3JlIiwicGF0aCIsImluY2x1ZGVzIiwiYWRtaW5QYXRocyIsImhlYWRlcnMiLCJzcGxpdCIsInNhZmUiLCJzZXRJbnRlcnZhbCIsIm1heEFnZSIsInNpemUiLCJzb3J0ZWQiLCJBcnJheSIsImZyb20iLCJ0b1JlbW92ZSIsImZvckVhY2giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/threat-detection.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/drizzle-orm","vendor-chunks/@neondatabase","vendor-chunks/semver","vendor-chunks/bcryptjs","vendor-chunks/jsonwebtoken","vendor-chunks/lodash.includes","vendor-chunks/jws","vendor-chunks/jwa","vendor-chunks/lodash.once","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/lodash.isplainobject","vendor-chunks/ms","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/buffer-equal-constant-time"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.ts&appDir=C%3A%5CUsers%5Cadhit%5CDesktop%5Clms-platform%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cadhit%5CDesktop%5Clms-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();